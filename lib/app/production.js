steal.packages({});
steal.has("stealconfig.js","app/app.js","can/construct/proxy/proxy.js","can/util/jquery/jquery.js","jquery","can/util/can.js","can/util/array/each.js","can/construct/construct.js","can/util/string/string.js","can/construct/super/super.js","can/control/control.js","can/view/ejs/ejs.js","can/view/view.js","can/observe/compute/compute.js","can/view/scanner.js","can/view/render.js","can/view/modifiers/modifiers.js","ui/position/position.js","ui/datepicker/datepicker.js","ui/popover/popover.js","can/util/function/function.js",
"can/control/plugin/plugin.js","can/control/modifier/modifier.js","steal/less/less.js","ui/popover/views/init.ejs","ui/textinput/textinput.js","ui/picker/picker.js","ui/typeahead/typeahead.js","can/observe/elements/elements.js","can/observe/observe.js","ui/dropdown/dropdown.js","ui/typeahead/views/list.ejs","util/cookie.js","util/json.js","app/views/login.ejs","app/views/signup.ejs","app/views/task.ejs","app/views/score_summary.ejs","app/models.js","can/model/model.js","can/model/list/list.js","app/models/task.js",
"app/models/database.js","can/observe/attributes/attributes.js","app/models/comment.js","app/models/attachment.js","app/models/project.js","app/models/post.js","app/models/user/user.js","app/models/activity.js","app/models/connection.js","app/models/oauth.js","util/2.5.3-crypto-sha1-hmac.js");steal({id:"app/production.css",waits:!0,has:"ui/datepicker/datepicker.css ui/popover/popover.less ui/textinput/textinput.css ui/dropdown/dropdown.less ui/typeahead/typeahead.css ui/picker/picker.css app/app.less".split(" ")});
steal.pushPending();
steal.config({map:{"*":{"jquery/jquery.js":"jquery","can/util/util.js":"can/util/jquery/jquery.js","lib/2.5.3-crypto-sha1-hmac.js":"util/2.5.3-crypto-sha1-hmac.js"}},paths:{jquery:"can/lib/jquery.1.8.3.js","mootools/mootools.js":"can/lib/mootools-core-1.4.3.js","dojo/dojo.js":"can/util/dojo/dojo-1.8.1.js","yui/yui.js":"can/lib/yui-3.7.3.js","zepto/zepto.js":"can/lib/zepto.1.0rc1.js"},shim:{jquery:{exports:"jQuery"}},ext:{js:"js",css:"css",less:"steal/less/less.js",coffee:"steal/coffee/coffee.js",ejs:"can/view/ejs/ejs.js",
mustache:"can/view/mustache/mustache.js"}});steal.executed("stealconfig.js");
steal("can/construct/proxy","can/construct/super","can/control","can/view/ejs","can/view/modifiers").then("ui/position","ui/datepicker","ui/popover","ui/textinput","ui/picker","util/cookie.js","./views/login.ejs","./views/signup.ejs","./views/task.ejs","./views/score_summary.ejs","./app.less","./models",function(){Cohuman.mode="qea";Cohuman.config=Cohuman.env[Cohuman.mode];Cohuman.config.mobile=!0;can.Control("OpenSocial",{setup:function(a,d){d=d||{};this.opener=a;var e=$('<div class="splash tasks-app" />').appendTo(document.body);
e.wrap('<div class="tasks-wrapper" />');d.wrapper=e.parent();this._super(e,d)},init:function(){this.element.height($(window).height()/2);this.options.id&&this.element.position({my:"left center",at:"right center",of:this.opener});Cohuman.oauth=new Cohuman.Models.OAuth(Cohuman.config.api);Cohuman.oauth.prefilter();var a=$.cookie("cohuman_sess");a?(Cohuman.oauth.attr(a),this.task()):this.login()},login:function(){this.element.append("app/views/login.ejs",{});this.element.find(".email").focus()},"form[name=login] submit":function(){Cohuman.Models.User.login({name:this.element.find(".email").val(),
password:this.element.find(".password").val()},this.proxy(function(a,d){$.cookie("cohuman_sess",$.toJSON({token:d.access_token.oauth_token,token_secret:d.access_token.oauth_token_secret}));this.task()}),function(){alert("Login failed!  Try again.")});return!1},task:function(){$.when.apply($,[Cohuman.Models.Task.findOne({id:this.options.id||"29389"}),Cohuman.Models.User.findOne({}),Cohuman.Models.Project.findAll()]).done(this.proxy(function(a,d,e){a.user=d;d.task=a;d.projects=e;this.task=a;this.user=
d;this.element.removeClass("splash");this.element.html("app/views/task.ejs",{task:a,user:d,project:e,parentDom:this.options.wrapper}).removeClass("loading")}))},"{wrapper} mouseenter":function(){clearTimeout(this.timeout)},"{wrapper} mouseleave":function(){this.timeout=setTimeout(this.proxy(function(){this.options.id&&this.options.wrapper.remove()}),1E3)},"#title change":function(a,d,e){this.task.update({name:e})},".finish click":function(){this.options.wrapper.remove()},".assign click":function(a,
d){d.stopPropagation();this.element.find("#assigned").focus()},".add-btn click":function(a,d){d.stopPropagation();var e=a.prev();e.toggle();a.closest("ul").find(".follower").toggle();e.is(":visible")&&e.children("input").focus()},"#assigned change":function(a,d,e){this.task.setOwner({id:e.id})},"#start_date changeDate":function(a,d){var e=new Date(d.timeStamp);this.task.update({start_date:e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()})},"#due_date changeDate":function(a,d){var e=new Date(d.timeStamp);
this.task.update({due_date:e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()})},"#project change":function(a,d,e){this.task.setProject({id:e.id})},".comment keydown":function(a,d){if(13===d.keyCode){var e=a.val();Cohuman.Models.Comment.create({task_id:this.task.id,text:e,user:this.user}).done(this.proxy(function(b){a.val("");this.task.comments.unshift(b)}))}}})});steal.executed("app/app.js");
steal("can/util","can/construct",function(a){var d=a.isArray,e=a.makeArray;a.Construct.proxy=a.Construct.prototype.proxy=function(a){var c=e(arguments),j,a=c.shift();d(a)||(a=[a]);j=this;return function(){for(var k=c.concat(e(arguments)),l,r=a.length,i=0,m;i<r;i++)if(m=a[i])l="string"==typeof m,k=(l?j[m]:m).apply(j,k||[]),i<r-1&&(k=!d(k)||k._use_call?[k]:k);return k}};return a});steal.executed("can/construct/proxy/proxy.js");
steal("jquery","can/util/can.js","can/util/array/each.js",function(a,d){a.extend(d,a,{trigger:function(b,d,e){b.trigger?b.trigger(d,e):a.event.trigger(d,e,b,!0)},addEvent:function(b,d){a([this]).bind(b,d);return this},removeEvent:function(b,d){a([this]).unbind(b,d);return this},buildFragment:function(b,d){var e=a.buildFragment([b],a(d));return e.cacheable?a.clone(e.fragment):e.fragment},$:a,each:d.each});a.each(["bind","unbind","undelegate","delegate"],function(b,c){d[c]=function(){var b=this[c]?
this:a([this]);b[c].apply(b,arguments);return this}});a.each("append filter addClass remove data get".split(" "),function(a,c){d[c]=function(a){return a[c].apply(a,d.makeArray(arguments).slice(1))}});var e=a.cleanData;a.cleanData=function(b){a.each(b,function(a,b){b&&d.trigger(b,"destroyed",[],!1)});e(b)};return d});steal.executed("can/util/jquery/jquery.js");
(function(a,d){function e(g){var a=Ca[g]={};f.each(g.split(T),function(g,f){a[f]=!0});return a}function b(g,a,h){if(h===d&&1===g.nodeType)if(h="data-"+a.replace(fb,"-$1").toLowerCase(),h=g.getAttribute(h),"string"===typeof h){try{h="true"===h?!0:"false"===h?!1:"null"===h?null:+h+""===h?+h:gb.test(h)?f.parseJSON(h):h}catch(b){}f.data(g,a,h)}else h=d;return h}function c(g){for(var a in g)if(!("data"===a&&f.isEmptyObject(g[a]))&&"toJSON"!==a)return!1;return!0}function j(){return!1}function k(){return!0}
function l(g){return!g||!g.parentNode||11===g.parentNode.nodeType}function r(g,a){do g=g[a];while(g&&1!==g.nodeType);return g}function i(g,a,h){a=a||0;if(f.isFunction(a))return f.grep(g,function(g,f){return!!a.call(g,f,g)===h});if(a.nodeType)return f.grep(g,function(g){return g===a===h});if("string"===typeof a){var b=f.grep(g,function(g){return 1===g.nodeType});if(hb.test(a))return f.filter(a,b,!h);a=f.filter(a,b)}return f.grep(g,function(g){return 0<=f.inArray(g,a)===h})}function m(g){var a=Da.split("|"),
g=g.createDocumentFragment();if(g.createElement)for(;a.length;)g.createElement(a.pop());return g}function s(g,a){if(1===a.nodeType&&f.hasData(g)){var h,b,d;b=f._data(g);var c=f._data(a,b),e=b.events;if(e)for(h in delete c.handle,c.events={},e){b=0;for(d=e[h].length;b<d;b++)f.event.add(a,h,e[h][b])}c.data&&(c.data=f.extend({},c.data))}}function o(g,a){var h;if(1===a.nodeType){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(g);h=a.nodeName.toLowerCase();if("object"===h){if(a.parentNode&&
(a.outerHTML=g.outerHTML),f.support.html5Clone&&g.innerHTML&&!f.trim(a.innerHTML))a.innerHTML=g.innerHTML}else"input"===h&&Ea.test(g.type)?(a.defaultChecked=a.checked=g.checked,a.value!==g.value&&(a.value=g.value)):"option"===h?a.selected=g.defaultSelected:"input"===h||"textarea"===h?a.defaultValue=g.defaultValue:"script"===h&&a.text!==g.text&&(a.text=g.text);a.removeAttribute(f.expando)}}function q(g){return"undefined"!==typeof g.getElementsByTagName?g.getElementsByTagName("*"):"undefined"!==typeof g.querySelectorAll?
g.querySelectorAll("*"):[]}function p(g){Ea.test(g.type)&&(g.defaultChecked=g.checked)}function v(g,a){if(a in g)return a;for(var h=a.charAt(0).toUpperCase()+a.slice(1),f=a,b=Fa.length;b--;)if(a=Fa[b]+h,a in g)return a;return f}function n(g,a){g=a||g;return"none"===f.css(g,"display")||!f.contains(g.ownerDocument,g)}function A(g,a){for(var h,b,d=[],c=0,e=g.length;c<e;c++)h=g[c],h.style&&(d[c]=f._data(h,"olddisplay"),a?(!d[c]&&"none"===h.style.display&&(h.style.display=""),""===h.style.display&&n(h)&&
(d[c]=f._data(h,"olddisplay",B(h.nodeName)))):(b=K(h,"display"),!d[c]&&"none"!==b&&f._data(h,"olddisplay",b)));for(c=0;c<e;c++)if(h=g[c],h.style&&(!a||"none"===h.style.display||""===h.style.display))h.style.display=a?d[c]||"":"none";return g}function t(g,a,h){return(g=ib.exec(a))?Math.max(0,g[1]-(h||0))+(g[2]||"px"):a}function y(g,a,h,b){for(var a=h===(b?"border":"content")?4:"width"===a?1:0,d=0;4>a;a+=2)"margin"===h&&(d+=f.css(g,h+Y[a],!0)),b?("content"===h&&(d-=parseFloat(K(g,"padding"+Y[a]))||
0),"margin"!==h&&(d-=parseFloat(K(g,"border"+Y[a]+"Width"))||0)):(d+=parseFloat(K(g,"padding"+Y[a]))||0,"padding"!==h&&(d+=parseFloat(K(g,"border"+Y[a]+"Width"))||0));return d}function z(g,a,h){var b="width"===a?g.offsetWidth:g.offsetHeight,d=!0,c=f.support.boxSizing&&"border-box"===f.css(g,"boxSizing");if(0>=b||null==b){b=K(g,a);if(0>b||null==b)b=g.style[a];if(ja.test(b))return b;d=c&&(f.support.boxSizingReliable||b===g.style[a]);b=parseFloat(b)||0}return b+y(g,a,h||(c?"border":"content"),d)+"px"}
function B(g){if(sa[g])return sa[g];var a=f("<"+g+">").appendTo(u.body),h=a.css("display");a.remove();if("none"===h||""===h){U=u.body.appendChild(U||f.extend(u.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!da||!U.createElement)da=(U.contentWindow||U.contentDocument).document,da.write("<!doctype html><html><body>"),da.close();a=da.body.appendChild(da.createElement(g));h=K(a,"display");u.body.removeChild(U)}return sa[g]=h}function C(g,a,h,b){var d;if(f.isArray(a))f.each(a,function(a,
w){h||jb.test(g)?b(g,w):C(g+"["+("object"===typeof w?a:"")+"]",w,h,b)});else if(!h&&"object"===f.type(a))for(d in a)C(g+"["+d+"]",a[d],h,b);else b(g,a)}function E(g){return function(a,h){"string"!==typeof a&&(h=a,a="*");var b,d,c=a.toLowerCase().split(T),e=0,i=c.length;if(f.isFunction(h))for(;e<i;e++)b=c[e],(d=/^\+/.test(b))&&(b=b.substr(1)||"*"),b=g[b]=g[b]||[],b[d?"unshift":"push"](h)}}function N(g,a,h,f,b,c){b=b||a.dataTypes[0];c=c||{};c[b]=!0;for(var e,b=g[b],i=0,j=b?b.length:0,k=g===ta;i<j&&
(k||!e);i++)e=b[i](a,h,f),"string"===typeof e&&(!k||c[e]?e=d:(a.dataTypes.unshift(e),e=N(g,a,h,f,e,c)));if((k||!e)&&!c["*"])e=N(g,a,h,f,"*",c);return e}function L(g,a){var h,b,c=f.ajaxSettings.flatOptions||{};for(h in a)a[h]!==d&&((c[h]?g:b||(b={}))[h]=a[h]);b&&f.extend(!0,g,b)}function M(){try{return new a.XMLHttpRequest}catch(g){}}function S(){setTimeout(function(){ea=d},0);return ea=f.now()}function O(g,a){f.each(a,function(a,w){for(var f=(ga[a]||[]).concat(ga["*"]),b=0,d=f.length;b<d&&!f[b].call(g,
a,w);b++);})}function D(g,a,h){var b=0,d=ka.length,c=f.Deferred().always(function(){delete e.elem}),e=function(){for(var a=ea||S(),a=Math.max(0,i.startTime+i.duration-a),w=1-(a/i.duration||0),h=0,f=i.tweens.length;h<f;h++)i.tweens[h].run(w);c.notifyWith(g,[i,w,a]);if(1>w&&f)return a;c.resolveWith(g,[i]);return!1},i=c.promise({elem:g,props:f.extend({},a),opts:f.extend(!0,{specialEasing:{}},h),originalProperties:a,originalOptions:h,startTime:ea||S(),duration:h.duration,tweens:[],createTween:function(a,
w){var h=f.Tween(g,i.opts,a,w,i.opts.specialEasing[a]||i.opts.easing);i.tweens.push(h);return h},stop:function(a){for(var w=0,h=a?i.tweens.length:0;w<h;w++)i.tweens[w].run(1);a?c.resolveWith(g,[i,a]):c.rejectWith(g,[i,a]);return this}}),h=i.props;for(ha(h,i.opts.specialEasing);b<d;b++)if(a=ka[b].call(i,g,h,i.opts))return a;O(i,h);f.isFunction(i.opts.start)&&i.opts.start.call(g,i);f.fx.timer(f.extend(e,{anim:i,queue:i.opts.queue,elem:g}));return i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}
function ha(g,a){var h,b,d,c,e;for(h in g)if(b=f.camelCase(h),d=a[b],c=g[h],f.isArray(c)&&(d=c[1],c=g[h]=c[0]),h!==b&&(g[b]=c,delete g[h]),(e=f.cssHooks[b])&&"expand"in e)for(h in c=e.expand(c),delete g[b],c)h in g||(g[h]=c[h],a[h]=d);else a[b]=d}function F(g,a,h,f,b){return new F.prototype.init(g,a,h,f,b)}function J(g,a){for(var h,f={height:g},b=0,a=a?1:0;4>b;b+=2-a)h=Y[b],f["margin"+h]=f["padding"+h]=g;a&&(f.opacity=f.width=g);return f}function R(g){return f.isWindow(g)?g:9===g.nodeType?g.defaultView||
g.parentWindow:!1}var V,x,u=a.document,Z=a.location,G=a.navigator,la=a.jQuery,W=a.$,ma=Array.prototype.push,I=Array.prototype.slice,Ga=Array.prototype.indexOf,kb=Object.prototype.toString,ua=Object.prototype.hasOwnProperty,va=String.prototype.trim,f=function(g,a){return new f.fn.init(g,a,V)},na=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,lb=/\S/,T=/\s+/,mb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nb=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ha=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ob=/^[\],:{}\s]*$/,pb=/(?:^|:|,)(?:\s*\[)+/g,
qb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,sb=/^-ms-/,tb=/-([\da-z])/gi,ub=function(g,a){return(a+"").toUpperCase()},oa=function(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",oa,!1),f.ready()):"complete"===u.readyState&&(u.detachEvent("onreadystatechange",oa),f.ready())},Ia={};f.fn=f.prototype={constructor:f,init:function(g,a,h){var b;if(!g)return this;if(g.nodeType)return this.context=this[0]=g,this.length=1,this;
if("string"===typeof g){if((b="<"===g.charAt(0)&&">"===g.charAt(g.length-1)&&3<=g.length?[null,g,null]:nb.exec(g))&&(b[1]||!a)){if(b[1])return g=(a=a instanceof f?a[0]:a)&&a.nodeType?a.ownerDocument||a:u,g=f.parseHTML(b[1],g,!0),Ha.test(b[1])&&f.isPlainObject(a)&&this.attr.call(g,a,!0),f.merge(this,g);if((a=u.getElementById(b[2]))&&a.parentNode){if(a.id!==b[2])return h.find(g);this.length=1;this[0]=a}this.context=u;this.selector=g;return this}return!a||a.jquery?(a||h).find(g):this.constructor(a).find(g)}if(f.isFunction(g))return h.ready(g);
g.selector!==d&&(this.selector=g.selector,this.context=g.context);return f.makeArray(g,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return I.call(this)},get:function(g){return null==g?this.toArray():0>g?this[this.length+g]:this[g]},pushStack:function(g,a,h){g=f.merge(this.constructor(),g);g.prevObject=this;g.context=this.context;"find"===a?g.selector=this.selector+(this.selector?" ":"")+h:a&&(g.selector=this.selector+"."+a+"("+h+")");return g},
each:function(g,a){return f.each(this,g,a)},ready:function(g){f.ready.promise().done(g);return this},eq:function(g){g=+g;return-1===g?this.slice(g):this.slice(g,g+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(I.apply(this,arguments),"slice",I.call(arguments).join(","))},map:function(g){return this.pushStack(f.map(this,function(a,h){return g.call(a,h,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:ma,sort:[].sort,
splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var g,a,h,b,c,e=arguments[0]||{},i=1,j=arguments.length,k=!1;"boolean"===typeof e&&(k=e,e=arguments[1]||{},i=2);"object"!==typeof e&&!f.isFunction(e)&&(e={});for(j===i&&(e=this,--i);i<j;i++)if(null!=(g=arguments[i]))for(a in g)h=e[a],b=g[a],e!==b&&(k&&b&&(f.isPlainObject(b)||(c=f.isArray(b)))?(c?(c=!1,h=h&&f.isArray(h)?h:[]):h=h&&f.isPlainObject(h)?h:{},e[a]=f.extend(k,h,b)):b!==d&&(e[a]=b));return e};f.extend({noConflict:function(g){a.$===
f&&(a.$=W);g&&a.jQuery===f&&(a.jQuery=la);return f},isReady:!1,readyWait:1,holdReady:function(g){g?f.readyWait++:f.ready(!0)},ready:function(g){if(!(!0===g?--f.readyWait:f.isReady)){if(!u.body)return setTimeout(f.ready,1);f.isReady=!0;!0!==g&&0<--f.readyWait||(x.resolveWith(u,[f]),f.fn.trigger&&f(u).trigger("ready").off("ready"))}},isFunction:function(g){return"function"===f.type(g)},isArray:Array.isArray||function(g){return"array"===f.type(g)},isWindow:function(g){return null!=g&&g==g.window},isNumeric:function(g){return!isNaN(parseFloat(g))&&
isFinite(g)},type:function(g){return null==g?""+g:Ia[kb.call(g)]||"object"},isPlainObject:function(g){if(!g||"object"!==f.type(g)||g.nodeType||f.isWindow(g))return!1;try{if(g.constructor&&!ua.call(g,"constructor")&&!ua.call(g.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var h in g);return h===d||ua.call(g,h)},isEmptyObject:function(g){for(var a in g)return!1;return!0},error:function(g){throw Error(g);},parseHTML:function(g,a,h){var b;if(!g||"string"!==typeof g)return null;
"boolean"===typeof a&&(h=a,a=0);a=a||u;if(b=Ha.exec(g))return[a.createElement(b[1])];b=f.buildFragment([g],a,h?null:[]);return f.merge([],(b.cacheable?f.clone(b.fragment):b.fragment).childNodes)},parseJSON:function(g){if(!g||"string"!==typeof g)return null;g=f.trim(g);if(a.JSON&&a.JSON.parse)return a.JSON.parse(g);if(ob.test(g.replace(qb,"@").replace(rb,"]").replace(pb,"")))return(new Function("return "+g))();f.error("Invalid JSON: "+g)},parseXML:function(g){var w,h;if(!g||"string"!==typeof g)return null;
try{a.DOMParser?(h=new DOMParser,w=h.parseFromString(g,"text/xml")):(w=new ActiveXObject("Microsoft.XMLDOM"),w.async="false",w.loadXML(g))}catch(b){w=d}(!w||!w.documentElement||w.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+g);return w},noop:function(){},globalEval:function(g){g&&lb.test(g)&&(a.execScript||function(g){a.eval.call(a,g)})(g)},camelCase:function(g){return g.replace(sb,"ms-").replace(tb,ub)},nodeName:function(g,a){return g.nodeName&&g.nodeName.toLowerCase()===
a.toLowerCase()},each:function(g,a,h){var b,c=0,e=g.length,i=e===d||f.isFunction(g);if(h)if(i)for(b in g){if(!1===a.apply(g[b],h))break}else for(;c<e&&!1!==a.apply(g[c++],h););else if(i)for(b in g){if(!1===a.call(g[b],b,g[b]))break}else for(;c<e&&!1!==a.call(g[c],c,g[c++]););return g},trim:va&&!va.call("\ufeff\u00a0")?function(g){return null==g?"":va.call(g)}:function(g){return null==g?"":(g+"").replace(mb,"")},makeArray:function(g,a){var h,b=a||[];null!=g&&(h=f.type(g),null==g.length||"string"===
h||"function"===h||"regexp"===h||f.isWindow(g)?ma.call(b,g):f.merge(b,g));return b},inArray:function(g,a,h){var f;if(a){if(Ga)return Ga.call(a,g,h);f=a.length;for(h=h?0>h?Math.max(0,f+h):h:0;h<f;h++)if(h in a&&a[h]===g)return h}return-1},merge:function(g,a){var h=a.length,f=g.length,b=0;if("number"===typeof h)for(;b<h;b++)g[f++]=a[b];else for(;a[b]!==d;)g[f++]=a[b++];g.length=f;return g},grep:function(g,a,h){for(var f,b=[],d=0,c=g.length,h=!!h;d<c;d++)f=!!a(g[d],d),h!==f&&b.push(g[d]);return b},map:function(g,
a,h){var b,c,e=[],i=0,j=g.length;if(g instanceof f||j!==d&&"number"===typeof j&&(0<j&&g[0]&&g[j-1]||0===j||f.isArray(g)))for(;i<j;i++)b=a(g[i],i,h),null!=b&&(e[e.length]=b);else for(c in g)b=a(g[c],c,h),null!=b&&(e[e.length]=b);return e.concat.apply([],e)},guid:1,proxy:function(g,a){var h,b;"string"===typeof a&&(h=g[a],a=g,g=h);if(!f.isFunction(g))return d;b=I.call(arguments,2);h=function(){return g.apply(a,b.concat(I.call(arguments)))};h.guid=g.guid=g.guid||f.guid++;return h},access:function(g,a,
h,b,c,e,i){var j,k=null==h,n=0,m=g.length;if(h&&"object"===typeof h){for(n in h)f.access(g,a,n,h[n],1,e,b);c=1}else if(b!==d){j=i===d&&f.isFunction(b);k&&(j?(j=a,a=function(g,a,h){return j.call(f(g),h)}):(a.call(g,b),a=null));if(a)for(;n<m;n++)a(g[n],h,j?b.call(g[n],n,a(g[n],h)):b,i);c=1}return c?g:k?a.call(g):m?a(g[0],h):e},now:function(){return(new Date).getTime()}});f.ready.promise=function(g){if(!x)if(x=f.Deferred(),"complete"===u.readyState)setTimeout(f.ready,1);else if(u.addEventListener)u.addEventListener("DOMContentLoaded",
oa,!1),a.addEventListener("load",f.ready,!1);else{u.attachEvent("onreadystatechange",oa);a.attachEvent("onload",f.ready);var b=!1;try{b=null==a.frameElement&&u.documentElement}catch(h){}b&&b.doScroll&&function ca(){if(!f.isReady){try{b.doScroll("left")}catch(g){return setTimeout(ca,50)}f.ready()}}()}return x.promise(g)};f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(g,a){Ia["[object "+a+"]"]=a.toLowerCase()});V=f(u);var Ca={};f.Callbacks=function(g){var g="string"===
typeof g?Ca[g]||e(g):f.extend({},g),a,h,b,c,i,j,k=[],n=!g.once&&[],m=function(f){a=g.memory&&f;h=!0;j=c||0;c=0;i=k.length;for(b=!0;k&&j<i;j++)if(!1===k[j].apply(f[0],f[1])&&g.stopOnFalse){a=!1;break}b=!1;k&&(n?n.length&&m(n.shift()):a?k=[]:p.disable())},p={add:function(){if(k){var h=k.length;(function vb(a){f.each(a,function(a,h){var b=f.type(h);"function"===b?(!g.unique||!p.has(h))&&k.push(h):h&&h.length&&"string"!==b&&vb(h)})})(arguments);b?i=k.length:a&&(c=h,m(a))}return this},remove:function(){k&&
f.each(arguments,function(g,a){for(var h;-1<(h=f.inArray(a,k,h));)k.splice(h,1),b&&(h<=i&&i--,h<=j&&j--)});return this},has:function(g){return-1<f.inArray(g,k)},empty:function(){k=[];return this},disable:function(){k=n=a=d;return this},disabled:function(){return!k},lock:function(){n=d;a||p.disable();return this},locked:function(){return!n},fireWith:function(g,a){a=a||[];a=[g,a.slice?a.slice():a];if(k&&(!h||n))b?n.push(a):m(a);return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!h}};
return p};f.extend({Deferred:function(g){var a=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],h="pending",b={state:function(){return h},always:function(){d.done(arguments).fail(arguments);return this},then:function(){var g=arguments;return f.Deferred(function(h){f.each(a,function(a,b){var w=b[0],c=g[a];d[b[1]](f.isFunction(c)?function(){var g=c.apply(this,arguments);if(g&&f.isFunction(g.promise))g.promise().done(h.resolve).fail(h.reject).progress(h.notify);
else h[w+"With"](this===d?h:this,[g])}:h[w])});g=null}).promise()},promise:function(g){return null!=g?f.extend(g,b):b}},d={};b.pipe=b.then;f.each(a,function(g,f){var c=f[2],e=f[3];b[f[1]]=c.add;e&&c.add(function(){h=e},a[g^1][2].disable,a[2][2].lock);d[f[0]]=c.fire;d[f[0]+"With"]=c.fireWith});b.promise(d);g&&g.call(d,d);return d},when:function(g){var a=0,h=I.call(arguments),b=h.length,d=1!==b||g&&f.isFunction(g.promise)?b:0,c=1===d?g:f.Deferred(),e=function(g,a,h){return function(f){a[g]=this;h[g]=
1<arguments.length?I.call(arguments):f;h===i?c.notifyWith(a,h):--d||c.resolveWith(a,h)}},i,j,k;if(1<b){i=Array(b);j=Array(b);for(k=Array(b);a<b;a++)h[a]&&f.isFunction(h[a].promise)?h[a].promise().done(e(a,k,h)).fail(c.reject).progress(e(a,j,i)):--d}d||c.resolveWith(k,h);return c.promise()}});f.support=function(){var g,b,h,d,c,e,i,j=u.createElement("div");j.setAttribute("className","t");j.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=j.getElementsByTagName("*");h=
j.getElementsByTagName("a")[0];if(!b||!h||!b.length)return{};d=u.createElement("select");c=d.appendChild(u.createElement("option"));b=j.getElementsByTagName("input")[0];h.style.cssText="top:1px;float:left;opacity:.5";g={leadingWhitespace:3===j.firstChild.nodeType,tbody:!j.getElementsByTagName("tbody").length,htmlSerialize:!!j.getElementsByTagName("link").length,style:/top/.test(h.getAttribute("style")),hrefNormalized:"/a"===h.getAttribute("href"),opacity:/^0.5/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,
checkOn:"on"===b.value,optSelected:c.selected,getSetAttribute:"t"!==j.className,enctype:!!u.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==u.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===u.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;g.noCloneChecked=b.cloneNode(!0).checked;d.disabled=!0;g.optDisabled=
!c.disabled;try{delete j.test}catch(k){g.deleteExpando=!1}!j.addEventListener&&j.attachEvent&&j.fireEvent&&(j.attachEvent("onclick",h=function(){g.noCloneEvent=!1}),j.cloneNode(!0).fireEvent("onclick"),j.detachEvent("onclick",h));b=u.createElement("input");b.value="t";b.setAttribute("type","radio");g.radioValue="t"===b.value;b.setAttribute("checked","checked");b.setAttribute("name","t");j.appendChild(b);h=u.createDocumentFragment();h.appendChild(j.lastChild);g.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked;
g.appendChecked=b.checked;h.removeChild(b);h.appendChild(j);if(j.attachEvent)for(e in{submit:!0,change:!0,focusin:!0})b="on"+e,(i=b in j)||(j.setAttribute(b,"return;"),i="function"===typeof j[b]),g[e+"Bubbles"]=i;f(function(){var h,f,b,w=u.getElementsByTagName("body")[0];w&&(h=u.createElement("div"),h.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",w.insertBefore(h,w.firstChild),f=u.createElement("div"),h.appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
b=f.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",i=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",g.reliableHiddenOffsets=i&&0===b[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",g.boxSizing=4===f.offsetWidth,g.doesNotIncludeMarginInBodyOffset=1!==w.offsetTop,a.getComputedStyle&&
(g.pixelPosition="1%"!==(a.getComputedStyle(f,null)||{}).top,g.boxSizingReliable="4px"===(a.getComputedStyle(f,null)||{width:"4px"}).width,b=u.createElement("div"),b.style.cssText=f.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",b.style.marginRight=b.style.width="0",f.style.width="1px",f.appendChild(b),g.reliableMarginRight=!parseFloat((a.getComputedStyle(b,null)||{}).marginRight)),"undefined"!==typeof f.style.zoom&&(f.innerHTML="",f.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",
g.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.style.overflow="visible",f.innerHTML="<div></div>",f.firstChild.style.width="5px",g.shrinkWrapBlocks=3!==f.offsetWidth,h.style.zoom=1),w.removeChild(h))});h.removeChild(j);b=h=d=c=b=h=j=null;return g}();var gb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,fb=/([A-Z])/g;f.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},
hasData:function(g){g=g.nodeType?f.cache[g[f.expando]]:g[f.expando];return!!g&&!c(g)},data:function(g,a,h,b){if(f.acceptData(g)){var c=f.expando,e="string"===typeof a,i=g.nodeType,j=i?f.cache:g,k=i?g[c]:g[c]&&c;if(k&&j[k]&&(b||j[k].data)||!(e&&h===d)){k||(i?g[c]=k=f.deletedIds.pop()||f.guid++:k=c);j[k]||(j[k]={},i||(j[k].toJSON=f.noop));if("object"===typeof a||"function"===typeof a)b?j[k]=f.extend(j[k],a):j[k].data=f.extend(j[k].data,a);g=j[k];b||(g.data||(g.data={}),g=g.data);h!==d&&(g[f.camelCase(a)]=
h);e?(h=g[a],null==h&&(h=g[f.camelCase(a)])):h=g;return h}}},removeData:function(g,a,h){if(f.acceptData(g)){var b,d,e,i=g.nodeType,j=i?f.cache:g,k=i?g[f.expando]:f.expando;if(j[k]){if(a&&(b=h?j[k]:j[k].data)){f.isArray(a)||(a in b?a=[a]:(a=f.camelCase(a),a=a in b?[a]:a.split(" ")));d=0;for(e=a.length;d<e;d++)delete b[a[d]];if(!(h?c:f.isEmptyObject)(b))return}if(h||!(delete j[k].data,!c(j[k])))i?f.cleanData([g],!0):f.support.deleteExpando||j!=j.window?delete j[k]:j[k]=null}}},_data:function(g,a,h){return f.data(g,
a,h,!0)},acceptData:function(g){var a=g.nodeName&&f.noData[g.nodeName.toLowerCase()];return!a||!0!==a&&g.getAttribute("classid")===a}});f.fn.extend({data:function(g,a){var h,c,e,i,j,k=this[0],n=0,m=null;if(g===d){if(this.length&&(m=f.data(k),1===k.nodeType&&!f._data(k,"parsedAttrs"))){e=k.attributes;for(j=e.length;n<j;n++)i=e[n].name,i.indexOf("data-")||(i=f.camelCase(i.substring(5)),b(k,i,m[i]));f._data(k,"parsedAttrs",!0)}return m}if("object"===typeof g)return this.each(function(){f.data(this,g)});
h=g.split(".",2);h[1]=h[1]?"."+h[1]:"";c=h[1]+"!";return f.access(this,function(a){if(a===d)return m=this.triggerHandler("getData"+c,[h[0]]),m===d&&k&&(m=f.data(k,g),m=b(k,g,m)),m===d&&h[1]?this.data(h[0]):m;h[1]=a;this.each(function(){var b=f(this);b.triggerHandler("setData"+c,h);f.data(this,g,a);b.triggerHandler("changeData"+c,h)})},null,a,1<arguments.length,null,!1)},removeData:function(g){return this.each(function(){f.removeData(this,g)})}});f.extend({queue:function(g,a,h){var b;if(g)return a=
(a||"fx")+"queue",b=f._data(g,a),h&&(!b||f.isArray(h)?b=f._data(g,a,f.makeArray(h)):b.push(h)),b||[]},dequeue:function(g,a){var a=a||"fx",h=f.queue(g,a),b=h.length,d=h.shift(),c=f._queueHooks(g,a),e=function(){f.dequeue(g,a)};"inprogress"===d&&(d=h.shift(),b--);d&&("fx"===a&&h.unshift("inprogress"),delete c.stop,d.call(g,e,c));!b&&c&&c.empty.fire()},_queueHooks:function(g,a){var h=a+"queueHooks";return f._data(g,h)||f._data(g,h,{empty:f.Callbacks("once memory").add(function(){f.removeData(g,a+"queue",
!0);f.removeData(g,h,!0)})})}});f.fn.extend({queue:function(g,a){var h=2;"string"!==typeof g&&(a=g,g="fx",h--);return arguments.length<h?f.queue(this[0],g):a===d?this:this.each(function(){var h=f.queue(this,g,a);f._queueHooks(this,g);"fx"===g&&"inprogress"!==h[0]&&f.dequeue(this,g)})},dequeue:function(g){return this.each(function(){f.dequeue(this,g)})},delay:function(g,a){g=f.fx?f.fx.speeds[g]||g:g;return this.queue(a||"fx",function(a,f){var b=setTimeout(a,g);f.stop=function(){clearTimeout(b)}})},
clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,a){var h,b=1,c=f.Deferred(),e=this,i=this.length,j=function(){--b||c.resolveWith(e,[e])};"string"!==typeof g&&(a=g,g=d);for(g=g||"fx";i--;)if((h=f._data(e[i],g+"queueHooks"))&&h.empty)b++,h.empty.add(j);j();return c.promise(a)}});var X,Ja,Ka,La=/[\t\r\n]/g,wb=/\r/g,xb=/^(?:button|input)$/i,yb=/^(?:button|input|object|select|textarea)$/i,zb=/^a(?:rea|)$/i,Ma=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
Na=f.support.getSetAttribute;f.fn.extend({attr:function(g,a){return f.access(this,f.attr,g,a,1<arguments.length)},removeAttr:function(g){return this.each(function(){f.removeAttr(this,g)})},prop:function(g,a){return f.access(this,f.prop,g,a,1<arguments.length)},removeProp:function(g){g=f.propFix[g]||g;return this.each(function(){try{this[g]=d,delete this[g]}catch(a){}})},addClass:function(g){var a,h,b,d,c,e,i;if(f.isFunction(g))return this.each(function(a){f(this).addClass(g.call(this,a,this.className))});
if(g&&"string"===typeof g){a=g.split(T);h=0;for(b=this.length;h<b;h++)if(d=this[h],1===d.nodeType)if(!d.className&&1===a.length)d.className=g;else{c=" "+d.className+" ";e=0;for(i=a.length;e<i;e++)0>c.indexOf(" "+a[e]+" ")&&(c+=a[e]+" ");d.className=f.trim(c)}}return this},removeClass:function(g){var a,h,b,c,e,i,j;if(f.isFunction(g))return this.each(function(a){f(this).removeClass(g.call(this,a,this.className))});if(g&&"string"===typeof g||g===d){a=(g||"").split(T);i=0;for(j=this.length;i<j;i++)if(b=
this[i],1===b.nodeType&&b.className){h=(" "+b.className+" ").replace(La," ");c=0;for(e=a.length;c<e;c++)for(;0<=h.indexOf(" "+a[c]+" ");)h=h.replace(" "+a[c]+" "," ");b.className=g?f.trim(h):""}}return this},toggleClass:function(g,a){var h=typeof g,b="boolean"===typeof a;return f.isFunction(g)?this.each(function(h){f(this).toggleClass(g.call(this,h,this.className,a),a)}):this.each(function(){if("string"===h)for(var d,c=0,e=f(this),i=a,j=g.split(T);d=j[c++];)i=b?i:!e.hasClass(d),e[i?"addClass":"removeClass"](d);
else if("undefined"===h||"boolean"===h)this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===g?"":f._data(this,"__className__")||""})},hasClass:function(g){for(var g=" "+g+" ",a=0,h=this.length;a<h;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(La," ").indexOf(g))return!0;return!1},val:function(g){var a,h,b,c=this[0];if(arguments.length)return b=f.isFunction(g),this.each(function(h){var c=f(this);if(1===this.nodeType&&(h=b?g.call(this,
h,c.val()):g,null==h?h="":"number"===typeof h?h+="":f.isArray(h)&&(h=f.map(h,function(g){return g==null?"":g+""})),a=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],!a||!("set"in a)||a.set(this,h,"value")===d))this.value=h});if(c){if((a=f.valHooks[c.type]||f.valHooks[c.nodeName.toLowerCase()])&&"get"in a&&(h=a.get(c,"value"))!==d)return h;h=c.value;return"string"===typeof h?h.replace(wb,""):null==h?"":h}}});f.extend({valHooks:{option:{get:function(g){var a=g.attributes.value;return!a||
a.specified?g.value:g.text}},select:{get:function(g){for(var a,h=g.options,b=g.selectedIndex,d=(g="select-one"===g.type||0>b)?null:[],c=g?b+1:h.length,e=0>b?c:g?b:0;e<c;e++)if(a=h[e],(a.selected||e===b)&&(f.support.optDisabled?!a.disabled:null===a.getAttribute("disabled"))&&(!a.parentNode.disabled||!f.nodeName(a.parentNode,"optgroup"))){a=f(a).val();if(g)return a;d.push(a)}return d},set:function(g,a){var h=f.makeArray(a);f(g).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),
h)});h.length||(g.selectedIndex=-1);return h}}},attrFn:{},attr:function(g,a,h,b){var c,e,i=g.nodeType;if(g&&!(3===i||8===i||2===i)){if(b&&f.isFunction(f.fn[a]))return f(g)[a](h);if("undefined"===typeof g.getAttribute)return f.prop(g,a,h);if(b=1!==i||!f.isXMLDoc(g))a=a.toLowerCase(),e=f.attrHooks[a]||(Ma.test(a)?Ja:X);if(h!==d)if(null===h)f.removeAttr(g,a);else{if(e&&"set"in e&&b&&(c=e.set(g,h,a))!==d)return c;g.setAttribute(a,h+"");return h}else{if(e&&"get"in e&&b&&null!==(c=e.get(g,a)))return c;
c=g.getAttribute(a);return null===c?d:c}}},removeAttr:function(g,a){var h,b,d,c,e=0;if(a&&1===g.nodeType)for(b=a.split(T);e<b.length;e++)if(d=b[e])h=f.propFix[d]||d,(c=Ma.test(d))||f.attr(g,d,""),g.removeAttribute(Na?d:h),c&&h in g&&(g[h]=!1)},attrHooks:{type:{set:function(g,a){if(xb.test(g.nodeName)&&g.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&"radio"===a&&f.nodeName(g,"input")){var h=g.value;g.setAttribute("type",a);h&&(g.value=h);return a}}},value:{get:function(g,
a){return X&&f.nodeName(g,"button")?X.get(g,a):a in g?g.value:null},set:function(g,a,h){if(X&&f.nodeName(g,"button"))return X.set(g,a,h);g.value=a}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(g,a,h){var b,c,e;e=g.nodeType;if(g&&!(3===e||8===e||2===e)){if(1!==
e||!f.isXMLDoc(g))a=f.propFix[a]||a,c=f.propHooks[a];return h!==d?c&&"set"in c&&(b=c.set(g,h,a))!==d?b:g[a]=h:c&&"get"in c&&null!==(b=c.get(g,a))?b:g[a]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):yb.test(a.nodeName)||zb.test(a.nodeName)&&a.href?0:d}}}});Ja={get:function(a,b){var h,c=f.prop(a,b);return!0===c||"boolean"!==typeof c&&(h=a.getAttributeNode(b))&&!1!==h.nodeValue?b.toLowerCase():d},set:function(a,b,h){!1===b?f.removeAttr(a,
h):(b=f.propFix[h]||h,b in a&&(a[b]=!0),a.setAttribute(h,h.toLowerCase()));return h}};Na||(Ka={name:!0,id:!0,coords:!0},X=f.valHooks.button={get:function(a,b){var h;return(h=a.getAttributeNode(b))&&(Ka[b]?""!==h.value:h.specified)?h.value:d},set:function(a,b,h){var f=a.getAttributeNode(h);f||(f=u.createAttribute(h),a.setAttributeNode(f));return f.value=b+""}},f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,g){if(""===g)return a.setAttribute(b,"auto"),
g}})}),f.attrHooks.contenteditable={get:X.get,set:function(a,b,h){""===b&&(b="false");X.set(a,b,h)}});f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return null===a?d:a}})});f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||d},set:function(a,b){return a.style.cssText=b+""}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,
{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=0<=f.inArray(f(a).val(),b)}})});var wa=/^(?:textarea|input|select)$/i,
Oa=/^([^\.]*|)(?:\.(.+)|)$/,Ab=/(?:^|\s)hover(\.\S+|)\b/,Bb=/^key/,Cb=/^(?:mouse|contextmenu)|click/,Pa=/^(?:focusinfocus|focusoutblur)$/,Qa=function(a){return f.event.special.hover?a:a.replace(Ab,"mouseenter$1 mouseleave$1")};f.event={add:function(a,b,h,c,e){var i,j,k,n,m,p,o,l,v;if(!(3===a.nodeType||8===a.nodeType||!b||!h||!(i=f._data(a)))){h.handler&&(o=h,h=o.handler,e=o.selector);h.guid||(h.guid=f.guid++);k=i.events;k||(i.events=k={});j=i.handle;j||(i.handle=j=function(a){return typeof f!=="undefined"&&
(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(j.elem,arguments):d},j.elem=a);b=f.trim(Qa(b)).split(" ");for(i=0;i<b.length;i++){n=Oa.exec(b[i])||[];m=n[1];p=(n[2]||"").split(".").sort();v=f.event.special[m]||{};m=(e?v.delegateType:v.bindType)||m;v=f.event.special[m]||{};n=f.extend({type:m,origType:n[1],data:c,handler:h,guid:h.guid,selector:e,needsContext:e&&f.expr.match.needsContext.test(e),namespace:p.join(".")},o);l=k[m];if(!l&&(l=k[m]=[],l.delegateCount=0,!v.setup||!1===v.setup.call(a,
c,p,j)))a.addEventListener?a.addEventListener(m,j,!1):a.attachEvent&&a.attachEvent("on"+m,j);v.add&&(v.add.call(a,n),n.handler.guid||(n.handler.guid=h.guid));e?l.splice(l.delegateCount++,0,n):l.push(n);f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,h,d,c){var e,i,j,k,n,m,p,l,o,v,q=f.hasData(a)&&f._data(a);if(q&&(p=q.events)){b=f.trim(Qa(b||"")).split(" ");for(e=0;e<b.length;e++)if(i=Oa.exec(b[e])||[],j=k=i[1],i=i[2],j){l=f.event.special[j]||{};j=(d?l.delegateType:l.bindType)||j;o=p[j]||
[];n=o.length;i=i?RegExp("(^|\\.)"+i.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(m=0;m<o.length;m++)if(v=o[m],(c||k===v.origType)&&(!h||h.guid===v.guid)&&(!i||i.test(v.namespace))&&(!d||d===v.selector||"**"===d&&v.selector))o.splice(m--,1),v.selector&&o.delegateCount--,l.remove&&l.remove.call(a,v);0===o.length&&n!==o.length&&((!l.teardown||!1===l.teardown.call(a,i,q.handle))&&f.removeEvent(a,j,q.handle),delete p[j])}else for(j in p)f.event.remove(a,j+b[e],h,d,!0);f.isEmptyObject(p)&&
(delete q.handle,f.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(g,b,h,c){if(!h||!(3===h.nodeType||8===h.nodeType)){var e,i,j,k,n,m,p=g.type||g;j=[];if(!Pa.test(p+f.event.triggered)&&(0<=p.indexOf("!")&&(p=p.slice(0,-1),e=!0),0<=p.indexOf(".")&&(j=p.split("."),p=j.shift(),j.sort()),h&&!f.event.customEvent[p]||f.event.global[p]))if(g="object"===typeof g?g[f.expando]?g:new f.Event(p,g):new f.Event(p),g.type=p,g.isTrigger=!0,g.exclusive=e,g.namespace=
j.join("."),g.namespace_re=g.namespace?RegExp("(^|\\.)"+j.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j=0>p.indexOf(":")?"on"+p:"",h){if(g.result=d,g.target||(g.target=h),b=null!=b?f.makeArray(b):[],b.unshift(g),k=f.event.special[p]||{},!(k.trigger&&!1===k.trigger.apply(h,b))){m=[[h,k.bindType||p]];if(!c&&!k.noBubble&&!f.isWindow(h)){n=k.delegateType||p;e=Pa.test(n+p)?h:h.parentNode;for(i=h;e;e=e.parentNode)m.push([e,n]),i=e;if(i===(h.ownerDocument||u))m.push([i.defaultView||i.parentWindow||a,n])}for(i=
0;i<m.length&&!g.isPropagationStopped();i++)e=m[i][0],g.type=m[i][1],(n=(f._data(e,"events")||{})[g.type]&&f._data(e,"handle"))&&n.apply(e,b),(n=j&&e[j])&&f.acceptData(e)&&(n.apply&&!1===n.apply(e,b))&&g.preventDefault();g.type=p;if(!c&&!g.isDefaultPrevented()&&(!k._default||!1===k._default.apply(h.ownerDocument,b))&&!("click"===p&&f.nodeName(h,"a"))&&f.acceptData(h))if(j&&h[p]&&("focus"!==p&&"blur"!==p||0!==g.target.offsetWidth)&&!f.isWindow(h))(i=h[j])&&(h[j]=null),f.event.triggered=p,h[p](),f.event.triggered=
d,i&&(h[j]=i);return g.result}}else for(i in h=f.cache,h)h[i].events&&h[i].events[p]&&f.event.trigger(g,b,h[i].handle.elem,!0)}},dispatch:function(g){var g=f.event.fix(g||a.event),b,h,c,e,i,j,k=(f._data(this,"events")||{})[g.type]||[],n=k.delegateCount,m=I.call(arguments),p=!g.exclusive&&!g.namespace,l=f.event.special[g.type]||{},o=[];m[0]=g;g.delegateTarget=this;if(!(l.preDispatch&&!1===l.preDispatch.call(this,g))){if(n&&!(g.button&&"click"===g.type))for(h=g.target;h!=this;h=h.parentNode||this)if(!0!==
h.disabled||"click"!==g.type){e={};i=[];for(b=0;b<n;b++)c=k[b],j=c.selector,e[j]===d&&(e[j]=c.needsContext?0<=f(j,this).index(h):f.find(j,this,null,[h]).length),e[j]&&i.push(c);i.length&&o.push({elem:h,matches:i})}k.length>n&&o.push({elem:this,matches:k.slice(n)});for(b=0;b<o.length&&!g.isPropagationStopped();b++){e=o[b];g.currentTarget=e.elem;for(h=0;h<e.matches.length&&!g.isImmediatePropagationStopped();h++)if(c=e.matches[h],p||!g.namespace&&!c.namespace||g.namespace_re&&g.namespace_re.test(c.namespace))g.data=
c.data,g.handleObj=c,c=((f.event.special[c.origType]||{}).handle||c.handler).apply(e.elem,m),c!==d&&(g.result=c,!1===c&&(g.preventDefault(),g.stopPropagation()))}l.postDispatch&&l.postDispatch.call(this,g);return g.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&
(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var h,f,c=b.button,e=b.fromElement;null==a.pageX&&null!=b.clientX&&(h=a.target.ownerDocument||u,f=h.documentElement,h=h.body,a.pageX=b.clientX+(f&&f.scrollLeft||h&&h.scrollLeft||0)-(f&&f.clientLeft||h&&h.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||h&&h.scrollTop||0)-(f&&f.clientTop||h&&
h.clientTop||0));!a.relatedTarget&&e&&(a.relatedTarget=e===a.target?b.toElement:e);!a.which&&c!==d&&(a.which=c&1?1:c&2?3:c&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var b,h,c=a,d=f.event.fixHooks[a.type]||{},e=d.props?this.props.concat(d.props):this.props,a=f.Event(c);for(b=e.length;b;)h=e[--b],a[h]=c[h];a.target||(a.target=c.srcElement||u);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,c):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},
blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,h){f.isWindow(this)&&(this.onbeforeunload=h)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,h,c){a=f.extend(new f.Event,h,{type:a,isSimulated:!0,originalEvent:{}});c?f.event.trigger(a,null,b):f.event.dispatch.call(b,a);a.isDefaultPrevented()&&h.preventDefault()}};f.event.handle=f.event.dispatch;f.removeEvent=u.removeEventListener?function(a,b,h){a.removeEventListener&&a.removeEventListener(b,
h,!1)}:function(a,b,h){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,h))};f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?k:j):this.type=a;b&&f.extend(this,b);this.timeStamp=a&&a.timeStamp||f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=
k;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=k;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k;this.stopPropagation()},isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,
bindType:b,handle:function(a){var g,c=a.relatedTarget,d=a.handleObj;if(!c||c!==this&&!f.contains(this,c))a.type=d.origType,g=d.handler.apply(this,arguments),a.type=b;return g}}});f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=f.nodeName(a,"input")||f.nodeName(a,"button")?a.form:d)&&!f._data(a,"_submit_attached"))f.event.add(a,"submit._submit",function(a){a._submit_bubble=
!0}),f._data(a,"_submit_attached",!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change={setup:function(){if(wa.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)f.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&
(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);f.event.simulate("change",this,a,!0)});return!1}f.event.add(this,"beforeactivate._change",function(a){a=a.target;wa.test(a.nodeName)&&!f._data(a,"_change_attached")&&(f.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),f._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;
if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return!wa.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var h=0,c=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){0===h++&&u.addEventListener(a,c,!0)},teardown:function(){0===--h&&u.removeEventListener(a,c,!0)}}});
f.fn.extend({on:function(a,b,h,c,e){var i,k;if("object"===typeof a){"string"!==typeof b&&(h=h||b,b=d);for(k in a)this.on(k,b,h,a[k],e);return this}null==h&&null==c?(c=b,h=b=d):null==c&&("string"===typeof b?(c=h,h=d):(c=h,h=b,b=d));if(!1===c)c=j;else if(!c)return this;1===e&&(i=c,c=function(a){f().off(a);return i.apply(this,arguments)},c.guid=i.guid||(i.guid=f.guid++));return this.each(function(){f.event.add(this,a,c,h,b)})},one:function(a,b,h,f){return this.on(a,b,h,f,1)},off:function(a,b,h){var c;
if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,f(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"===typeof a){for(c in a)this.off(c,b,a[c]);return this}if(!1===b||"function"===typeof b)h=b,b=d;!1===h&&(h=j);return this.each(function(){f.event.remove(this,a,h,b)})},bind:function(a,b,h){return this.on(a,null,b,h)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,h){f(this.context).on(a,this.selector,b,h);return this},
die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,h,f){return this.on(b,a,h,f)},undelegate:function(a,b,f){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",f)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,h=a.guid||f.guid++,c=0,d=function(h){var d=(f._data(this,"lastToggle"+a.guid)||0)%c;
f._data(this,"lastToggle"+a.guid,d+1);h.preventDefault();return b[d].apply(this,arguments)||!1};for(d.guid=h;c<b.length;)b[c++].guid=h;return this.click(d)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,g){if(g==null){g=a;a=null}return arguments.length>
0?this.on(b,null,a,g):this.trigger(b)};if(Bb.test(b))f.event.fixHooks[b]=f.event.keyHooks;if(Cb.test(b))f.event.fixHooks[b]=f.event.mouseHooks});(function(a,b){function h(a,g,b,f){var b=b||[],g=g||D,h,c,d,e,i=g.nodeType;if(!a||"string"!==typeof a)return b;if(1!==i&&9!==i)return[];d=y(g);if(!d&&!f&&(h=X.exec(a)))if(e=h[1])if(9===i)if((c=g.getElementById(e))&&c.parentNode){if(c.id===e)return b.push(c),b}else return b;else{if(g.ownerDocument&&(c=g.ownerDocument.getElementById(e))&&z(g,c)&&c.id===e)return b.push(c),
b}else{if(h[2])return ia.apply(b,F.call(g.getElementsByTagName(a),0)),b;if((e=h[3])&&ba&&g.getElementsByClassName)return ia.apply(b,F.call(g.getElementsByClassName(e),0)),b}return v(a.replace(R,"$1"),g,b,f,d)}function c(a){return function(g){return"input"===g.nodeName.toLowerCase()&&g.type===a}}function d(a){return function(g){var b=g.nodeName.toLowerCase();return("input"===b||"button"===b)&&g.type===a}}function e(a){return I(function(g){g=+g;return I(function(b,f){for(var h,c=a([],b.length,g),d=
c.length;d--;)if(b[h=c[d]])b[h]=!(f[h]=b[h])})})}function i(a,g,b){if(a===g)return b;for(a=a.nextSibling;a;){if(a===g)return-1;a=a.nextSibling}return 1}function j(a,g){var b,f,c,d,e,i,k;if(e=J[x][a+" "])return g?0:e.slice(0);e=a;i=[];for(k=t.preFilter;e;){if(!b||(f=V.exec(e)))f&&(e=e.slice(f[0].length)||e),i.push(c=[]);b=!1;if(f=ma.exec(e))c.push(b=new O(f.shift())),e=e.slice(b.length),b.type=f[0].replace(R," ");for(d in t.filter)if((f=U[d].exec(e))&&(!k[d]||(f=k[d](f))))c.push(b=new O(f.shift())),
e=e.slice(b.length),b.type=d,b.matches=f;if(!b)break}return g?e.length:e?h.error(a):J(a,i).slice(0)}function k(a,g,b){var f=g.dir,h=b&&"parentNode"===g.dir,c=N++;return g.first?function(g,b,c){for(;g=g[f];)if(h||1===g.nodeType)return a(g,b,c)}:function(g,b,d){if(d)for(;g=g[f];){if((h||1===g.nodeType)&&a(g,b,d))return g}else for(var e,i=Z+" "+c+" ",j=i+r;g=g[f];)if(h||1===g.nodeType){if((e=g[x])===j)return g.sizset;if("string"===typeof e&&0===e.indexOf(i)){if(g.sizset)return g}else{g[x]=j;if(a(g,b,
d))return g.sizset=!0,g;g.sizset=!1}}}}function n(a){return 1<a.length?function(g,b,f){for(var h=a.length;h--;)if(!a[h](g,b,f))return!1;return!0}:a[0]}function m(a,g,b,f,h){for(var c,d=[],e=0,i=a.length,j=null!=g;e<i;e++)if(c=a[e])if(!b||b(c,f,h))d.push(c),j&&g.push(e);return d}function p(a,g,b,f,c,d){f&&!f[x]&&(f=p(f));c&&!c[x]&&(c=p(c,d));return I(function(d,e,i,j){var k,w,n=[],p=[],l=e.length,o;if(!(o=d)){o=g||"*";for(var H=i.nodeType?[i]:i,v=[],ca=0,q=H.length;ca<q;ca++)h(o,H[ca],v);o=v}o=a&&
(d||!g)?m(o,n,a,i,j):o;H=b?c||(d?a:l||f)?[]:e:o;b&&b(o,H,i,j);if(f){k=m(H,p);f(k,[],i,j);for(i=k.length;i--;)if(w=k[i])H[p[i]]=!(o[p[i]]=w)}if(d){if(c||a){if(c){k=[];for(i=H.length;i--;)if(w=H[i])k.push(o[i]=w);c(null,H=[],k,j)}for(i=H.length;i--;)if((w=H[i])&&-1<(k=c?S.call(d,w):n[i]))d[k]=!(e[k]=w)}}else H=m(H===e?H.splice(l,H.length):H),c?c(null,e,H,j):ia.apply(e,H)})}function l(a){var g,b,f,h=a.length,c=t.relative[a[0].type];b=c||t.relative[" "];for(var d=c?1:0,e=k(function(a){return a===g},b,
!0),i=k(function(a){return-1<S.call(g,a)},b,!0),j=[function(a,b,f){return!c&&(f||b!==E)||((g=b).nodeType?e(a,b,f):i(a,b,f))}];d<h;d++)if(b=t.relative[a[d].type])j=[k(n(j),b)];else{b=t.filter[a[d].type].apply(null,a[d].matches);if(b[x]){for(f=++d;f<h&&!t.relative[a[f].type];f++);return p(1<d&&n(j),1<d&&a.slice(0,d-1).join("").replace(R,"$1"),b,d<f&&l(a.slice(d,f)),f<h&&l(a=a.slice(f)),f<h&&a.join(""))}j.push(b)}return n(j)}function o(a,g){var b=0<g.length,f=0<a.length,c=function(d,e,i,j,k){var w,n,
p=[],o=0,l="0",H=d&&[],v=null!=k,ca=E,q=d||f&&t.find.TAG("*",k&&e.parentNode||e),A=Z+=null==ca?1:Math.E;v&&(E=e!==D&&e,r=c.el);for(;null!=(k=q[l]);l++){if(f&&k){for(w=0;n=a[w];w++)if(n(k,e,i)){j.push(k);break}v&&(Z=A,r=++c.el)}b&&((k=!n&&k)&&o--,d&&H.push(k))}o+=l;if(b&&l!==o){for(w=0;n=g[w];w++)n(H,p,e,i);if(d){if(0<o)for(;l--;)!H[l]&&!p[l]&&(p[l]=L.call(j));p=m(p)}ia.apply(j,p);v&&!d&&(0<p.length&&1<o+g.length)&&h.uniqueSort(j)}v&&(Z=A,E=ca);return H};c.el=0;return b?I(c):c}function v(a,g,b,f,h){var c,
d,e,i,k=j(a);if(!f&&1===k.length){d=k[0]=k[0].slice(0);if(2<d.length&&"ID"===(e=d[0]).type&&9===g.nodeType&&!h&&t.relative[d[1].type]){g=t.find.ID(e.matches[0].replace(Q,""),g,h)[0];if(!g)return b;a=a.slice(d.shift().length)}for(c=U.POS.test(a)?-1:d.length-1;0<=c;c--){e=d[c];if(t.relative[i=e.type])break;if(i=t.find[i])if(f=i(e.matches[0].replace(Q,""),T.test(d[0].type)&&g.parentNode||g,h)){d.splice(c,1);a=f.length&&d.join("");if(!a)return ia.apply(b,F.call(f,0)),b;break}}}B(a,k)(f,g,h,b,T.test(a));
return b}function q(){}var r,A,t,s,y,z,B,u,C,E,M=!0,x=("sizcache"+Math.random()).replace(".",""),O=String,D=a.document,G=D.documentElement,Z=0,N=0,L=[].pop,ia=[].push,F=[].slice,S=[].indexOf||function(a){for(var g=0,b=this.length;g<b;g++)if(this[g]===a)return g;return-1},I=function(a,g){a[x]=null==g||g;return a},W=function(){var a={},g=[];return I(function(b,f){g.push(b)>t.cacheLength&&delete a[g.shift()];return a[b+" "]=f},a)},la=W(),J=W(),ha=W(),W="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",K=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",R=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),V=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ma=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,P=RegExp(K),X=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,T=/[\x20\t\r\n\f]*[+~]/,Y=/h\d/i,aa=/input|select|textarea|button/i,
Q=/\\(?!\\)/g,U={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+W),PSEUDO:RegExp("^"+K),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},fa=function(a){var g=D.createElement("div");try{return a(g)}catch(b){return!1}finally{}},W=fa(function(a){a.appendChild(D.createComment(""));return!a.getElementsByTagName("*").length}),da=fa(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),
ea=fa(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),ba=fa(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),ga=fa(function(a){a.id=x+0;a.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>";G.insertBefore(a,G.firstChild);var g=D.getElementsByName&&
D.getElementsByName(x).length===2+D.getElementsByName(x+0).length;A=!D.getElementById(x);G.removeChild(a);return g});try{F.call(G.childNodes,0)[0].nodeType}catch(ja){F=function(a){for(var g,b=[];g=this[a];a++)b.push(g);return b}}h.matches=function(a,g){return h(a,null,null,g)};h.matchesSelector=function(a,g){return 0<h(g,null,null,[a]).length};s=h.getText=function(a){var g,b="",f=0;if(g=a.nodeType)if(1===g||9===g||11===g){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=
a.nextSibling)b+=s(a)}else{if(3===g||4===g)return a.nodeValue}else for(;g=a[f];f++)b+=s(g);return b};y=h.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};z=h.contains=G.contains?function(a,g){var b=9===a.nodeType?a.documentElement:a,f=g&&g.parentNode;return a===f||!(!f||!(1===f.nodeType&&b.contains&&b.contains(f)))}:G.compareDocumentPosition?function(a,g){return g&&!!(a.compareDocumentPosition(g)&16)}:function(a,g){for(;g=g.parentNode;)if(g===a)return!0;
return!1};h.attr=function(a,g){var b,f=y(a);f||(g=g.toLowerCase());return(b=t.attrHandle[g])?b(a):f||ea?a.getAttribute(g):(b=a.getAttributeNode(g))?"boolean"===typeof a[g]?a[g]?g:null:b.specified?b.value:null:null};t=h.selectors={cacheLength:50,createPseudo:I,match:U,attrHandle:da?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:A?function(a,g,b){if("undefined"!==typeof g.getElementById&&!b)return(a=g.getElementById(a))&&a.parentNode?
[a]:[]}:function(a,g,f){if("undefined"!==typeof g.getElementById&&!f)return(g=g.getElementById(a))?g.id===a||"undefined"!==typeof g.getAttributeNode&&g.getAttributeNode("id").value===a?[g]:b:[]},TAG:W?function(a,g){if("undefined"!==typeof g.getElementsByTagName)return g.getElementsByTagName(a)}:function(a,g){var b=g.getElementsByTagName(a);if("*"===a){for(var f,h=[],c=0;f=b[c];c++)1===f.nodeType&&h.push(f);return h}return b},NAME:ga&&function(a,g){if("undefined"!==typeof g.getElementsByName)return g.getElementsByName(name)},
CLASS:ba&&function(a,g,b){if("undefined"!==typeof g.getElementsByClassName&&!b)return g.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Q,"");a[3]=(a[4]||a[5]||"").replace(Q,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||h.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===
a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&h.error(a[0]);return a},PSEUDO:function(a){var g,b;if(U.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(g=a[4]){if(P.test(g)&&(b=j(g,!0))&&(b=g.indexOf(")",g.length-b)-g.length))g=g.slice(0,b),a[0]=a[0].slice(0,b);a[2]=g}return a.slice(0,3)}},filter:{ID:A?function(a){a=a.replace(Q,"");return function(g){return g.getAttribute("id")===a}}:function(a){a=a.replace(Q,"");return function(g){return(g="undefined"!==typeof g.getAttributeNode&&
g.getAttributeNode("id"))&&g.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(Q,"").toLowerCase();return function(g){return g.nodeName&&g.nodeName.toLowerCase()===a}},CLASS:function(a){var g=la[x][a+" "];return g||(g=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&la(a,function(a){return g.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,g,b){return function(f){f=h.attr(f,a);if(null==f)return"!="===
g;if(!g)return!0;f+="";return"="===g?f===b:"!="===g?f!==b:"^="===g?b&&0===f.indexOf(b):"*="===g?b&&-1<f.indexOf(b):"$="===g?b&&f.substr(f.length-b.length)===b:"~="===g?-1<(" "+f+" ").indexOf(b):"|="===g?f===b||f.substr(0,b.length+1)===b+"-":!1}},CHILD:function(a,g,b,f){return"nth"===a?function(a){var g,h;g=a.parentNode;if(1===b&&0===f)return!0;if(g){h=0;for(g=g.firstChild;g&&!(1===g.nodeType&&(h++,a===g));g=g.nextSibling);}h-=f;return h===b||0===h%b&&0<=h/b}:function(g){var b=g;switch(a){case "only":case "first":for(;b=
b.previousSibling;)if(1===b.nodeType)return!1;if("first"===a)return!0;b=g;case "last":for(;b=b.nextSibling;)if(1===b.nodeType)return!1;return!0}}},PSEUDO:function(a,g){var b,f=t.pseudos[a]||t.setFilters[a.toLowerCase()]||h.error("unsupported pseudo: "+a);return f[x]?f(g):1<f.length?(b=[a,a,"",g],t.setFilters.hasOwnProperty(a.toLowerCase())?I(function(a,b){for(var h,c=f(a,g),d=c.length;d--;)h=S.call(a,c[d]),a[h]=!(b[h]=c[d])}):function(a){return f(a,0,b)}):f}},pseudos:{not:I(function(a){var g=[],b=
[],f=B(a.replace(R,"$1"));return f[x]?I(function(a,g,b,h){for(var h=f(a,null,h,[]),c=a.length;c--;)if(b=h[c])a[c]=!(g[c]=b)}):function(a,h,c){g[0]=a;f(g,null,c,b);return!b.pop()}}),has:I(function(a){return function(g){return 0<h(a,g).length}}),contains:I(function(a){return function(g){return-1<(g.textContent||g.innerText||s(g)).indexOf(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var g=a.nodeName.toLowerCase();return"input"===g&&
!!a.checked||"option"===g&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){for(var g,a=a.firstChild;a;){if("@"<a.nodeName||3===(g=a.nodeType)||4===g)return!1;a=a.nextSibling}return!0},header:function(a){return Y.test(a.nodeName)},text:function(a){var g,b;return"input"===a.nodeName.toLowerCase()&&"text"===(g=a.type)&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===g)},radio:c("radio"),
checkbox:c("checkbox"),file:c("file"),password:c("password"),image:c("image"),submit:d("submit"),reset:d("reset"),button:function(a){var g=a.nodeName.toLowerCase();return"input"===g&&"button"===a.type||"button"===g},input:function(a){return aa.test(a.nodeName)},focus:function(a){var g=a.ownerDocument;return a===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:e(function(){return[0]}),last:e(function(a,
g){return[g-1]}),eq:e(function(a,g,b){return[0>b?b+g:b]}),even:e(function(a,g){for(var b=0;b<g;b+=2)a.push(b);return a}),odd:e(function(a,g){for(var b=1;b<g;b+=2)a.push(b);return a}),lt:e(function(a,g,b){for(g=0>b?b+g:b;0<=--g;)a.push(g);return a}),gt:e(function(a,g,b){for(b=0>b?b+g:b;++b<g;)a.push(b);return a})}};u=G.compareDocumentPosition?function(a,g){return a===g?(C=!0,0):(!a.compareDocumentPosition||!g.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(g)&4)?-1:1}:function(a,
g){if(a===g)return C=!0,0;if(a.sourceIndex&&g.sourceIndex)return a.sourceIndex-g.sourceIndex;var b,f,h=[],c=[];b=a.parentNode;f=g.parentNode;var d=b;if(b===f)return i(a,g);if(b){if(!f)return 1}else return-1;for(;d;)h.unshift(d),d=d.parentNode;for(d=f;d;)c.unshift(d),d=d.parentNode;b=h.length;f=c.length;for(d=0;d<b&&d<f;d++)if(h[d]!==c[d])return i(h[d],c[d]);return d===b?i(a,c[d],-1):i(h[d],g,1)};[0,0].sort(u);M=!C;h.uniqueSort=function(a){var g,b=[],f=1,h=0;C=M;a.sort(u);if(C){for(;g=a[f];f++)g===
a[f-1]&&(h=b.push(f));for(;h--;)a.splice(b[h],1)}return a};h.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};B=h.compile=function(a,g){var b,f=[],h=[],c=ha[x][a+" "];if(!c){g||(g=j(a));for(b=g.length;b--;)c=l(g[b]),c[x]?f.push(c):h.push(c);c=ha(a,o(h,f))}return c};D.querySelectorAll&&function(){var a,g=v,b=/'|\\/g,f=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,c=[":focus"],d=[":active"],e=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||
G.msMatchesSelector;fa(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||c.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||c.push(":checked")});fa(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&c.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||c.push(":enabled",
":disabled")});c=RegExp(c.join("|"));v=function(a,f,h,d,e){if(!d&&!e&&!c.test(a)){var i,k,w=!0,n=x;k=f;i=9===f.nodeType&&a;if(1===f.nodeType&&"object"!==f.nodeName.toLowerCase()){i=j(a);(w=f.getAttribute("id"))?n=w.replace(b,"\\$&"):f.setAttribute("id",n);n="[id='"+n+"'] ";for(k=i.length;k--;)i[k]=n+i[k].join("");k=T.test(a)&&f.parentNode||f;i=i.join(",")}if(i)try{return ia.apply(h,F.call(k.querySelectorAll(i),0)),h}catch(m){}finally{w||f.removeAttribute("id")}}return g(a,f,h,d,e)};e&&(fa(function(g){a=
e.call(g,"div");try{e.call(g,"[test!='']:sizzle"),d.push("!=",K)}catch(b){}}),d=RegExp(d.join("|")),h.matchesSelector=function(g,b){b=b.replace(f,"='$1']");if(!y(g)&&!d.test(b)&&!c.test(b))try{var i=e.call(g,b);if(i||a||g.document&&11!==g.document.nodeType)return i}catch(j){}return 0<h(b,null,null,[g]).length})}();t.pseudos.nth=t.pseudos.eq;t.filters=q.prototype=t.pseudos;t.setFilters=new q;h.attr=f.attr;f.find=h;f.expr=h.selectors;f.expr[":"]=f.expr.pseudos;f.unique=h.uniqueSort;f.text=h.getText;
f.isXMLDoc=h.isXML;f.contains=h.contains})(a);var Db=/Until$/,Eb=/^(?:parents|prev(?:Until|All))/,hb=/^.[^:#\[\.,]*$/,Ra=f.expr.match.needsContext,Fb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b,h,c,d,e,i,j=this;if("string"!==typeof a)return f(a).filter(function(){b=0;for(h=j.length;b<h;b++)if(f.contains(j[b],this))return!0});i=this.pushStack("","find",a);b=0;for(h=this.length;b<h;b++)if(c=i.length,f.find(a,this[b],i),0<b)for(d=c;d<i.length;d++)for(e=0;e<c;e++)if(i[e]===
i[d]){i.splice(d--,1);break}return i},has:function(a){var b,h=f(a,this),c=h.length;return this.filter(function(){for(b=0;b<c;b++)if(f.contains(this,h[b]))return!0})},not:function(a){return this.pushStack(i(this,a,!1),"not",a)},filter:function(a){return this.pushStack(i(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?Ra.test(a)?0<=f(a,this.context).index(this[0]):0<f.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var h,c=0,d=this.length,e=[],i=Ra.test(a)||
"string"!==typeof a?f(a,b||this.context):0;c<d;c++)for(h=this[c];h&&h.ownerDocument&&h!==b&&11!==h.nodeType;){if(i?-1<i.index(h):f.find.matchesSelector(h,a)){e.push(h);break}h=h.parentNode}e=1<e.length?f.unique(e):e;return this.pushStack(e,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"===typeof a?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var h="string"===typeof a?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),c=f.merge(this.get(),
h);return this.pushStack(l(h[0])||l(c[0])?c:f.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});f.fn.andSelf=f.fn.addBack;f.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,h){return f.dir(a,"parentNode",h)},next:function(a){return r(a,"nextSibling")},prev:function(a){return r(a,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},
prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,h){return f.dir(a,"nextSibling",h)},prevUntil:function(a,b,h){return f.dir(a,"previousSibling",h)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.merge([],a.childNodes)}},function(a,b){f.fn[a]=function(h,c){var d=f.map(this,b,h);Db.test(a)||(c=h);c&&
"string"===typeof c&&(d=f.filter(c,d));d=1<this.length&&!Fb[a]?f.unique(d):d;1<this.length&&Eb.test(a)&&(d=d.reverse());return this.pushStack(d,a,I.call(arguments).join(","))}});f.extend({filter:function(a,b,h){h&&(a=":not("+a+")");return 1===b.length?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,b,h){for(var c=[],a=a[b];a&&9!==a.nodeType&&(h===d||1!==a.nodeType||!f(a).is(h));)1===a.nodeType&&c.push(a),a=a[b];return c},sibling:function(a,b){for(var f=[];a;a=a.nextSibling)1===
a.nodeType&&a!==b&&f.push(a);return f}});var Da="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Gb=/ jQuery\d+="(?:null|\d+)"/g,xa=/^\s+/,Sa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ta=/<([\w:]+)/,Hb=/<tbody/i,Ib=/<|&#?\w+;/,Jb=/<(?:script|style|link)/i,Kb=/<(?:script|object|embed|option|style)/i,ya=RegExp("<(?:"+Da+")[\\s/>]","i"),Ea=/^(?:checkbox|radio)$/,
Ua=/checked\s*(?:[^=]|=\s*.checked.)/i,Lb=/\/(java|ecma)script/i,Mb=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,P={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Va=m(u),za=Va.appendChild(u.createElement("div"));P.optgroup=
P.option;P.tbody=P.tfoot=P.colgroup=P.caption=P.thead;P.th=P.td;f.support.htmlSerialize||(P._default=[1,"X<div>","</div>"]);f.fn.extend({text:function(a){return f.access(this,function(a){return a===d?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);
b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),h=b.contents();h.length?h.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(h){f(this).wrapAll(b?a.call(this,h):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||
f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!l(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return this.pushStack(f.merge(a,
this),"before",this.selector)}},after:function(){if(!l(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=f.clean(arguments);return this.pushStack(f.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var h,c=0;null!=(h=this[c]);c++)if(!a||f.filter(a,[h]).length)!b&&1===h.nodeType&&(f.cleanData(h.getElementsByTagName("*")),f.cleanData([h])),h.parentNode&&h.parentNode.removeChild(h);return this},empty:function(){for(var a,
b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&f.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var g=this[0]||{},b=0,c=this.length;if(a===d)return 1===g.nodeType?g.innerHTML.replace(Gb,""):d;if("string"===typeof a&&!Jb.test(a)&&(f.support.htmlSerialize||!ya.test(a))&&(f.support.leadingWhitespace||!xa.test(a))&&
!P[(Ta.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Sa,"<$1></$2>");try{for(;b<c;b++)g=this[b]||{},1===g.nodeType&&(f.cleanData(g.getElementsByTagName("*")),g.innerHTML=a);g=0}catch(e){}}g&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(!l(this[0])){if(f.isFunction(a))return this.each(function(b){var h=f(this),c=h.html();h.replaceWith(a.call(this,b,c))});"string"!==typeof a&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,h=this.parentNode;f(this).remove();
b?f(b).before(a):f(h).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,h){var a=[].concat.apply([],a),c,e,i,j=0,k=a[0],n=[],m=this.length;if(!f.support.checkClone&&1<m&&"string"===typeof k&&Ua.test(k))return this.each(function(){f(this).domManip(a,b,h)});if(f.isFunction(k))return this.each(function(c){var e=f(this);a[0]=k.call(this,c,b?e.html():d);e.domManip(a,b,h)});if(this[0]){c=f.buildFragment(a,
this,n);i=c.fragment;e=i.firstChild;1===i.childNodes.length&&(i=e);if(e){b=b&&f.nodeName(e,"tr");for(c=c.cacheable||m-1;j<m;j++)h.call(b&&f.nodeName(this[j],"table")?this[j].getElementsByTagName("tbody")[0]||this[j].appendChild(this[j].ownerDocument.createElement("tbody")):this[j],j===c?i:f.clone(i,!0,!0))}i=e=null;n.length&&f.each(n,function(a,b){b.src?f.ajax?f.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):f.error("no ajax"):f.globalEval((b.text||b.textContent||b.innerHTML||
"").replace(Mb,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});f.buildFragment=function(a,b,h){var c,e,i,j=a[0],b=b||u,b=!b.nodeType&&b[0]||b,b=b.ownerDocument||b;if(1===a.length&&"string"===typeof j&&512>j.length&&b===u&&"<"===j.charAt(0)&&!Kb.test(j)&&(f.support.checkClone||!Ua.test(j))&&(f.support.html5Clone||!ya.test(j)))e=!0,c=f.fragments[j],i=c!==d;c||(c=b.createDocumentFragment(),f.clean(a,b,c,h),e&&(f.fragments[j]=i&&c));return{fragment:c,cacheable:e}};f.fragments={};f.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(h){var c,d=0,e=[],h=f(h),i=h.length;c=1===this.length&&this[0].parentNode;if((null==c||c&&11===c.nodeType&&1===c.childNodes.length)&&1===i)return h[b](this[0]),this;for(;d<i;d++)c=(0<d?this.clone(!0):this).get(),f(h[d])[b](c),e=e.concat(c);return this.pushStack(e,a,h.selector)}});f.extend({clone:function(a,b,h){var c,d,e,i;f.support.html5Clone||f.isXMLDoc(a)||!ya.test("<"+a.nodeName+
">")?i=a.cloneNode(!0):(za.innerHTML=a.outerHTML,za.removeChild(i=za.firstChild));if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!f.isXMLDoc(a)){o(a,i);c=q(a);d=q(i);for(e=0;c[e];++e)d[e]&&o(c[e],d[e])}if(b&&(s(a,i),h)){c=q(a);d=q(i);for(e=0;c[e];++e)s(c[e],d[e])}return i},clean:function(a,b,h,c){var d,e,i,j,k,n,o=b===u&&Va,l=[];if(!b||"undefined"===typeof b.createDocumentFragment)b=u;for(d=0;null!=(i=a[d]);d++)if("number"===typeof i&&(i+=""),i){if("string"===
typeof i)if(Ib.test(i)){o=o||m(b);n=b.createElement("div");o.appendChild(n);i=i.replace(Sa,"<$1></$2>");e=(Ta.exec(i)||["",""])[1].toLowerCase();j=P[e]||P._default;k=j[0];for(n.innerHTML=j[1]+i+j[2];k--;)n=n.lastChild;if(!f.support.tbody){k=Hb.test(i);j="table"===e&&!k?n.firstChild&&n.firstChild.childNodes:"<table>"===j[1]&&!k?n.childNodes:[];for(e=j.length-1;0<=e;--e)f.nodeName(j[e],"tbody")&&!j[e].childNodes.length&&j[e].parentNode.removeChild(j[e])}!f.support.leadingWhitespace&&xa.test(i)&&n.insertBefore(b.createTextNode(xa.exec(i)[0]),
n.firstChild);i=n.childNodes;n.parentNode.removeChild(n)}else i=b.createTextNode(i);i.nodeType?l.push(i):f.merge(l,i)}n&&(i=n=o=null);if(!f.support.appendChecked)for(d=0;null!=(i=l[d]);d++)f.nodeName(i,"input")?p(i):"undefined"!==typeof i.getElementsByTagName&&f.grep(i.getElementsByTagName("input"),p);if(h){a=function(a){if(!a.type||Lb.test(a.type))return c?c.push(a.parentNode?a.parentNode.removeChild(a):a):h.appendChild(a)};for(d=0;null!=(i=l[d]);d++)if(!f.nodeName(i,"script")||!a(i))h.appendChild(i),
"undefined"!==typeof i.getElementsByTagName&&(i=f.grep(f.merge([],i.getElementsByTagName("script")),a),l.splice.apply(l,[d+1,0].concat(i)),d+=i.length)}return l},cleanData:function(a,b){for(var h,c,d,e,i=0,j=f.expando,k=f.cache,n=f.support.deleteExpando,m=f.event.special;null!=(d=a[i]);i++)if(b||f.acceptData(d))if(h=(c=d[j])&&k[c]){if(h.events)for(e in h.events)m[e]?f.event.remove(d,e):f.removeEvent(d,e,h.handle);k[c]&&(delete k[c],n?delete d[j]:d.removeAttribute?d.removeAttribute(j):d[j]=null,f.deletedIds.push(c))}}});
(function(){var a,b;f.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=f.uaMatch(G.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);f.browser=b;f.sub=function(){function a(b,g){return new a.fn.init(b,
g)}f.extend(true,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(g,c){c&&c instanceof f&&!(c instanceof a)&&(c=a(c));return f.fn.init.call(this,g,c,b)};a.fn.init.prototype=a.fn;var b=a(u);return a}})();var K,U,da,Aa=/alpha\([^)]*\)/i,Nb=/opacity=([^)]*)/,Ob=/^(top|right|bottom|left)$/,Pb=/^(none|table(?!-c[ea]).+)/,Wa=/^margin/,ib=RegExp("^("+na+")(.*)$","i"),ja=RegExp("^("+na+")(?!px)[a-z%]+$","i"),Qb=RegExp("^([-+])=("+na+")","i"),sa={BODY:"block"},
Rb={position:"absolute",visibility:"hidden",display:"block"},Xa={letterSpacing:0,fontWeight:400},Y=["Top","Right","Bottom","Left"],Fa=["Webkit","O","Moz","ms"],Sb=f.fn.toggle;f.fn.extend({css:function(a,b){return f.access(this,function(a,b,g){return g!==d?f.style(a,b,g):f.css(a,b)},a,b,1<arguments.length)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(a,b){var h="boolean"===typeof a;return f.isFunction(a)&&f.isFunction(b)?Sb.apply(this,arguments):this.each(function(){(h?
a:n(this))?f(this).show():f(this).hide()})}});f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var f=K(a,"opacity");return""===f?"1":f}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,h,c){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var e,i,j,k=f.camelCase(b),n=a.style,b=f.cssProps[k]||(f.cssProps[k]=v(n,k));j=f.cssHooks[b]||f.cssHooks[k];if(h!==d){i=
typeof h;if("string"===i&&(e=Qb.exec(h)))h=(e[1]+1)*e[2]+parseFloat(f.css(a,b)),i="number";if(!(null==h||"number"===i&&isNaN(h)))if("number"===i&&!f.cssNumber[k]&&(h+="px"),!j||!("set"in j)||(h=j.set(a,h,c))!==d)try{n[b]=h}catch(m){}}else return j&&"get"in j&&(e=j.get(a,!1,c))!==d?e:n[b]}},css:function(a,b,h,c){var e,i;i=f.camelCase(b);b=f.cssProps[i]||(f.cssProps[i]=v(a.style,i));(i=f.cssHooks[b]||f.cssHooks[i])&&"get"in i&&(e=i.get(a,!0,c));e===d&&(e=K(a,b));"normal"===e&&b in Xa&&(e=Xa[b]);return h||
c!==d?(a=parseFloat(e),h||f.isNumeric(a)?a||0:e):e},swap:function(a,b,f){var c,d={};for(c in b)d[c]=a.style[c],a.style[c]=b[c];f=f.call(a);for(c in b)a.style[c]=d[c];return f}});a.getComputedStyle?K=function(b,c){var h,d,e,i,j=a.getComputedStyle(b,null),k=b.style;j&&(h=j.getPropertyValue(c)||j[c],""===h&&!f.contains(b.ownerDocument,b)&&(h=f.style(b,c)),ja.test(h)&&Wa.test(c)&&(d=k.width,e=k.minWidth,i=k.maxWidth,k.minWidth=k.maxWidth=k.width=h,h=j.width,k.width=d,k.minWidth=e,k.maxWidth=i));return h}:
u.documentElement.currentStyle&&(K=function(a,b){var f,c,d=a.currentStyle&&a.currentStyle[b],e=a.style;null==d&&e&&e[b]&&(d=e[b]);if(ja.test(d)&&!Ob.test(b)){f=e.left;if(c=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;e.left="fontSize"===b?"1em":d;d=e.pixelLeft+"px";e.left=f;c&&(a.runtimeStyle.left=c)}return""===d?"auto":d});f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,g,c){if(g)return 0===a.offsetWidth&&Pb.test(K(a,"display"))?f.swap(a,Rb,function(){return z(a,
b,c)}):z(a,b,c)},set:function(a,g,c){return t(a,g,c?y(a,b,c,f.support.boxSizing&&"border-box"===f.css(a,"boxSizing")):0)}}});f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+100*b+")":"",i=d&&d.filter||c.filter||"";c.zoom=1;if(1<=b&&(""===f.trim(i.replace(Aa,""))&&c.removeAttribute)&&(c.removeAttribute("filter"),
d&&!d.filter))return;c.filter=Aa.test(i)?i.replace(Aa,e):i+" "+e}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){if(b)return K(a,"marginRight")})}});!f.support.pixelPosition&&f.fn.position&&f.each(["top","left"],function(a,b){f.cssHooks[b]={get:function(a,g){if(g){var c=K(a,b);return ja.test(c)?f(a).position()[b]+"px":c}}}})});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){return 0===a.offsetWidth&&
0===a.offsetHeight||!f.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||K(a,"display"))},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(f){for(var c="string"===typeof f?f.split(" "):[f],d={},f=0;4>f;f++)d[a+Y[f]+b]=c[f]||c[f-2]||c[0];return d}};Wa.test(a)||(f.cssHooks[a+b].set=t)});var Tb=/%20/g,jb=/\[\]$/,Ya=/\r?\n/g,Ub=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Vb=/^(?:select|textarea)/i;f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Vb.test(this.nodeName)||Ub.test(this.type))}).map(function(a,b){var c=f(this).val();return null==c?null:f.isArray(c)?f.map(c,function(a){return{name:b.name,value:a.replace(Ya,"\r\n")}}):{name:b.name,value:c.replace(Ya,"\r\n")}}).get()}});
f.param=function(a,b){var c,e=[],i=function(a,b){b=f.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===d&&(b=f.ajaxSettings&&f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){i(this.name,this.value)});else for(c in a)C(c,a[c],b,i);return e.join("&").replace(Tb,"+")};var aa,Q,Wb=/#.*$/,Xb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Yb=/^(?:GET|HEAD)$/,Zb=/^\/\//,Za=/\?/,$b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
ac=/([?&])_=[^&]*/,$a=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ab=f.fn.load,ta={},bb={},cb=["*/"]+["*"];try{Q=Z.href}catch(hc){Q=u.createElement("a"),Q.href="",Q=Q.href}aa=$a.exec(Q.toLowerCase())||[];f.fn.load=function(a,b,c){if("string"!==typeof a&&ab)return ab.apply(this,arguments);if(!this.length)return this;var e,i,j,k=this,n=a.indexOf(" ");0<=n&&(e=a.slice(n,a.length),a=a.slice(0,n));f.isFunction(b)?(c=b,b=d):b&&"object"===typeof b&&(i="POST");f.ajax({url:a,type:i,dataType:"html",data:b,
complete:function(a,b){c&&k.each(c,j||[a.responseText,b,a])}}).done(function(a){j=arguments;k.html(e?f("<div>").append(a.replace($b,"")).find(e):a)});return this};f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}});f.each(["get","post"],function(a,b){f[b]=function(a,g,c,e){f.isFunction(g)&&(e=e||c,c=g,g=d);return f.ajax({type:b,url:a,data:g,success:c,dataType:e})}});f.extend({getScript:function(a,b){return f.get(a,
d,b,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?L(a,f.ajaxSettings):(b=a,a=f.ajaxSettings);L(a,b);return a},ajaxSettings:{url:Q,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(aa[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cb},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:E(ta),ajaxTransport:E(bb),ajax:function(a,b){function c(a,b,g,h){var j,m,o,s,w=b;if(2!==z){z=2;n&&clearTimeout(n);k=d;i=h||"";u.readyState=0<a?4:0;if(g){s=l;var h=u,y,B,C,ra,E=s.contents,x=s.dataTypes,M=s.responseFields;for(B in M)B in g&&(h[M[B]]=g[B]);for(;"*"===x[0];)x.shift(),y===
d&&(y=s.mimeType||h.getResponseHeader("content-type"));if(y)for(B in E)if(E[B]&&E[B].test(y)){x.unshift(B);break}if(x[0]in g)C=x[0];else{for(B in g){if(!x[0]||s.converters[B+" "+x[0]]){C=B;break}ra||(ra=B)}C=C||ra}C?(C!==x[0]&&x.unshift(C),s=g[C]):s=void 0}if(200<=a&&300>a||304===a)if(l.ifModified&&((g=u.getResponseHeader("Last-Modified"))&&(f.lastModified[e]=g),(g=u.getResponseHeader("Etag"))&&(f.etag[e]=g)),304===a)w="notmodified",j=!0;else{a:{m=l;o=s;var G,D,w=m.dataTypes.slice();y=w[0];B={};C=
0;m.dataFilter&&(o=m.dataFilter(o,m.dataType));if(w[1])for(G in m.converters)B[G.toLowerCase()]=m.converters[G];for(;g=w[++C];)if("*"!==g){if("*"!==y&&y!==g){G=B[y+" "+g]||B["* "+g];if(!G)for(D in B)if(j=D.split(" "),j[1]===g&&(G=B[y+" "+j[0]]||B["* "+j[0]])){!0===G?G=B[D]:!0!==B[D]&&(g=j[0],w.splice(C--,0,g));break}if(!0!==G)if(G&&m["throws"])o=G(o);else try{o=G(o)}catch(Z){j={state:"parsererror",error:G?Z:"No conversion from "+y+" to "+g};break a}}y=g}j={state:"success",data:o}}w=j.state;m=j.data;
o=j.error;j=!o}else if(o=w,!w||a)w="error",0>a&&(a=0);u.status=a;u.statusText=(b||w)+"";j?t.resolveWith(v,[m,w,u]):t.rejectWith(v,[u,w,o]);u.statusCode(A);A=d;p&&q.trigger("ajax"+(j?"Success":"Error"),[u,l,j?m:o]);r.fireWith(v,[u,w]);p&&(q.trigger("ajaxComplete",[u,l]),--f.active||f.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=d);var b=b||{},e,i,j,k,n,m,p,o,l=f.ajaxSetup({},b),v=l.context||l,q=v!==l&&(v.nodeType||v instanceof f)?f(v):f.event,t=f.Deferred(),r=f.Callbacks("once memory"),
A=l.statusCode||{},s={},y={},z=0,B="canceled",u={readyState:0,setRequestHeader:function(a,b){if(!z){var g=a.toLowerCase(),a=y[g]=y[g]||a;s[a]=b}return this},getAllResponseHeaders:function(){return z===2?i:null},getResponseHeader:function(a){var b;if(z===2){if(!j)for(j={};b=Xb.exec(i);)j[b[1].toLowerCase()]=b[2];b=j[a.toLowerCase()]}return b===d?null:b},overrideMimeType:function(a){if(!z)l.mimeType=a;return this},abort:function(a){a=a||B;k&&k.abort(a);c(0,a);return this}};t.promise(u);u.success=u.done;
u.error=u.fail;u.complete=r.add;u.statusCode=function(a){if(a){var b;if(z<2)for(b in a)A[b]=[A[b],a[b]];else{b=a[u.status];u.always(b)}}return this};l.url=((a||l.url)+"").replace(Wb,"").replace(Zb,aa[1]+"//");l.dataTypes=f.trim(l.dataType||"*").toLowerCase().split(T);null==l.crossDomain&&(m=$a.exec(l.url.toLowerCase()),l.crossDomain=!(!m||!(m[1]!==aa[1]||m[2]!==aa[2]||(m[3]||("http:"===m[1]?80:443))!=(aa[3]||("http:"===aa[1]?80:443)))));l.data&&(l.processData&&"string"!==typeof l.data)&&(l.data=f.param(l.data,
l.traditional));N(ta,l,b,u);if(2===z)return u;p=l.global;l.type=l.type.toUpperCase();l.hasContent=!Yb.test(l.type);p&&0===f.active++&&f.event.trigger("ajaxStart");if(!l.hasContent&&(l.data&&(l.url+=(Za.test(l.url)?"&":"?")+l.data,delete l.data),e=l.url,!1===l.cache)){m=f.now();var C=l.url.replace(ac,"$1_="+m);l.url=C+(C===l.url?(Za.test(l.url)?"&":"?")+"_="+m:"")}(l.data&&l.hasContent&&!1!==l.contentType||b.contentType)&&u.setRequestHeader("Content-Type",l.contentType);l.ifModified&&(e=e||l.url,f.lastModified[e]&&
u.setRequestHeader("If-Modified-Since",f.lastModified[e]),f.etag[e]&&u.setRequestHeader("If-None-Match",f.etag[e]));u.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+cb+"; q=0.01":""):l.accepts["*"]);for(o in l.headers)u.setRequestHeader(o,l.headers[o]);if(l.beforeSend&&(!1===l.beforeSend.call(v,u,l)||2===z))return u.abort();B="abort";for(o in{success:1,error:1,complete:1})u[o](l[o]);if(k=N(bb,l,b,u)){u.readyState=1;p&&q.trigger("ajaxSend",
[u,l]);l.async&&0<l.timeout&&(n=setTimeout(function(){u.abort("timeout")},l.timeout));try{z=1,k.send(s,c)}catch(E){if(2>z)c(-1,E);else throw E;}}else c(-1,"No Transport");return u},active:0,lastModified:{},etag:{}});var db=[],bc=/\?/,pa=/(=)\?(?=&|$)|\?\?/,cc=f.now();f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=db.pop()||f.expando+"_"+cc++;this[a]=!0;return a}});f.ajaxPrefilter("json jsonp",function(b,c,h){var e,i,j,k=b.data,n=b.url,m=!1!==b.jsonp,l=m&&pa.test(n),p=m&&!l&&"string"===
typeof k&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&pa.test(k);if("jsonp"===b.dataTypes[0]||l||p)return e=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[e],l?b.url=n.replace(pa,"$1"+e):p?b.data=k.replace(pa,"$1"+e):m&&(b.url+=(bc.test(n)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){j||f.error(e+" was not called");return j[0]},b.dataTypes[0]="json",a[e]=function(){j=arguments},h.always(function(){a[e]=i;if(b[e]){b.jsonpCallback=
c.jsonpCallback;db.push(e)}j&&f.isFunction(i)&&i(j[0]);j=i=d}),"script"});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}});f.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});f.ajaxTransport("script",function(a){if(a.crossDomain){var b,f=u.head||u.getElementsByTagName("head")[0]||
u.documentElement;return{send:function(c,e){b=u.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,g){if(g||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;f&&b.parentNode&&f.removeChild(b);b=d;g||e(200,"success")}};f.insertBefore(b,f.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var ba,Ba=a.ActiveXObject?function(){for(var a in ba)ba[a](0,1)}:!1,dc=0;f.ajaxSettings.xhr=
a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&M()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(f){}b=void 0}return b}:M;(function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(f.ajaxSettings.xhr());f.support.ajax&&f.ajaxTransport(function(b){if(!b.crossDomain||f.support.cors){var c;return{send:function(h,e){var i,j,k=b.xhr();b.username?k.open(b.type,b.url,b.async,b.username,b.password):k.open(b.type,b.url,b.async);if(b.xhrFields)for(j in b.xhrFields)k[j]=
b.xhrFields[j];b.mimeType&&k.overrideMimeType&&k.overrideMimeType(b.mimeType);!b.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");try{for(j in h)k.setRequestHeader(j,h[j])}catch(n){}k.send(b.hasContent&&b.data||null);c=function(a,h){var j,n,m,l,p;try{if(c&&(h||4===k.readyState))if(c=d,i&&(k.onreadystatechange=f.noop,Ba&&delete ba[i]),h)4!==k.readyState&&k.abort();else{j=k.status;m=k.getAllResponseHeaders();l={};if((p=k.responseXML)&&p.documentElement)l.xml=p;try{l.text=
k.responseText}catch(o){}try{n=k.statusText}catch(v){n=""}!j&&b.isLocal&&!b.crossDomain?j=l.text?200:404:1223===j&&(j=204)}}catch(q){h||e(-1,q)}l&&e(j,n,l,m)};b.async?4===k.readyState?setTimeout(c,0):(i=++dc,Ba&&(ba||(ba={},f(a).unload(Ba)),ba[i]=c),k.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}});var ea,qa,ec=/^(?:toggle|show|hide)$/,fc=RegExp("^(?:([-+])=|)("+na+")([a-z%]*)$","i"),gc=/queueHooks$/,ka=[function(a,b,c){var d,e,i,j,k,m,l=this,p=a.style,o={},v=[],q=a.nodeType&&n(a);c.queue||
(k=f._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,m=k.empty.fire,k.empty.fire=function(){k.unqueued||m()}),k.unqueued++,l.always(function(){l.always(function(){k.unqueued--;f.queue(a,"fx").length||k.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===f.css(a,"display")&&"none"===f.css(a,"float")&&(!f.support.inlineBlockNeedsLayout||"inline"===B(a.nodeName)?p.display="inline-block":p.zoom=1);c.overflow&&(p.overflow="hidden",
f.support.shrinkWrapBlocks||l.done(function(){p.overflow=c.overflow[0];p.overflowX=c.overflow[1];p.overflowY=c.overflow[2]}));for(d in b)i=b[d],ec.exec(i)&&(delete b[d],e=e||"toggle"===i,i!==(q?"hide":"show")&&v.push(d));if(b=v.length){i=f._data(a,"fxshow")||f._data(a,"fxshow",{});"hidden"in i&&(q=i.hidden);e&&(i.hidden=!q);q?f(a).show():l.done(function(){f(a).hide()});l.done(function(){var b;f.removeData(a,"fxshow",true);for(b in o)f.style(a,b,o[b])});for(d=0;d<b;d++)e=v[d],j=l.createTween(e,q?i[e]:
0),o[e]=i[e]||f.style(a,e),e in i||(i[e]=j.start,q&&(j.end=j.start,j.start="width"===e||"height"===e?1:0))}}],ga={"*":[function(a,b){var c,d,e=this.createTween(a,b),i=fc.exec(b),j=e.cur(),k=+j||0,n=1,m=20;if(i){c=+i[2];d=i[3]||(f.cssNumber[a]?"":"px");if("px"!==d&&k){k=f.css(e.elem,a,!0)||c||1;do n=n||".5",k/=n,f.style(e.elem,a,k+d);while(n!==(n=e.cur()/j)&&1!==n&&--m)}e.unit=d;e.start=k;e.end=i[1]?k+(i[1]+1)*c:c}return e}]};f.Animation=f.extend(D,{tweener:function(a,b){f.isFunction(a)?(b=a,a=["*"]):
a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],ga[c]=ga[c]||[],ga[c].unshift(b)},prefilter:function(a,b){b?ka.unshift(a):ka.push(a)}});f.Tween=F;F.prototype={constructor:F,init:function(a,b,c,d,e,i){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=i||(f.cssNumber[c]?"":"px")},cur:function(){var a=F.propHooks[this.prop];return a&&a.get?a.get(this):F.propHooks._default.get(this)},run:function(a){var b,c=F.propHooks[this.prop];
this.pos=this.options.duration?b=f.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):F.propHooks._default.set(this);return this}};F.prototype.init.prototype=F.prototype;F.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=f.css(a.elem,a.prop,!1,"");return!a||"auto"===
a?0:a},set:function(a){if(f.fx.step[a.prop])f.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[f.cssProps[a.prop]]||f.cssHooks[a.prop])?f.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};f.each(["toggle","show","hide"],function(a,b){var c=f.fn[b];f.fn[b]=function(d,e,i){return null==d||"boolean"===typeof d||!a&&f.isFunction(d)&&f.isFunction(e)?c.apply(this,arguments):
this.animate(J(b,!0),d,e,i)}});f.fn.extend({fadeTo:function(a,b,f,c){return this.filter(n).css("opacity",0).show().end().animate({opacity:b},a,f,c)},animate:function(a,b,c,d){var e=f.isEmptyObject(a),i=f.speed(b,c,d),b=function(){var b=D(this,f.extend({},a),i);e&&b.stop(!0)};return e||!1===i.queue?this.each(b):this.queue(i.queue,b)},stop:function(a,b,c){var e=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=d);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=
true,d=a!=null&&a+"queueHooks",i=f.timers,j=f._data(this);if(d)j[d]&&j[d].stop&&e(j[d]);else for(d in j)j[d]&&j[d].stop&&gc.test(d)&&e(j[d]);for(d=i.length;d--;)if(i[d].elem===this&&(a==null||i[d].queue===a)){i[d].anim.stop(c);b=false;i.splice(d,1)}(b||!c)&&f.dequeue(this,a)})}});f.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,g,f){return this.animate(b,a,g,f)}});
f.speed=function(a,b,c){var d=a&&"object"===typeof a?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){f.isFunction(d.old)&&d.old.call(this);d.queue&&f.dequeue(this,d.queue)};return d};f.easing={linear:function(a){return a},swing:function(a){return 0.5-
Math.cos(a*Math.PI)/2}};f.timers=[];f.fx=F.prototype.init;f.fx.tick=function(){var a,b=f.timers,c=0;for(ea=f.now();c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop();ea=d};f.fx.timer=function(a){a()&&f.timers.push(a)&&!qa&&(qa=setInterval(f.fx.tick,f.fx.interval))};f.fx.interval=13;f.fx.stop=function(){clearInterval(qa);qa=null};f.fx.speeds={slow:600,fast:200,_default:400};f.fx.step={};f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===
b.elem}).length});var eb=/^(?:body|html)$/i;f.fn.offset=function(a){if(arguments.length)return a===d?this:this.each(function(b){f.offset.setOffset(this,a,b)});var b,c,e,i,j,k={top:0,left:0};if(e=(i=this[0])&&i.ownerDocument){if((c=e.body)===i)return f.offset.bodyOffset(i);b=e.documentElement;if(!f.contains(b,i))return k;"undefined"!==typeof i.getBoundingClientRect&&(k=i.getBoundingClientRect());e=R(e);i=b.clientTop||c.clientTop||0;c=b.clientLeft||c.clientLeft||0;j=e.pageYOffset||b.scrollTop;b=e.pageXOffset||
b.scrollLeft;return{top:k.top+j-i,left:k.left+b-c}}};f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");"static"===d&&(a.style.position="relative");var e=f(a),i=e.offset(),j=f.css(a,"top"),k=f.css(a,"left"),n={},m={};("absolute"===d||"fixed"===d)&&-1<f.inArray("auto",[j,k])?(m=e.position(),
d=m.top,k=m.left):(d=parseFloat(j)||0,k=parseFloat(k)||0);f.isFunction(b)&&(b=b.call(a,c,i));null!=b.top&&(n.top=b.top-i.top+d);null!=b.left&&(n.left=b.left-i.left+k);"using"in b?b.using.call(a,n):e.css(n)}};f.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=eb.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0;c.left-=parseFloat(f.css(a,"marginLeft"))||0;d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0;d.left+=
parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||u.body;a&&!eb.test(a.nodeName)&&"static"===f.css(a,"position");)a=a.offsetParent;return a||u.body})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);f.fn[a]=function(e){return f.access(this,function(a,g,e){var i=R(a);if(e===d)return i?b in i?i[b]:i.document.documentElement[g]:a[g];i?i.scrollTo(!c?
e:f(i).scrollLeft(),c?e:f(i).scrollTop()):a[g]=e},a,e,arguments.length,null)}});f.each({Height:"height",Width:"width"},function(a,b){f.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,e){f.fn[e]=function(e,i){var j=arguments.length&&(c||"boolean"!==typeof e),k=c||(!0===e||!0===i?"margin":"border");return f.access(this,function(b,c,e){return f.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],
c["offset"+a],c["client"+a])):e===d?f.css(b,c,e,k):f.style(b,c,e,k)},b,j?e:d,j,null)}})});a.jQuery=a.$=f;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);steal.executed("jquery");steal(function(){var a=window.can||{};if("undefined"===typeof GLOBALCAN||!1!==GLOBALCAN)window.can=a;a.isDeferred=function(a){var e=this.isFunction;return a&&e(a.then)&&e(a.pipe)};return a});steal.executed("can/util/can.js");
steal("can/util/can.js",function(a){a.each=function(a,e,b){var c=0,j;if(a)if("number"===typeof a.length&&a.pop){a.attr&&a.attr("length");for(j=a.length;c<j&&!1!==e.call(b||a[c],a[c],c,a);c++);}else if(a.hasOwnProperty)for(j in a)if(a.hasOwnProperty(j)&&!1===e.call(b||a[j],a[j],j,a))break;return a};return a});steal.executed("can/util/array/each.js");
steal("can/util/string",function(a){var d=0;a.Construct=function(){if(arguments.length)return a.Construct.extend.apply(a.Construct,arguments)};a.extend(a.Construct,{newInstance:function(){var a=this.instance(),b;a.setup&&(b=a.setup.apply(a,arguments));a.init&&a.init.apply(a,b||arguments);return a},_inherit:function(d,b,c){a.extend(c||d,d||{})},_overwrite:function(a,b,c,d){a[c]=d},setup:function(d){this.defaults=a.extend(!0,{},d.defaults,this.defaults)},instance:function(){d=1;var a=new this;d=0;return a},
extend:function(e,b,c){function j(){if(!d)return this.constructor!==j&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.constructor.newInstance.apply(this.constructor,arguments)}"string"!=typeof e&&(c=b,b=e,e=null);c||(c=b,b=null);var c=c||{},k=this.prototype,l,r,i,m;m=this.instance();a.Construct._inherit(c,k,m);for(l in this)this.hasOwnProperty(l)&&(j[l]=this[l]);a.Construct._inherit(b,this,j);if(e){i=e.split(".");r=i.pop();i=k=a.getObject(i.join("."),window,!0);var s=
a.underscore(e.replace(/\./g,"_")),o=a.underscore(r);k[r]=j}a.extend(j,{constructor:j,prototype:m,namespace:i,shortName:r,_shortName:o,fullName:e,_fullName:s});j.prototype.constructor=j;r=[this].concat(a.makeArray(arguments));m=j.setup.apply(j,r);j.init&&j.init.apply(j,m||r);return j}});return a.Construct});steal.executed("can/construct/construct.js");
steal("can/util",function(a){var d=/\=\=/,e=/([A-Z]+)([A-Z][a-z])/g,b=/([a-z\d])([A-Z])/g,c=/([a-z\d])([A-Z])/g,j=/\{([^\}]+)\}/g,k=/"/g,l=/'/g;a.extend(a,{esc:function(a){return(""+(null===a||void 0===a||isNaN(a)&&"NaN"===""+a?"":a)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(k,"&#34;").replace(l,"&#39;")},getObject:function(b,c,d){var b=b?b.split("."):[],e=b.length,j,k=0,l,v,c=a.isArray(c)?c:[c||window];if(!e)return c[0];for(;c[k];){j=c[k];for(v=0;v<e-1&&/^f|^o/.test(typeof j);v++)j=
b[v]in j?j[b[v]]:d&&(j[b[v]]={});if(/^f|^o/.test(typeof j)&&(l=b[v]in j?j[b[v]]:d&&(j[b[v]]={}),void 0!==l))return!1===d&&delete j[b[v]],l;k++}},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},underscore:function(a){return a.replace(d,"/").replace(e,"$1_$2").replace(b,"$1_$2").replace(c,"_").toLowerCase()},sub:function(b,c,d){var e=[];e.push(b.replace(j,function(b,j){var k=a.getObject(j,c,void 0===d?d:!d);return void 0===k?(e=null,""):/^f|^o/.test(typeof k)&&e?(e.push(k),""):""+
k}));return null===e?e:1>=e.length?e[0]:e},replacer:j,undHash:/_|-/});return a});steal.executed("can/util/string/string.js");
steal("can/util","can/construct",function(a){var d=a.isFunction,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;a.Construct._overwrite=function(a,c,j,k){a[j]=d(k)&&d(c[j])&&e.test(k)?function(a,b){return function(){var d=this._super,e;this._super=c[a];e=b.apply(this,arguments);this._super=d;return e}}(j,k):k};a.Construct._inherit=function(b,c,d){var d=d||b,e;for(e in b)a.Construct._overwrite(d,c,e,b[e])};return a});steal.executed("can/construct/super/super.js");
steal("can/util","can/construct",function(a){var d=function(b,c,d){a.bind.call(b,c,d);return function(){a.unbind.call(b,c,d)}},e=a.isFunction,b=a.extend,c=a.each,j=[].slice,k=/\{([^\}]+)\}/g,l=a.getObject("$.event.special")||{},r=function(b,c,d,e){a.delegate.call(b,c,d,e);return function(){a.undelegate.call(b,c,d,e)}},i,m=a.Control=a.Construct({setup:function(){a.Construct.setup.apply(this,arguments);if(a.Control){var b;this.actions={};for(b in this.prototype)this._isAction(b)&&(this.actions[b]=this._action(b))}},
_shifter:function(b,c){var d="string"==typeof c?b[c]:c;e(d)||(d=b[d]);return function(){b.called=c;return d.apply(b,[this.nodeName?a.$(this):this].concat(j.call(arguments,0)))}},_isAction:function(a){var b=this.prototype[a],c=typeof b;return"constructor"!==a&&("function"==c||"string"==c&&e(this.prototype[b]))&&!(!l[a]&&!s[a]&&!/[^\w]/.test(a))},_action:function(b,c){k.lastIndex=0;if(c||!k.test(b)){var d=c?a.sub(b,[c,window]):b;if(!d)return null;var e=a.isArray(d),j=e?d[1]:d,l=j.split(/\s+/g),m=l.pop();
return{processor:s[m]||i,parts:[j,l.join(" "),m],delegate:e?d[0]:void 0}}},processors:{},defaults:{}},{setup:function(c,d){var e=this.constructor,i=e.pluginName||e._fullName;this.element=a.$(c);i&&"can_control"!==i&&this.element.addClass(i);(i=a.data(this.element,"controls"))||a.data(this.element,"controls",i=[]);i.push(this);this.options=b({},e.defaults,d);this.on();return[this.element,this.options]},on:function(b,c,e,i){if(!b){this.off();var b=this.constructor,c=this._bindings,e=b.actions,i=this.element,
j=a.Control._shifter(this,"destroy"),k,l;for(k in e)if(e.hasOwnProperty(k)&&(l=e[k]||b._action(k,this.options)))c.push(l.processor(l.delegate||i,l.parts[2],l.parts[1],k,this));a.bind.call(i,"destroyed",j);c.push(function(b){a.unbind.call(b,"destroyed",j)});return c.length}"string"==typeof b&&(i=e,e=c,c=b,b=this.element);void 0===i&&(i=e,e=c,c=null);"string"==typeof i&&(i=a.Control._shifter(this,i));this._bindings.push(c?r(b,a.trim(c),e,i):d(b,e,i));return this._bindings.length},off:function(){var a=
this.element[0];c(this._bindings||[],function(b){b(a)});this._bindings=[]},destroy:function(){var b=this.constructor,b=b.pluginName||b._fullName;this.off();b&&"can_control"!==b&&this.element.removeClass(b);b=a.data(this.element,"controls");b.splice(a.inArray(this,b),1);a.trigger(this,"destroyed");this.element=null}}),s=a.Control.processors;i=function(b,c,e,i,j){i=a.Control._shifter(j,i);return e?r(b,a.trim(e),c,i):d(b,c,i)};c("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave touchstart touchmove touchcancel touchend touchleave".split(" "),
function(a){s[a]=i});return m});steal.executed("can/control/control.js");
steal("can/util","can/view","can/util/string","can/observe/compute","can/view/scanner.js","can/view/render.js",function(a){var d=a.extend,e=function(a){if(this.constructor!=e){var c=new e(a);return function(a,b){return c.render(a,b)}}"function"==typeof a?this.template={fn:a}:(d(this,a),this.template=this.scanner.scan(this.text,this.name))};a.EJS=e;e.prototype.render=function(a,c){a=a||{};return this.template.fn.call(a,a,new e.Helpers(a,c||{}))};d(e.prototype,{scanner:new a.view.Scanner({tokens:[["templateLeft",
"<%%"],["templateRight","%>"],["returnLeft","<%=="],["escapeLeft","<%="],["commentLeft","<%#"],["left","<%"],["right","%>"],["returnRight","%>"]]})});e.Helpers=function(a,c){this._data=a;this._extras=c;d(this,c)};e.Helpers.prototype={list:function(b,c){a.each(b,function(a,d){c(a,d,b)})}};a.view.register({suffix:"ejs",script:function(a,c){return"can.EJS(function(_CONTEXT,_VIEW) { "+(new e({text:c,name:a})).template.out+" })"},renderer:function(a,c){return e({text:c,name:a})}});return a});steal.executed("can/view/ejs/ejs.js");
steal("can/util",function(a){var d=a.isFunction,e=a.makeArray,b=1,c=a.view=function(b,e,j,k){b=c.render(b,e,j,k);return d(b)?b:a.isDeferred(b)?b.pipe(function(a){return c.frag(a)}):c.frag(b)};a.extend(c,{frag:function(a,b){return c.hookup(c.fragment(a),b)},fragment:function(b){b=a.buildFragment(b,document.body);b.childNodes.length||b.appendChild(document.createTextNode(""));return b},toId:function(b){return a.map(b.toString().split(/\/|\./g),function(a){if(a)return a}).join("_")},hookup:function(b,
d){var e=[],j,k;a.each(b.childNodes?a.makeArray(b.childNodes):b,function(b){1===b.nodeType&&(e.push(b),e.push.apply(e,a.makeArray(b.getElementsByTagName("*"))))});a.each(e,function(a){if(a.getAttribute&&(j=a.getAttribute("data-view-id"))&&(k=c.hookups[j]))k(a,d,j),delete c.hookups[j],a.removeAttribute("data-view-id")});return b},hookups:{},hook:function(a){c.hookups[++b]=a;return" data-view-id='"+b+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(a){this.types["."+a.suffix]=a},types:{},
ext:".ejs",registerScript:function(){},preload:function(){},render:function(b,j,s,o){d(s)&&(o=s,s=void 0);var q=l(j);if(q.length){var p=new a.Deferred;q.push(k(b,!0));a.when.apply(a,q).then(function(b){var c=e(arguments),d=c.pop();if(a.isDeferred(j))j=r(b);else for(var i in j)a.isDeferred(j[i])&&(j[i]=r(c.shift()));c=d(j,s);p.resolve(c);o&&o(c)});return p}var v,q=d(o),p=k(b,q);if(q)v=p,p.then(function(a){o(j?a(j,s):a)});else{if("resolved"===p.state()&&p.__view_id)return b=c.cachedRenderers[p.__view_id],
j?b(j,s):b;p.then(function(a){v=j?a(j,s):a})}return v},registerView:function(b,d,e,j){d=(e||c.types[c.ext]).renderer(b,d);j=j||new a.Deferred;c.cache&&(c.cached[b]=j,j.__view_id=b,c.cachedRenderers[b]=d);return j.resolve(d)}});var j=function(a,b){if(!a.length)throw"can.view: No template or empty template:"+b;},k=function(b,d){var e=b.match(/\.[\w\d]+$/),k,l,p;b.match(/^#/)&&(b=b.substr(1));if(l=document.getElementById(b))e="."+l.type.match(/\/(x\-)?(.+)/)[2];!e&&!c.cached[b]&&(b+=e=c.ext);a.isArray(e)&&
(e=e[0]);p=c.toId(b);if(b.match(/^\/\//))var v=b.substr(2),b=!window.steal?v:steal.config().root.mapJoin(v);k=c.types[e];if(c.cached[p])return c.cached[p];if(l)return c.registerView(p,l.innerHTML,k);var n=new a.Deferred;a.ajax({async:d,url:b,dataType:"text",error:function(a){j("",b);n.reject(a)},success:function(a){j(a,b);c.registerView(p,a,k,n)}});return n},l=function(b){var c=[];if(a.isDeferred(b))return[b];for(var d in b)a.isDeferred(b[d])&&c.push(b[d]);return c},r=function(b){return a.isArray(b)&&
"success"===b[1]?b[0]:b};window.steal&&steal.type("view js",function(a,b){var d=c.types["."+a.type],e=c.toId(a.id);a.text="steal('"+(d.plugin||"can/view/"+a.type)+"',function(can){return can.view.preload('"+e+"',"+a.text+");\n})";b()});a.extend(c,{register:function(b){this.types["."+b.suffix]=b;window.steal&&steal.type(b.suffix+" view js",function(a,b){var d=c.types["."+a.type],e=c.toId(a.id+"");a.text=d.script(e,a.text);b()});c[b.suffix]=function(d,e){if(!e)return b.renderer(null,d);c.preload(d,
b.renderer(d,e));return a.view(d)}},registerScript:function(a,b,d){return"can.view.preload('"+b+"',"+c.types["."+a].script(b,d)+");"},preload:function(b,d){c.cached[b]=(new a.Deferred).resolve(function(a,b){return d.call(a,a,b)});return function(){return c.frag(d.apply(this,arguments))}}});return a});steal.executed("can/view/view.js");
steal("can/util",function(a){var d=function(b,c){var d;a.Observe&&(d=a.Observe.__reading,a.Observe.__reading=function(a,b){e.push({obj:a,attr:b})});var e=[],l=b.call(c);a.Observe&&(a.Observe.__reading=d);return{value:l,observed:e}},e=function(b,c,e){var k={},l=!0,r={value:void 0,teardown:function(){for(var a in k){var b=k[a];b.observe.obj.unbind(b.observe.attr,m);delete k[a]}}},i,m=function(a){if(void 0===a.batchNum||a.batchNum!==i){var b=r.value,c=s();r.value=c;c!==b&&e(c,b);i=i=a.batchNum}},s=function(){var e=
d(b,c),i=e.observed,e=e.value;l=!l;a.each(i,function(a){k[a.obj._cid+"|"+a.attr]?k[a.obj._cid+"|"+a.attr].matched=l:(k[a.obj._cid+"|"+a.attr]={matched:l,observe:a},a.obj.bind(a.attr,m))});for(var j in k)i=k[j],i.matched!==l&&(i.observe.obj.unbind(i.observe.attr,m),delete k[j]);return e};r.value=s();r.isListening=!a.isEmptyObject(k);return r};a.compute=function(b,c){if(b&&b.isComputed)return b;var d,k=0,l,r=!0;"function"===typeof b?l=function(e){return void 0===e?d?(k&&a.Observe.__reading&&a.Observe.__reading(l,
"change"),d.value):b.call(c||this):b.apply(c||this,arguments)}:(l=function(c){if(void 0===c)return a.Observe.__reading&&a.Observe.__reading(l,"change"),b;var d=b;b=c;d!==c&&a.Observe.triggerBatch(l,"change",[c,d]);return c},r=!1);l.isComputed=!0;l.bind=function(i,m){a.addEvent.apply(l,arguments);0===k&&r&&(d=e(b,c||this,function(b,c){a.Observe.triggerBatch(l,"change",[b,c])}));k++};l.unbind=function(b,c){a.removeEvent.apply(l,arguments);k--;0===k&&r&&d.teardown()};return l};a.compute.binder=e;return a.compute});
steal.executed("can/observe/compute/compute.js");
steal("can/view",function(a){var d=/(\r|\n)+/g,e={option:"textContent",textarea:"value"},b={tr:"tbody",option:"select",td:"tr",li:"ul"},c=function(a,c,d){if(a)return a;for(;d<c.length;){if("<"==c[d]&&b[c[d+1]])return b[c[d+1]];d++}},j=function(a){eval(a)},k=/([^\s]+)[\s]*=[\s]*$/,l=null,r=null,i=null,m=null,s=function(){return r?"'"+i.match(k)[1]+"'":l?1:0};a.view.Scanner=Scanner=function(b){a.extend(this,{text:{},tokens:[]},b);this.tokenReg=[];this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"};this.tokenComplex=
[];this.tokenMap={};for(var b=0,c;c=this.tokens[b];b++)c[2]?(this.tokenReg.push(c[2]),this.tokenComplex.push({abbr:c[1],re:RegExp(c[2]),rescan:c[3]})):(this.tokenReg.push(c[1]),this.tokenSimple[c[1]]=c[0]),this.tokenMap[c[0]]=c[1];this.tokenReg=RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")};Scanner.prototype={helpers:[{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(a){a=a.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);return"function(__){var "+a[1]+"=can.$(__);"+a[2]+"}"}}],
scan:function(a,b){var k=[],v=0,n=this.tokenSimple,A=this.tokenComplex,a=a.replace(d,"\n");a.replace(this.tokenReg,function(b,c){var d=arguments[arguments.length-2];d>v&&k.push(a.substring(v,d));if(n[b])k.push(b);else for(var e=0,i;i=A[e];e++)if(i.re.test(b)){k.push(i.abbr);i.rescan&&k.push(i.rescan(c));break}v=d+c.length});v<a.length&&k.push(a.substr(v));var t="",y=["var ___v1ew = [];"+(this.text.start||"")],z=function(a,b){y.push("___v1ew.push(",'"',a.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t"),
'"'+(b||"")+");")},B=[],C,E=null,N=!1,L="",M=[],S=0,O,D=this.tokenMap;for(l=r=i=null;void 0!==(O=k[S++]);){if(null===E)switch(O){case D.left:case D.escapeLeft:case D.returnLeft:N=l&&1;case D.commentLeft:E=O;t.length&&z(t);t="";break;case D.escapeFull:N=l&&1;m=1;E=D.escapeLeft;t.length&&z(t);m=k[S++];t=m.content||m;m.before&&z(m.before);k.splice(S,0,D.right);break;case D.commentFull:break;case D.templateLeft:t+=D.left;break;case "<":0!==k[S].indexOf("!--")&&(l=1,N=0);t+=O;break;case ">":l=0;C="/"==
t.substr(t.length-1);N||e[M[M.length-1]]?(C?z(t.substr(0,t.length-1),',can.view.pending(),"/>"'):z(t,',can.view.pending(),">"'),t=""):t+=O;C&&(M.pop(),L=M[M.length-1]);break;case "'":case '"':l&&(r&&r===O?r=null:null===r&&(r=O,i=C));default:"<"===C&&(L=O.split(/\s/)[0],0===L.indexOf("/")&&M.pop()===L.substr(1)?L=M[M.length-1]:M.push(L)),t+=O}else switch(O){case D.right:case D.returnRight:switch(E){case D.left:C=--t.split("{").length- --t.split("}").length;1==C?(y.push("___v1ew.push(","can.view.txt(0,'"+
c(L,k,S)+"',"+s()+",this,function(){","var ___v1ew = [];",t),B.push({before:"",after:"return ___v1ew.join('')}));\n"})):(v=B.length&&-1==C?B.pop():{after:";"},v.before&&y.push(v.before),y.push(t,";",v.after));break;case D.escapeLeft:case D.returnLeft:(C=--t.split("{").length- --t.split("}").length)&&B.push({before:"return ___v1ew.join('')",after:"}));"});for(var E=E===D.escapeLeft?1:0,ha={insert:"___v1ew.push(",tagName:L,status:s()},F=0;F<this.helpers.length;F++){var J=this.helpers[F];if(J.name.test(t)){t=
J.fn(t,ha);J.name.source==/^>[\s|\w]\w*/.source&&(E=0);break}}"object"==typeof t?t.raw&&y.push(t.raw):y.push("___v1ew.push(","can.view.txt("+E+",'"+L+"',"+s()+",this,function(){ "+(this.text.escape||"")+"return ",t,C?"var ___v1ew = [];":"}));");m&&m.after&&m.after.length&&(z(m.after.length),m=null)}E=null;t="";break;case D.templateLeft:t+=D.left;break;default:t+=O}C=O}t.length&&z(t);y.push(";");t={out:"with(_VIEW) { with (_CONTEXT) {"+y.join("")+" return ___v1ew.join('')}}"};j.call(t,"this.fn = (function(_CONTEXT,_VIEW){"+
t.out+"});\r\n//@ sourceURL="+b+".js");return t}};return Scanner});steal.executed("can/view/scanner.js");
steal("can/view",function(a){var d=!0;try{document.createTextNode()._=0}catch(e){d=!1}var b={"class":"className",value:"value",textContent:"textContent"},c={"":"span",table:"tr",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},j=/__!!__/g,k={option:"textContent",textarea:"value"},l=a.each(["checked","disabled","readonly","required"],function(a){b[a]=a}),r=function(c,d,e){var i=c.nodeName.toString().toLowerCase(),j=b[d];j?(c[j]=-1<a.inArray(d,l)?!0:e,"value"===
j&&"input"===i&&(c.defaultValue=e)):c.setAttribute(d,e)},i=[],m=function(a){if("string"==typeof a)return a;if(!a&&0!==a)return"";var b=a.hookup&&function(b,c){a.hookup.call(a,b,c)}||"function"==typeof a&&a;return b?(i.push(b),""):""+a},s=function(b){return"string"==typeof b||"number"==typeof b?a.esc(b):m(b)},o={},q={},p={},v="ejs_"+Math.random(),n=0,A=function(a){if(d||3!==a.nodeType)return a[v]?a[v]:a[v]=(a.nodeName?"element_":"obj_")+ ++n;for(var b in q)if(q[b]===a)return b;q["text_"+ ++n]=a;return"text_"+
n},t=function(b,c){var d=o[A(b)];if(d){var e=a.inArray(c,d);0<=e&&d.splice(e,1);d.length||delete o[A(b)]}},y=function(a,b){var c=o[A(a)];c||(c=o[A(a)]=[]);c.push(b)},z=function(a){a=c[a]||"span";return"span"===a?"@@!!@@":"<"+a+">"+z(a)+"</"+a+">"};a.extend(a.view,{pending:function(){var b=i.slice(0);lastHookups=b;i=[];return a.view.hook(function(c){a.each(b,function(a){a(c)})})},registerNode:function(b){var c=A(b);p[c]=b;a.each(b,function(a){y(a,c)})},unregisterNode:function(b){var c=A(b);a.each(b,
function(a){t(a,c)});delete p[c]},txt:function(d,e,n,p,v){var t=a.compute.binder(v,p,function(a,b){J(a,b)});if(!t.isListening)return(d||0!==n?s:m)(t.value);var A,o,q=function(){t.teardown();o&&a.view.unregisterNode(o)},y=function(b){a.bind.call(b,"destroyed",q);A=b},F=function(b){b||(q(),a.unbind.call(A,"destroyed",q))},p=c[e]||"span",J,R=k[e];if(0===n&&!R)return"<"+p+a.view.hook(d?function(a,b){J=function(a){d.nodeValue=""+a;F(d.parentNode)};var c=b&&11===a.parentNode.nodeType?b:a.parentNode,d=document.createTextNode(t.value);
c.insertBefore(d,a);c.removeChild(a);y(c)}:function(b,c){J=function(a){d[0].parentNode&&e(a);F(d[0].parentNode)};var c=c&&11===b.parentNode.nodeType?c:b.parentNode,d,e=function(e){var e=a.view.frag(e,c),i=a.makeArray(e.childNodes),j=d?d[d.length-1]:b;j.nextSibling?j.parentNode.insertBefore(e,j.nextSibling):j.parentNode.appendChild(e);d?(a.remove(a.$(d)),a.view.replace(d,i)):(a.remove(a.$(b)),o=d=i,a.view.registerNode(d))};e(t.value,[b]);y(c)})+">"+z(p)+"</"+p+">";if(1===n){var V=t.value.replace(/['"]/g,
"").split("=")[0];i.push(function(b){J=function(c){var c=(c||"").replace(/['"]/g,"").split("="),d=c[0];if(d!=V&&V){var e=V;-1<a.inArray(e,l)?b[e]=!1:b.removeAttribute(e)}d&&(r(b,d,c[1]),V=d)};y(b)});return t.value}var x=0===n?R:n;(0===n?lastHookups:i).push(function(c){J=function(){r(c,x,n.render(),R)};var d=a.$(c),e;(e=a.data(d,"hooks"))||a.data(d,"hooks",e={});var i=(b[x]?c[b[x]]:c.getAttribute(x))||"",d=i.split("__!!__"),k=[],n;k.push(d.shift(),d.join("__!!__"));e[x]?e[x].bindings.push(t):e[x]=
{render:function(){var a=0;return i.replace(j,function(){return m(n.bindings[a++].value)})},bindings:[t],batchNum:void 0};n=e[x];k.splice(1,0,t.value);r(c,x,k.join(""),R);y(c)});return"__!!__"},replace:function(b,c){b=a.makeArray(b);a.each(b,function(d){a.each(a.makeArray(o[A(d)]),function(e){var i=p[e],j=a.inArray(d,i),k=a.inArray(b[b.length-1],i);if(0<=j&&0<=k){for(var n=j;n<=k;n++)t(i[n],e);i.splice.apply(i,[j,k-j+1].concat(c));a.each(c,function(a){y(a,e)})}else a.view.unregisterNode(i)})})},canExpando:d,
textNodeMap:q,nodeMap:o,nodeListMap:p});return a});steal.executed("can/view/render.js");
steal("jquery","can/view",function(a,d){var e,b,c,j,k,l,r={val:!0,text:!0};e=function(e){var j=a.fn[e];a.fn[e]=function(){var a=d.makeArray(arguments),k,q,p=this;if(d.isDeferred(a[0]))return a[0].done(function(a){b.call(p,[a],j)}),this;if(c(a)){if(k=l(a))return q=a[k],a[k]=function(a){b.call(p,[a],j);q.call(p,a)},d.view.apply(d.view,a),this;a=d.view.apply(d.view,a);if(d.isDeferred(a))return a.done(function(a){b.call(p,[a],j)}),this;a=[a]}return r[e]?j.apply(this,a):b.call(this,a,j)}};b=function(a,
b){for(var c in d.view.hookups)break;c&&a[0]&&j(a[0])&&(a[0]=d.view.frag(a[0]).childNodes);return b.apply(this,a)};c=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"==b||"function"==b)&&!k(a[1])};k=function(a){return a.nodeType||a[0]&&a[0].nodeType};j=function(a){return k(a)?!0:"string"===typeof a?(a=d.trim(a),"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)&&3<=a.length):!1};l=function(a){return"function"===typeof a[3]?3:"function"===typeof a[2]&&2};a.fn.hookup=function(){d.view.frag(this);
return this};d.each("prepend append after before text html replaceWith val".split(" "),function(a){e(a)});return d});steal.executed("can/view/modifiers/modifiers.js");
(function(a,d){function e(a,b,c){return[parseInt(a[0],10)*(o.test(a[0])?b/100:1),parseInt(a[1],10)*(o.test(a[1])?c/100:1)]}function b(b,c){return parseInt(a.css(b,c),10)||0}a.ui=a.ui||{};var c,j=Math.max,k=Math.abs,l=Math.round,r=/left|center|right/,i=/top|center|bottom/,m=/[\+\-]\d+%?/,s=/^\w+/,o=/%$/,q=a.fn.position;a.position={scrollbarWidth:function(){if(c!==d)return c;var b,e,j=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
e=j.children()[0];a("body").append(j);b=e.offsetWidth;j.css("overflow","scroll");e=e.offsetWidth;b===e&&(e=j[0].clientWidth);j.remove();return c=b-e},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),d="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:"scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth?a.position.scrollbarWidth():0,height:d?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var b=
a(b||window),c=a.isWindow(b[0]);return{element:b,isWindow:c,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=function(c){if(!c||!c.of)return q.apply(this,arguments);var c=a.extend({},c),d,n,A,t,o,z=a(c.of),B=a.position.getWithinInfo(c.within),C=a.position.getScrollInfo(B),E=z[0],N=(c.collision||"flip").split(" "),L={};9===E.nodeType?(n=z.width(),A=z.height(),t={top:0,left:0}):a.isWindow(E)?
(n=z.width(),A=z.height(),t={top:z.scrollTop(),left:z.scrollLeft()}):E.preventDefault?(c.at="left top",n=A=0,t={top:E.pageY,left:E.pageX}):(n=z.outerWidth(),A=z.outerHeight(),t=z.offset());o=a.extend({},t);a.each(["my","at"],function(){var a=(c[this]||"").split(" "),b,d;1===a.length&&(a=r.test(a[0])?a.concat(["center"]):i.test(a[0])?["center"].concat(a):["center","center"]);a[0]=r.test(a[0])?a[0]:"center";a[1]=i.test(a[1])?a[1]:"center";b=m.exec(a[0]);d=m.exec(a[1]);L[this]=[b?b[0]:0,d?d[0]:0];c[this]=
[s.exec(a[0])[0],s.exec(a[1])[0]]});1===N.length&&(N[1]=N[0]);"right"===c.at[0]?o.left+=n:"center"===c.at[0]&&(o.left+=n/2);"bottom"===c.at[1]?o.top+=A:"center"===c.at[1]&&(o.top+=A/2);d=e(L.at,n,A);o.left+=d[0];o.top+=d[1];return this.each(function(){var i,m,r=a(this),q=r.outerWidth(),s=r.outerHeight(),E=b(this,"marginLeft"),J=b(this,"marginTop"),R=q+E+b(this,"marginRight")+C.width,V=s+J+b(this,"marginBottom")+C.height,x=a.extend({},o),u=e(L.my,r.outerWidth(),r.outerHeight());"right"===c.my[0]?x.left-=
q:"center"===c.my[0]&&(x.left-=q/2);"bottom"===c.my[1]?x.top-=s:"center"===c.my[1]&&(x.top-=s/2);x.left+=u[0];x.top+=u[1];a.support.offsetFractions||(x.left=l(x.left),x.top=l(x.top));i={marginLeft:E,marginTop:J};a.each(["left","top"],function(b,e){if(a.ui.position[N[b]])a.ui.position[N[b]][e](x,{targetWidth:n,targetHeight:A,elemWidth:q,elemHeight:s,collisionPosition:i,collisionWidth:R,collisionHeight:V,offset:[d[0]+u[0],d[1]+u[1]],my:c.my,at:c.at,within:B,elem:r})});a.fn.bgiframe&&r.bgiframe();c.using&&
(m=function(a){var b=t.left-x.left,d=b+n-q,e=t.top-x.top,i=e+A-s,l={target:{element:z,left:t.left,top:t.top,width:n,height:A},element:{element:r,left:x.left,top:x.top,width:q,height:s},horizontal:d<0?"left":b>0?"right":"center",vertical:i<0?"top":e>0?"bottom":"middle"};if(n<q&&k(b+d)<n)l.horizontal="center";if(A<s&&k(e+i)<A)l.vertical="middle";l.important=j(k(b),k(d))>j(k(e),k(i))?"horizontal":"vertical";c.using.call(this,a,l)});r.offset(a.extend(x,{using:m}))})};a.ui.position={fit:{left:function(a,
b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,e=c.width,i=a.left-b.collisionPosition.marginLeft,c=d-i,k=i+b.collisionWidth-e-d;b.collisionWidth>e?0<c&&0>=k?(d=a.left+c+b.collisionWidth-e-d,a.left+=c-d):a.left=0<k&&0>=c?d:c>k?d+e-b.collisionWidth:d:a.left=0<c?a.left+c:0<k?a.left-k:j(a.left-i,a.left)},top:function(a,b){var c=b.within,d=c.isWindow?c.scrollTop:c.offset.top,e=b.within.height,i=a.top-b.collisionPosition.marginTop,c=d-i,k=i+b.collisionHeight-e-d;b.collisionHeight>e?0<c&&0>=k?
(d=a.top+c+b.collisionHeight-e-d,a.top+=c-d):a.top=0<k&&0>=c?d:c>k?d+e-b.collisionHeight:d:a.top=0<c?a.top+c:0<k?a.top-k:j(a.top-i,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,e=c.width,i=c.isWindow?c.scrollLeft:c.offset.left,j=a.left-b.collisionPosition.marginLeft,c=j-i,l=j+b.collisionWidth-e-i,j="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,m="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];if(0>c){if(d=a.left+j+
m+o+b.collisionWidth-e-d,0>d||d<k(c))a.left+=j+m+o}else if(0<l&&(d=a.left-b.collisionPosition.marginLeft+j+m+o-i,0<d||k(d)<l))a.left+=j+m+o},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,e=c.height,j=c.isWindow?c.scrollTop:c.offset.top,i=a.top-b.collisionPosition.marginTop,c=i-j,l=i+b.collisionHeight-e-j,i="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,o=-2*b.offset[1];if(0>c){if(d=a.top+i+m+o+b.collisionHeight-
e-d,a.top+i+m+o>c&&(0>d||d<k(c)))a.top+=i+m+o}else if(0<l&&(d=a.top-b.collisionPosition.marginTop+i+m+o-j,a.top+i+m+o>l&&(0<d||k(d)<l)))a.top+=i+m+o}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,d,e,i=document.getElementsByTagName("body")[0];d=document.createElement("div");b=document.createElement(i?
"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};i&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in c)b.style[e]=c[e];b.appendChild(d);c=i||document.documentElement;c.insertBefore(b,c.firstChild);d.style.cssText="position: absolute; left: 10.7432222px;";d=a(d).offset().left;a.support.offsetFractions=10<d&&11>d;b.innerHTML="";c.removeChild(b)})();!1!==a.uiBackCompat&&function(a){var b=a.fn.position;a.fn.position=function(c){if(!c||!c.offset)return b.call(this,
c);var e=c.offset.split(" "),i=c.at.split(" ");1===e.length&&(e[1]=e[0]);/^\d/.test(e[0])&&(e[0]="+"+e[0]);/^\d/.test(e[1])&&(e[1]="+"+e[1]);1===i.length&&(/left|center|right/.test(i[0])?i[1]="center":(i[1]=i[0],i[0]="center"));return b.call(this,a.extend(c,{at:i[0]+e[0]+" "+i[1]+e[1],offset:d}))}}(jQuery)})(jQuery);steal.executed("ui/position/position.js");
steal("./datepicker.css",function(){!function(a){var d=function(b,c){this.element=a(b);this.format=e.parseFormat(c.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=a(e.template).appendTo(c.parent||"body").on({click:a.proxy(this.click,this),mousedown:a.proxy(this.mousedown,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):!1;if(this.isInput)this.element.on({focus:a.proxy(this.show,this),blur:a.proxy(this.hide,this),
keyup:a.proxy(this.update,this)});else if(this.component)this.component.on("click",a.proxy(this.show,this));else this.element.on("click",a.proxy(this.show,this));this.minViewMode=c.minViewMode||this.element.data("date-minviewmode")||0;if("string"===typeof this.minViewMode)switch(this.minViewMode){case "months":this.minViewMode=1;break;case "years":this.minViewMode=2;break;default:this.minViewMode=0}this.viewMode=c.viewMode||this.element.data("date-viewmode")||0;if("string"===typeof this.viewMode)switch(this.viewMode){case "months":this.viewMode=
1;break;case "years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode;this.weekStart=c.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=0===this.weekStart?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update();this.showMode()};d.prototype={constructor:d,show:function(b){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();a(window).on("resize",a.proxy(this.place,this));b&&(b.stopPropagation(),
b.preventDefault());if(!this.isInput)a(document).on("mousedown",a.proxy(this.hide,this));this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();a(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();this.isInput||a(document).off("mousedown",this.hide);this.element.trigger({type:"hide",date:this.date})},set:function(){var a=e.formatDate(this.date,this.format);this.isInput?this.element.prop("value",a):(this.component&&this.element.find("input").prop("value",
a),this.element.data("date",a))},setValue:function(a){this.date="string"===typeof a?e.parseDate(a,this.format):new Date(a);this.set();this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},place:function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left})},update:function(a){this.date=e.parseDate("string"===typeof a?a:this.isInput?this.element.prop("value"):this.element.data("date"),this.format);
this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},fillDow:function(){for(var a=this.weekStart,c="<tr>";a<this.weekStart+7;)c+='<th class="dow">'+e.dates.daysMin[a++%7]+"</th>";this.picker.find(".datepicker-days thead").append(c+"</tr>")},fillMonths:function(){for(var a="",c=0;12>c;)a+='<span class="month">'+e.dates.monthsShort[c++]+"</span>";this.picker.find(".datepicker-months td").append(a)},fill:function(){var a=new Date(this.viewDate),c=a.getFullYear(),
a=a.getMonth(),d=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(e.dates.months[a]+" "+c);var k=new Date(c,a-1,28,0,0,0,0),l=e.getDaysInMonth(k.getFullYear(),k.getMonth());k.setDate(l);k.setDate(l-(k.getDay()-this.weekStart+7)%7);l=new Date(k);l.setDate(l.getDate()+42);l=l.valueOf();html=[];for(var r;k.valueOf()<l;)k.getDay()===this.weekStart&&html.push("<tr>"),r="",k.getMonth()<a?r+=" old":k.getMonth()>a&&(r+=" new"),k.valueOf()===d&&(r+=" active"),html.push('<td class="day'+
r+'">'+k.getDate()+"</td>"),k.getDay()===this.weekEnd&&html.push("</tr>"),k.setDate(k.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(html.join(""));a=this.date.getFullYear();d=this.picker.find(".datepicker-months").find("th:eq(1)").text(c).end().find("span").removeClass("active");a===c&&d.eq(this.date.getMonth()).addClass("active");html="";c=10*parseInt(c/10,10);d=this.picker.find(".datepicker-years").find("th:eq(1)").text(c+"-"+(c+9)).end().find("td");c-=1;for(k=-1;11>k;k++)html+=
'<span class="year'+(-1===k||10===k?" old":"")+(a===c?" active":"")+'">'+c+"</span>",c+=1;d.html(html)},click:function(b){b.stopPropagation();b.preventDefault();var c=a(b.target).closest("span, td, th");if(1===c.length)switch(c[0].nodeName.toLowerCase()){case "th":switch(c[0].className){case "switch":this.showMode(1);break;case "prev":case "next":this.viewDate["set"+e.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+e.modes[this.viewMode].navFnc].call(this.viewDate)+e.modes[this.viewMode].navStep*
("prev"===c[0].className?-1:1)),this.fill(),this.set()}break;case "span":c.is(".month")?(b=c.parent().find("span").index(c),this.viewDate.setMonth(b)):(c=parseInt(c.text(),10)||0,this.viewDate.setFullYear(c));0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:e.modes[this.viewMode].clsName}));this.showMode(-1);this.fill();this.set();this.hide();break;case "td":if(c.is(".day")){var d=parseInt(c.text(),10)||1,b=this.viewDate.getMonth();
c.is(".old")?b-=1:c.is(".new")&&(b+=1);c=this.viewDate.getFullYear();this.date=new Date(c,b,d,0,0,0,0);this.viewDate=new Date(c,b,Math.min(28,d),0,0,0,0);this.fill();this.set();this.element.trigger({type:"changeDate",date:this.date,viewMode:e.modes[this.viewMode].clsName});this.hide()}}},mousedown:function(a){a.stopPropagation();a.preventDefault()},showMode:function(a){a&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find(">div").hide().filter(".datepicker-"+e.modes[this.viewMode].clsName).show()}};
a.fn.datepicker=function(b,c){return this.each(function(){var e=a(this),k=e.data("datepicker"),l="object"===typeof b&&b;k||e.data("datepicker",k=new d(this,a.extend({},a.fn.datepicker.defaults,l)));if("string"===typeof b)k[b](c)})};a.fn.datepicker.defaults={};a.fn.datepicker.Constructor=d;var e={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,c){return[31,e.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][c]},parseFormat:function(a){var c=a.match(/[.\/\-\s].*?/),a=a.split(/\W+/);
if(!c||!a||0===a.length)throw Error("Invalid date format.");return{separator:c,parts:a}},parseDate:function(a,c){var d=a.split(c.separator),a=new Date,e;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);if(d.length===c.parts.length)for(var l=0,r=c.parts.length;l<r;l++)switch(e=parseInt(d[l],10)||1,c.parts[l]){case "dd":case "d":a.setDate(e);break;case "mm":case "m":a.setMonth(e-1);break;case "yy":a.setFullYear(2E3+e);break;case "yyyy":a.setFullYear(e)}return a},formatDate:function(a,
c){var d={d:a.getDate(),m:a.getMonth()+1,yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear()};d.dd=(10>d.d?"0":"")+d.d;d.mm=(10>d.m?"0":"")+d.m;for(var a=[],e=0,l=c.parts.length;e<l;e++)a.push(d[c.parts[e]]);return a.join(c.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};e.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+
e.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+e.headTemplate+e.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+e.headTemplate+e.contTemplate+"</table></div></div>"}(window.jQuery)});steal.executed("ui/datepicker/datepicker.js");
steal("can/util/function","can/construct/super","can/control","can/control/plugin","can/control/modifier","can/view/ejs","can/view/modifiers").then("ui/position","./popover.less","./views/init.ejs",function(){can.Control("ui.Popover",{defaults:{placement:"top",showDelay:100,hideDelay:500,showEvent:"mouseenter",hideEvent:"mouseleave",collision:"flip",template:"//ui/popover/views/init.ejs",parent:document.body},positions:{top:{my:"bottom",at:"top"},left:{my:"right",at:"left"},right:{my:"left",at:"right"},
bottom:{my:"top",at:"bottom"}}},{init:function(){this.tooltip=$(can.view.render(this.options.template,{})).appendTo(this.options.parent)},attr:function(a){return this.options[a]||this.element.attr("data-"+a)},show:function(){clearTimeout(this.hideTimeout);this.showTimeout=setTimeout(this.proxy(function(){var a=this.attr("title");this.tooltip.find(".popover-title").html(a)[a?"show":"hide"]();this.tooltip.find(".popover-content").html(this.attr("content"));a=this.constructor.positions[this.options.placement];
this.tooltip.css({left:0,top:0});this.tooltip.position({my:a.my,at:a.at,of:this.element});this.tooltip.fadeIn("fast");a=(a=this.tooltip.attr("class").match(/\bui-flipped-\S+/g))?a[0].replace("ui-flipped-",""):this.options.placement;this.tooltip.removeClass(function(a,e){return(e.match(/\bpos-\S+/g)||[]).join(" ")}).addClass("pos-"+a);this.element.trigger("shown")}),this.options.showDelay)},hide:function(){clearTimeout(this.showTimeout);this.hideTimeout=setTimeout(this.proxy(function(){this.tooltip.fadeOut("fast");
this.element.trigger("hidden")}),this.options.hideDelay)}," {showEvent}":"show"," {hideEvent}":"hide"," move":"move"})});steal.executed("ui/popover/popover.js");
steal("can/util",function(a){a.extend(a,{debounce:function(a,e,b){var c;return function(){var j=arguments;b=b||this;clearTimeout(c);c=setTimeout(function(){a.apply(b,j)},e)}},throttle:function(a,e,b){var c;return function(){var j=arguments;b=b||this;c||(c=!0,setTimeout(function(){a.apply(b,j);c=!1},e))}},defer:function(a,e){var b=arguments,e=e||this;setTimeout(function(){a.apply(e,b)},0)}});return a});steal.executed("can/util/function/function.js");
steal("jquery","can/util","can/control",function(a,d){var e,b=d.makeArray,c=d.Control.setup;d.Control.setup=function(){if(this!==d.Control){var a=this.pluginName||this._fullName;"can_control"!==a&&this.plugin(a);c.apply(this,arguments)}};a.fn.extend({controls:function(){var a=b(arguments),c=[],l,r;this.each(function(){if(l=d.$(this).data("controls"))for(var b=0;b<l.length;b++){r=l[b];var m;if(!(m=!a.length))a:{m=r;var s=a;for(e=0;e<s.length;e++)if("string"==typeof s[e]?m.constructor._shortName==s[e]:
m instanceof s[e]){m=!0;break a}m=!1}m&&c.push(r)}});return c},control:function(a){return this.controls.apply(this,arguments)[0]}});d.Control.plugin=function(c){var e=this;a.fn[c]||(a.fn[c]=function(c){var j=b(arguments),i="string"==typeof c&&a.isFunction(e.prototype[c]),m=j[0],s;this.each(function(){var a=d.$(this).control(e);a?i?s=a[m].apply(a,j.slice(1)):a.update.apply(a,j):e.newInstance.apply(e,[this].concat(j))});return void 0!==s?s:this})};d.Control.prototype.update=function(a){d.extend(this.options,
a);this.on()};return d});steal.executed("can/control/plugin/plugin.js");
steal("can/util","can/control","can/util/function",function(a){var d=a.Control.setup,e=a.Control.processors,b={delim:":",hasModifier:function(a){return-1!==a.indexOf(b.delim)},modify:function(b,d,e){var l=b.match(/([\w]+)\((.+)\)/);l&&(b=a.getObject(l[1],[e||{},a,window]),e=a.sub(l[2],[e||{},a,window]).split(","),b&&(e.unshift(d),d=b.apply(null,e)));return d},addProcessor:function(c,d){var k=[c,d].join(b.delim);e[k]=function(e,k,i,m,s){var o=b.modify(d,a.Control._shifter(s,m),s.options);s[c]=o;if(i)return a.bind(e,
c,o),function(){a.unbind(e,c,o)};i=a.trim(i);a.delegate.call(e,i,c,o);return function(){a.undelegate.call(e,i,c,o)}}}};a.extend(a.Control,{modifier:b,setup:function(c,j){a.each(this.prototype,function(c,d){var j,i;b.hasModifier(d)&&(j=d.split(b.delim),i=j.shift().split(" ").pop(),j=j.join(""),a.trim(d)in e||b.addProcessor(i,j))});d.apply(this,arguments)}});return a});steal.executed("can/control/modifier/modifier.js");
steal({id:"./less_engine.js",ignore:!0},function(){steal.isRhino&&window.less&&function(a){var d=a.URL.prototype;a.URL=function(a,b){a.data?this.attrs=a:(this.value=a,this.paths=b)};a.URL.prototype=d}(less.tree);steal.type("less css",function(a,d){var e=a.src.path.split("/");e[e.length-1]="";steal.isRhino||(e=(a.src+"").split("/"),e[e.length-1]="",e.join("/"));(new less.Parser({optimization:less.optimization,paths:[e.join("/")]})).parse(a.text,function(b,c){a.text=c.toCSS();d()})})});steal.executed("steal/less/less.js");
steal("can/view/ejs",function(a){return a.view.preload("ui_popover_views_init_ejs",a.EJS(function(a,e){with(e)with(a){var b=[];b.push('<div class="popover">\n\t<div class="arrow"></div>\n\t<h3 class="popover-title"></h3>\n\t<div class="popover-content"></div>\n</div>');return b.join("")}}))});steal.executed("ui/popover/views/init.ejs");
steal("can/control","can/control/plugin","./textinput.css",function(){can.Control("ui.Textinput",{init:function(){this.element.attr("title","Click to edit")}," click":function(a){var d=a.text(),e=a.width();this.prevText=d;a.addClass("focused");a.html('<input type="text" value="'+d+'" style="width:'+e+'" />');a.children("input").focus()}," keyup":function(a,d){27===d.keyCode?(this.element.removeClass("focused"),this.element.html(this.prevText)):13===d.keyCode&&this.element.find("input").blur()},"input blur":function(a){a=
a.val();this.element.removeClass("focused");this.element.html(a);a!=this.prevText&&this.element.trigger("change",a)}})});steal.executed("ui/textinput/textinput.js");
steal("can/construct/super","ui/typeahead","./picker.css",function(){ui.Typeahead("ui.Picker",{init:function(){this._super.apply(this,arguments);this.element.wrap('<div class="ui_picker_wrap" />');this.element.after('<button type="button" class="add-email">Add</button>');this.element.addClass("ui_typeahead")},hide:function(){this._super.apply(this,arguments);this.element.next().hide()}," keyup":function(a,d){var e=a.val(),b=this.element.next();this.validateEmail(e)?b.show():b.hide();this._super.apply(this,
arguments)},".add-email click":function(){this.query=this.element.val()},validateEmail:function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)}})});steal.executed("ui/picker/picker.js");
steal("can/construct/proxy","can/observe/elements","can/control","can/control/plugin","can/view/ejs","ui/dropdown","./typeahead.css","./views/list.ejs",function(){can.Control("ui.Typeahead",{defaults:{model:void 0,params:void 0,items:[],parent:document.body,selected:void 0}},{init:function(){this.options.dropdown=this.dropdown=$('<ul class="typeahead-menu" />').appendTo(this.options.parent);this.options.selected&&this.element.val(this.options.selected.name);this.element.attr("autocomplete","off");
this.dropdown.ui_dropdown();this.on()}," keyup":function(a){this.filter(a.val())}," keydown":function(a,d){27===d.keyCode&&this.hide()}," change":function(a,d){d.stopPropagation()},"{dropdown} hidden":"hide","{dropdown} button click":function(a){a.not("disabled")&&(a=$(a).instance(),this.query!=a.name&&(this.query=a.name,this.element.trigger("change",a)),this.hide())},show:function(a){this.dropdown.children().length?this.dropdown.children(":not(.no-items)").show():this.dropdown.html(can.view("//ui/typeahead/views/list.ejs",
{items:this.sorter(a),selected:this.options.selected}));this.dropdown.outerWidth(this.element.outerWidth());this.dropdown.trigger("show",this.element)},hide:function(){this.element.val(this.query);this.element.removeClass("opened");this.dropdown.hide();this.filter();this.element.blur()},focus:function(){this.query=this.element.val();this.element.val("");this.element.addClass("opened");!this.options.items.length&&this.options.model?(this.dropdown.html("<li><button disabled>Loading...</button></li>"),
this.options.model.findAll(this.options.params).done(this.proxy("show"))):this.show(this.options.items)},filter:function(a){var d=""===a||void 0===a,e=0,b=this.dropdown.find(".no-items"),c=this.dropdown.find("button:not(:disabled)").each(this.proxy(function(b,c){var c=$(c),l=c.instance().name,r=c.parent(),i=r.parent(),m=i.hasClass("group-list");d||this.matcher(a,l)?(d?c.html(l):c.html(this.highlighter(a,l)),r.show(),m&&i.parent().show()):(r.hide(),e++,m&&(i.children("li:visible").length||i.parent().hide()))}));
b[c.length===e?"show":"hide"]()},matcher:function(a,d){return~d.toLowerCase().indexOf(a.toLowerCase())},highlighter:function(a,d){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return d.replace(RegExp("("+a+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},sorter:function(a){for(var d={},e=0;e<a.length;e++)d[a[e].group]||(d[a[e].group]=e);return a.sort(function(a,c){return d[a.group]-d[c.group]})}})});steal.executed("ui/typeahead/typeahead.js");
steal("can/util","can/observe",function(a){var d=function(d){var b=[];a.each(d,function(a){a["__u Nique"]||(b.push(a),a["__u Nique"]=1)});return a.each(b,function(a){delete a["__u Nique"]})};a.extend(a.Observe.prototype,{identity:function(){var a=this.constructor,b=this[a.id]||this._cid.replace(/./,"");return((a._fullName?a._fullName+"_":"")+(a.escapeIdentity?encodeURIComponent(b):b)).replace(/ /g,"_")},elements:function(d){var b=this.identity();this.constructor.escapeIdentity&&(b=b.replace(/([ #;&,.+*~\'%:"!^$[\]()=>|\/])/g,
"\\$1"));return a.$("."+b,d)},hookup:function(d){var b=this.constructor._shortName||"",d=a.$(d),c;(c=a.data(d,"instances"))||a.data(d,"instances",c={});a.addClass(d,b+" "+this.identity());c[b]=this}});$.fn.instances=function(){var e=[],b,c;this.each(function(){a.each($.data(this,"instances")||{},function(a){b=void 0===b?a.constructor.List||null:a.constructor.List===b?b:null;e.push(a)})});c=b?new b:new a.Observe.List;c.push.apply(c,d(e));return c};$.fn.instance=function(d){return d&&d instanceof a.Observe?
(d.hookup(this[0]),this):this.instances.apply(this,arguments)[0]};return a.Observe});steal.executed("can/observe/elements/elements.js");
steal("can/util","can/construct",function(a){var d=function(b){return b&&(a.isArray(b)||a.isPlainObject(b)||b instanceof a.Observe)},e=function(b,c){return a.each(b,function(a){a&&a.unbind&&a.unbind("change"+c)})},b=function(b,c,d,i,j){i=i||q;j=j||q.List;b instanceof q?e([b],d._cid):b=a.isArray(b)?new j(b):new i(b);b.bind("change"+d._cid,function(){var e=a.makeArray(arguments),i=e.shift();e[0]=("*"===c?[d.indexOf(b),e[0]]:[c,e[0]]).join(".");i.triggeredNS=i.triggeredNS||{};i.triggeredNS[d._cid]||
(i.triggeredNS[d._cid]=!0,a.trigger(d,i,e))});return b},c=function(b,c,e){b.each(function(b,i){e[i]=d(b)&&a.isFunction(b[c])?b[c]():b});return e},j=function(b){return function(){return a[b].apply(this,arguments)}},k=j("addEvent"),j=j("removeEvent"),l=function(b){return a.isArray(b)?b:(""+b).split(".")},r=1,i=0,m=[],s=[],o=0;a.cid=function(a,b){return a._cid?a._cid:a._cid=(b||"")+ ++o};var q=a.Observe=a.Construct({bind:k,unbind:j,id:"id",canMakeObserve:d,startBatch:function(a){i++;a&&s.push(a)},stopBatch:function(b,
c){b?i=0:i--;if(0==i){var d=m.slice(0),e=s.slice(0);m=[];s=[];r++;c&&this.startBatch();a.each(d,function(b){a.trigger.apply(a,b)});a.each(e,function(a){a})}},triggerBatch:function(b,c,d){if(!b._init){if(0==i)return a.trigger(b,c,d);m.push([b,{type:c,batchNum:r},d])}},keys:function(a){var b=[];q.__reading&&q.__reading(a,"__keys");for(var c in a._data)b.push(c);return b}},{setup:function(b){this._data={};a.cid(this,".observe");this._init=1;this.attr(b);this.bind("change"+this._cid,a.proxy(this._changes,
this));delete this._init},_changes:function(a,b,c,d,e){q.triggerBatch(this,{type:b,batchNum:a.batchNum},[d,e])},attr:function(a,b){var c=typeof a;if("string"!==c&&"number"!==c)return this._attrs(a,b);if(void 0===b)return q.__reading&&q.__reading(this,a),this._get(a);this._set(a,b);return this},each:function(){q.__reading&&q.__reading(this,"__keys");return a.each.apply(void 0,[this.__get()].concat(a.makeArray(arguments)))},removeAttr:function(a){var a=l(a),b=a.shift(),c=this._data[b];if(a.length)return c.removeAttr(a);
b in this._data&&(delete this._data[b],b in this.constructor.prototype||delete this[b],q.triggerBatch(this,"__keys",void 0),q.triggerBatch(this,"change",[b,"remove",void 0,c]),q.triggerBatch(this,b,[void 0,c]));return c},_get:function(a){var a=l(a),b=this.__get(a.shift());return a.length?b?b._get(a):void 0:b},__get:function(a){return a?this._data[a]:this._data},_set:function(a,b){var c=l(a),e=c.shift(),i=this.__get(e);if(d(i)&&c.length)i._set(c,b);else{if(c.length)throw"can.Observe: Object does not exist";
this.__convert&&(b=this.__convert(e,b));i||q.triggerBatch(this,"__keys",void 0);this.__set(e,b,i)}},__set:function(a,c,i){if(c!==i){var j=this.__get().hasOwnProperty(a)?"set":"add";this.___set(a,d(c)?b(c,a,this):c);q.triggerBatch(this,"change",[a,j,c,i]);i&&e([i],this._cid)}},___set:function(a,b){this._data[a]=b;a in this.constructor.prototype||(this[a]=b)},bind:k,unbind:j,serialize:function(){return c(this,"serialize",{})},_attrs:function(b,i){if(void 0===b)return c(this,"attr",{});var b=a.extend(!0,
{},b),j,k=this,l;q.startBatch();this.each(function(c,j,m){l=b[j];void 0===l?i&&k.removeAttr(j):(k.__convert&&(l=k.__convert(j,l)),c!==l&&(c instanceof a.Observe&&l instanceof a.Observe&&e([c],k._cid),l instanceof a.Observe?k._set(j,l):d(c)&&d(l)?c.attr(l,m):c!=l&&k._set(j,l)),delete b[j])});for(j in b)l=b[j],this._set(j,l);q.stopBatch();return this}}),p=[].splice,v=q({setup:function(b,c){this.length=0;a.cid(this,".observe");this._init=1;this.push.apply(this,a.makeArray(b||[]));this.bind("change"+
this._cid,a.proxy(this._changes,this));a.extend(this,c);delete this._init},_changes:function(a,b,c,d,e){~b.indexOf(".")||("add"===c?(q.triggerBatch(this,c,[d,+b]),q.triggerBatch(this,"length",[this.length])):"remove"===c?(q.triggerBatch(this,c,[e,+b]),q.triggerBatch(this,"length",[this.length])):q.triggerBatch(this,c,[d,+b]));q.prototype._changes.apply(this,arguments)},__get:function(a){return a?this[a]:this},___set:function(a,b){this[a]=b;+a>=this.length&&(this.length=+a+1)},serialize:function(){return c(this,
"serialize",[])},splice:function(c,i){var j=a.makeArray(arguments),k;for(k=2;k<j.length;k++){var l=j[k];d(l)&&(j[k]=b(l,"*",this))}void 0===i&&(i=j[1]=this.length-c);k=p.apply(this,j);0<i&&(q.triggerBatch(this,"change",[""+c,"remove",void 0,k]),e(k,this._cid));2<j.length&&q.triggerBatch(this,"change",[""+c,"add",j.slice(2),k]);return k},_attrs:function(b,d){if(void 0===b)return c(this,"attr",[]);b=a.makeArray(b);q.startBatch();this._updateAttrs(b,d);q.stopBatch()},_updateAttrs:function(a,b){for(var c=
Math.min(a.length,this.length),e=0;e<c;e++){var i=this[e],j=a[e];d(i)&&d(j)?i.attr(j,b):i!=j&&this._set(e,j)}a.length>this.length?this.push.apply(this,a.slice(this.length)):a.length<this.length&&b&&this.splice(a.length)}});a.each({push:"length",unshift:0},function(c,e){v.prototype[e]=function(){for(var i=a.makeArray(arguments),j=c?this.length:0,k=0;k<i.length;k++){var l=i[k];d(l)&&(i[k]=b(l,"*",this,this.constructor.Observe,this.constructor))}k=[][e].apply(this,i);(!this.comparator||!i.length)&&q.triggerBatch(this,
"change",[""+j,"add",i,void 0]);return k}});a.each({pop:"length",shift:0},function(b,c){v.prototype[c]=function(){var d=arguments[0]&&a.isArray(arguments[0])?arguments[0]:a.makeArray(arguments),e=b&&this.length?this.length-1:0,d=[][c].apply(this,d);q.triggerBatch(this,"change",[""+e,"remove",void 0,[d]]);d&&d.unbind&&d.unbind("change"+this._cid);return d}});a.extend(v.prototype,{indexOf:function(b){this.attr("length");return a.inArray(b,this)},join:[].join,slice:function(){return new this.constructor(Array.prototype.slice.apply(this,
arguments))},concat:function(){var b=[];a.each(a.makeArray(arguments),function(c,d){b[d]=c instanceof a.Observe.List?c.serialize():c});return new this.constructor(Array.prototype.concat.apply(this.serialize(),b))},forEach:function(b,c){a.each(this,b,c||this)}});q.List=v;q.setup=function(){a.Construct.setup.apply(this,arguments);this.List=q.List({Observe:this},{})};return q});steal.executed("can/observe/observe.js");
steal("can/control","can/control/plugin","ui/position","./dropdown.less",function(){can.Control("ui.Dropdown",{defaults:{position:{my:"left top",at:"left bottom"}}},{init:function(){this.element.addClass("dropdown-menu")},show:function(a){this.element.css({left:0,top:0});this.element.position({my:this.options.position.my,at:this.options.position.at,of:a}).show();this._opener=a;this.element.trigger("shown")},hide:function(){this.element.hide();this.element.trigger("hidden")},toggle:function(a){this.element.is(":visible")?
this.hide():this.show(a)}," hide":"hide"," toggle":function(a,d,e){this.toggle(e)}," show":function(a,d,e){this.show(e)},"{window} click":function(a,d){this._opener&&!$.contains(this.element[0],d.target)&&(!$.contains(this._opener,d.target)&&this._opener!=d.target)&&this.hide()}})});steal.executed("ui/dropdown/dropdown.js");
steal("can/view/ejs",function(a){return a.view.preload("ui_typeahead_views_list_ejs",a.EJS(function(d,e){with(e)with(d){var b=[];b.push(a.view.txt(0,"ul",0,this,function(){var b=[];items.length&&(b.push("\n\t"),b.push(a.view.txt(0,"ul",0,this,function(){for(var b=[],c=0;c<items.length;c++){b.push("\n\t\t");var d=items[c],e=d.group&&(0===c||items[c-1].group!==d.group);b.push("\n\t\t");b.push(a.view.txt(0,"ul",0,this,function(){var b=[];e&&(b.push('\n\t\t\t<li><button disabled class="group">'),b.push(a.view.txt(0,
"button",0,this,function(){return d.group})),b.push('</button><ul class="group-list">\n\t\t'));return b.join("")}));b.push('\n\t\t\t<li><button tab-index="0" class="');b.push(a.view.txt(0,"button","class",this,function(){return d.id}));b.push(" ");b.push(a.view.txt(0,"button","class",this,function(){return selected&&d.id===selected.id?"selected":""}));b.push('" ');b.push(a.view.txt(0,"button",1,this,function(){return d}));b.push("",a.view.pending(),">");b.push(a.view.txt(0,"button",0,this,function(){return d.name}));
b.push("</button></li>\n\t\t");b.push(a.view.txt(0,"ul",0,this,function(){var a=[];e&&a.push("\n\t\t\t</ul></li>\n\t\t");return a.join("")}));b.push("\n\t")}return b.join("")})),b.push("\n"));return b.join("")}));b.push('\n<li class="no-items" style="display:');b.push(a.view.txt(1,"li","style",this,function(){return!items.length?"block":"none"}));b.push('"',a.view.pending(),">");b.push("<button disabled>No items</button></li>\n");return b.join("")}}))});steal.executed("ui/typeahead/views/list.ejs");
steal("jquery","./json",function(a){jQuery.cookie=function(a,e,b){if("undefined"!=typeof e){b=b||{};null===e&&(e="",b.expires=-1);"object"==typeof e&&jQuery.toJSON&&(e=jQuery.toJSON(e));var c="";if(b.expires&&("number"==typeof b.expires||b.expires.toUTCString))"number"==typeof b.expires?(c=new Date,c.setTime(c.getTime()+864E5*b.expires)):c=b.expires,c="; expires="+c.toUTCString();var j=b.path?"; path="+b.path:"",k=b.domain?"; domain="+b.domain:"",b=b.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(e),
c,j,k,b].join("")}else{e=null;if(document.cookie&&""!=document.cookie){b=document.cookie.split(";");for(c=0;c<b.length;c++)if(j=jQuery.trim(b[c]),j.substring(0,a.length+1)==a+"="){e=decodeURIComponent(j.substring(a.length+1));break}}if(jQuery.evalJSON&&e&&e.match(/^\s*\{/))try{e=jQuery.evalJSON(e)}catch(l){}return e}};return a});steal.executed("util/cookie.js");
steal("jquery",function(a){a.toJSON=function(b,c,d,e){if("object"==typeof JSON&&JSON.stringify)return JSON.stringify(b,c,d);!e&&a.isFunction(c)&&(b=c("",b));"number"==typeof d&&(d="          ".substring(0,d));var d="string"==typeof d?d.substring(0,10):"",l=typeof b;if(null===b)return"null";if(!("undefined"==l||"function"==l)){if("number"==l||"boolean"==l)return b+"";if("string"==l)return a.quoteString(b);if("object"==l){if("function"==typeof b.toJSON)return a.toJSON(b.toJSON(),c,d,!0);if(b.constructor===
Date){d=b.getUTCMonth()+1;10>d&&(d="0"+d);e=b.getUTCDate();10>e&&(e="0"+e);var r=b.getUTCFullYear(),i=b.getUTCHours();10>i&&(i="0"+i);var m=b.getUTCMinutes();10>m&&(m="0"+m);var s=b.getUTCSeconds();10>s&&(s="0"+s);b=b.getUTCMilliseconds();100>b&&(b="0"+b);10>b&&(b="0"+b);return'"'+r+"-"+d+"-"+e+"T"+i+":"+m+":"+s+"."+b+'Z"'}e=a.isFunction(c)?function(a,b){return c(a,b)}:function(a,b){return b};r=d?"\n":"";s=d?" ":"";if(b.constructor===Array){i=[];for(m=0;m<b.length;m++)i.push((a.toJSON(e(m,b[m]),c,
d,!0)||"null").replace(/^/gm,d));return"["+r+i.join(","+r)+r+"]"}var o=[];a.isArray(c)&&(i=a.map(c,function(a){return"string"==typeof a||"number"==typeof a?a+"":null}));for(m in b){var q,l=typeof m;if(!(i&&-1==a.inArray(m+"",i))){if("number"==l)l='"'+m+'"';else if("string"==l)l=a.quoteString(m);else continue;q=a.toJSON(e(m,b[m]),c,d,!0);"undefined"!=typeof q&&o.push((l+":"+s+q).replace(/^/gm,d))}}return"{"+r+o.join(","+r)+r+"}"}}};a.evalJSON=function(a){return"object"==typeof JSON&&JSON.parse?JSON.parse(a):
eval("("+a+")")};a.secureEvalJSON=function(a){if("object"==typeof JSON&&JSON.parse)return JSON.parse(a);var c;c=a.replace(/\\["\\\/bfnrtu]/g,"@");c=c.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");c=c.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(c))return eval("("+a+")");throw new SyntaxError("Error parsing JSON, source is not valid.");};a.quoteString=function(a){return a.match(d)?'"'+a.replace(d,function(a){var b=e[a];if("string"===typeof b)return b;
b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+a+'"'};var d=/["\\\x00-\x1f\x7f-\x9f]/g,e={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}});steal.executed("util/json.js");
steal("can/view/ejs",function(a){return a.view.preload("app_views_login_ejs",a.EJS(function(a,e){with(e)with(a){var b=[];b.push('<form id="login" name="login" autocomplete="off">\n  <fieldset>\n    <ul>\n      <li>\n        <input type="email" class=\'email\' name="name" value="" placeholder="Email" />\n      </li>\n      <li>\n        <input type="password" name="password" class="password" value="" placeholder="Password" />\n      </li>\n      <li class="buttons">\n        <button type="submit" class="btn login-btn">Login</button>\n      </li>\n    </ul>\n  </fieldset>\n</form>\n');return b.join("")}}))});
steal.executed("app/views/login.ejs");
steal("can/view/ejs",function(a){return a.view.preload("app_views_signup_ejs",a.EJS(function(d,e){with(e)with(d){var b=[];b.push('<form id="signup_form" name="signup" autocomplete="off" action="/user" method="POST">\n  <input type="hidden" name="mobile_signup" value="1" />\n  <input type="hidden" name="locale" value="');b.push(a.view.txt(1,"input","value",this,function(){return locale}));b.push('" ',a.view.pending(),"/>");b.push('\n  <fieldset>\n    <ul>\n      <li>\n        <input class=\'start\' type="text" placeholder="');b.push(a.view.txt(1,
"input","placeholder",this,function(){return message("firstName")}));b.push('" name="first_name"',a.view.pending(),"/>");b.push('\n      </li>\n      <li>\n        <input type="text" placeholder="');b.push(a.view.txt(1,"input","placeholder",this,function(){return message("lastName")}));b.push('" name="last_name"',a.view.pending(),"/>");b.push('\n      </li>\n      <li>\n        <input type="email" placeholder="');b.push(a.view.txt(1,"input","placeholder",this,function(){return message("emailInputPlaceholder")}));
b.push('" name="email"',a.view.pending(),"/>");b.push('\n      </li>\n      <li class="last">\n        <input type="password" placeholder="');b.push(a.view.txt(1,"input","placeholder",this,function(){return message("passwordInputPlaceholder")}));b.push('" name="password"',a.view.pending(),"/>");b.push('<br/>\n        <small class="description">');b.push(a.view.txt(1,"small",0,this,function(){return message("passwordHint")}));b.push('</small>\n      </li>\n      <li class="checkbox">\n        <label>\n          <span> ');
b.push(a.view.txt(1,"span",0,this,function(){return message("iAgree")}));b.push("\n            <a target='_blank' href=\"");b.push(a.view.txt(1,"a","href",this,function(){return termsUrl}));b.push('"',a.view.pending(),">");b.push(" ");b.push(a.view.txt(1,"a",0,this,function(){return message("mindjetService")}));b.push(" </a>,\n            <a target='_blank' href=\"");b.push(a.view.txt(1,"a","href",this,function(){return privacyUrl}));b.push('"',a.view.pending(),">");b.push(a.view.txt(1,"a",0,this,
function(){return message("mindjetPrivacy")}));b.push("</a>, &amp;\n            <a target='_blank' href=\"");b.push(a.view.txt(1,"a","href",this,function(){return conditionsUrl}));b.push('"',a.view.pending(),">");b.push(a.view.txt(1,"a",0,this,function(){return message("mindjetConditions")}));b.push('</a>.\n          </span>\n        </label>\n      </li>\n      <li>\n        <div class="buttons">\n          <button id="signup_submit_button" class="big-button">');b.push(a.view.txt(1,"button",0,this,
function(){return message("signUpButton")}));b.push("</button>\n        </div>\n      </li>\n    </ul>\n  </fieldset>\n</form>");return b.join("")}}))});steal.executed("app/views/signup.ejs");
steal("can/view/ejs",function(a){return a.view.preload("app_views_task_ejs",a.EJS(function(d,e){with(e)with(d){var b=[];b.push('<form>\n\t<legend>\n    <div class="profile-pic" style="background-image:url(');b.push(a.view.txt(0,"div","style",this,function(){return task.owner.pictures.size_32_px}));b.push(');"',a.view.pending(),">");b.push('</div>\n    <span class="title-span" id="title" ');b.push(a.view.txt(0,"span",1,this,function(){return function(b){a.$(b).ui_textinput()}}));b.push("",a.view.pending(),
">");b.push(a.view.txt(0,"span",0,this,function(){return this.task.name}));b.push('</span>\n  </legend>\n  <div class="clearfix">\n    <div class="btn-group task-buttons left">\n  \t <button class="btn finish" type="button">Finish</button>\n     <button class="btn assign" type="button">Assign</button>\n    </div>\n    <div class="task-score right badge" style="background-color:');b.push(a.view.txt(0,"div","style",this,function(){return this.task.scoreColor()}));b.push('" data-title="Task Score" data-content="');
b.push(a.view.txt(0,"div","data-content",this,function(){return a.view.render("//app/views/score_summary",task.score_summary)}));b.push('" ');b.push(a.view.txt(0,"div",1,this,function(){return function(b){a.$(b).ui_popover({parent:parentDom})}}));b.push("",a.view.pending(),">");b.push(a.view.txt(0,"div",0,this,function(){return this.task.score}));b.push('</div>\n  </div>\n\t<label for="assigned">Followers:</label>\n\t<ul class="followers clearfix">\n    ');b.push(a.view.txt(0,"ul",0,this,function(){var b=
[];this.task.followers.length?(b.push("\n      "),b.push(a.view.txt(0,"ul",0,this,function(){for(var b=[],c=0;c<this.task.followers.length;c++){var d=this.task.followers[c];b.push('\n\t\t    <li class="follower"><a href="#" title="');b.push(a.view.txt(0,"a","title",this,function(){return d.name}));b.push('" style="background-image:url(');b.push(a.view.txt(0,"a","style",this,function(){return d.pictures.size_24_px}));b.push(')"',a.view.pending(),">");b.push("</a></li>\n      ")}return b.join("")})),
b.push("\n    ")):b.push('\n      <li class="follower no-followers">No followers</li>\n    ');return b.join("")}));b.push('\n\t\t<li class="add">\n\t\t\t<div class="input-append">\n\t\t\t\t<input type="text" id="followers" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).ui_picker({items:task.followerableUsers(),parent:parentDom})}}));b.push("",a.view.pending(),">");b.push('\n\t\t\t\t<button class="btn btn-small add-btn" title="Add" type="button">\n\t\t\t\t\t<i class="icon-add"></i>\n        \t\t</button>\n        \t</div>\n    \t</li>\n\t</ul>\n\t<label for="assigned">Assigned to:</label>\n\t<input type="text" id="assigned" ');
b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).ui_picker({items:task.assignableUsers(),parent:parentDom,selected:task.owner})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="start_date">Start date:</label>\n  <input type="text" value="');b.push(a.view.txt(0,"input","value",this,function(){return this.task.start_date}));b.push('" autocomplete="off" id="start_date" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).datepicker({parent:parentDom,
format:"mm-dd-yyyy"})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="due_date">Due date:</label>\n  <input type="text" value="');b.push(a.view.txt(0,"input","value",this,function(){return this.task.target_date}));b.push('" autocomplete="off" id="due_date" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).datepicker({parent:parentDom,format:"mm-dd-yyyy"})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="progress">Progress:</label>\n  <div class="progress">\n    <div class="bar" style="width:');
b.push(a.view.txt(0,"div","style",this,function(){return this.task.progress}));b.push(';"',a.view.pending(),">");b.push('</div>\n  </div>\n\t<label for="project">Project:</label>\n\t<input type="text" id="project" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).ui_typeahead({parent:parentDom,items:user.assignableProjects(),selected:task.project})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="created_by">Created:</label>\n\t<span id="created_by">');b.push(a.view.txt(0,
"span",0,this,function(){return this.task.creator.name}));b.push(' <span class="created-date">');b.push(a.view.txt(0,"span",0,this,function(){return(new Date(this.task.creator.created_at)).toString()}));b.push('</span></span>\n\t<input class="comment" type="text" id="comment" placeholder="Add Comment">\n\t<ul class="comments">\n\t\t');b.push(a.view.txt(0,"ul",0,this,function(){var b=[];this.task.comments.attr("length")&&(b.push("\n\t\t\t"),b.push(a.view.txt(0,"ul",0,this,function(){for(var b=[],c=
0;c<this.task.comments.length;c++){var d=this.task.comments[c];b.push('\n\t\t\t\t<li>\n\t\t\t\t\t<span class="author">');b.push(a.view.txt(0,"span",0,this,function(){return d.user.name}));b.push('</span>\n\t\t\t\t\t<span class="text">');b.push(a.view.txt(0,"span",0,this,function(){return d.text}));b.push("</span>\n\t\t\t\t</li>\n\t\t\t")}return b.join("")})),b.push("\n\t\t"));return b.join("")}));b.push('\n\t</ul>\n\t<a class="logo" href="http://vision.mindjet.com"><img src="lib/app/images/mj_logo.png" alt="Mindjet" /></a>\n</form>\n');
return b.join("")}}))});steal.executed("app/views/task.ejs");
steal("can/view/ejs",function(a){return a.view.preload("app_views_score_summary_ejs",a.EJS(function(d,e){with(e)with(d){var b=[];b.push(a.view.txt(0,"undefined",0,this,function(){var b=[];this.followers&&(b.push("\n\tFollowers: "),b.push(a.view.txt(0,"",0,this,function(){return this.followers.score})),b.push("\n"));return b.join("")}));b.push("<br/>\n");b.push(a.view.txt(0,"undefined",0,this,function(){var b=[];this.hotness&&(b.push("\n\tHotness: "),b.push(a.view.txt(0,"undefined",0,this,function(){return this.hotness.score})),
b.push("\n"));return b.join("")}));return b.join("")}}))});steal.executed("app/views/score_summary.ejs");
steal("can/model","can/model/list").then("app/models/task.js","app/models/project.js","app/models/user/user.js","app/models/comment.js").then("app/models/oauth.js",function(){can.extend(Cohuman.Models.Task.prototype,{assignableUsers:function(){var a=[],d=function(d,b){can.each(d,function(c){$.grep(a,function(a){return a.id===c.id}).length||(c.group=b,a.push(c))})};d(this.user.connections.favorited(),"Favorites");d(this.followers,"On this project");d(this.project.members,"On this project");return a},
followerableUsers:function(){var a=$.grep(this.project.members,this.proxy(function(a){return-1===$.inArray(a,this.followers)}));can.each(this.user.connections,this.proxy(function(d){-1===$.inArray(d,this.followers)&&a.push(d)}));return a}});can.extend(Cohuman.Models.User.prototype,{assignableProjects:function(){return $.map(this.projects,function(a){return a})}})});steal.executed("app/models.js");
steal("can/util","can/observe",function(a){var d=function(b,c,d){var e=new a.Deferred;b.then(function(){var b=a.makeArray(arguments);b[0]=c[d](b[0]);e.resolveWith(e,b)},function(){e.rejectWith(this,arguments)});"function"===typeof b.abort&&(e.abort=function(){return b.abort()});return e},e=0,b=/change.observe\d+/,c=function(b){a.Observe.__reading&&a.Observe.__reading(b,b.constructor.id);return b.__get(b.constructor.id)},j=function(a,b,d,e,j){var k;k=[a.serialize()];var l=a.constructor,n;"destroy"==
b&&k.shift();"create"!==b&&k.unshift(c(a));n=l[b].apply(l,k);k=n.pipe(function(c){a[j||b+"d"](c,n);return a});n.abort&&(k.abort=function(){n.abort()});k.then(d,e);return k},k={create:{url:"_shortName",type:"post"},update:{data:function(b,c){var c=c||{},d=this.id;c[d]&&c[d]!==b&&(c["new"+a.capitalize(b)]=c[d],delete c[d]);c[d]=b;return c},type:"put"},destroy:{type:"delete",data:function(a){var b={};b.id=b[this.id]=a;return b}},findAll:{url:"_shortName"},findOne:{}},l=function(b,c){return function(d){var d=
b.data?b.data.apply(this,arguments):d,e=c||this[b.url||"_url"],j=d,k=b.type||"get",l={};"string"==typeof e?(e=e.split(/\s/),l.url=e.pop(),e.length&&(l.type=e.pop())):a.extend(l,e);l.data="object"==typeof j&&!a.isArray(j)?a.extend(l.data||{},j):j;l.url=a.sub(l.url,l.data,!0);return a.ajax(a.extend({type:k||"post",dataType:"json",success:void 0,error:void 0},l))}};a.Model=a.Observe({fullName:"can.Model",setup:function(b){this.store={};a.Observe.setup.apply(this,arguments);if(a.Model){this.List=r({Observe:this},
{});var c=this,d=a.proxy(this._clean,c);a.each(k,function(e,j){a.isFunction(c[j])||(c[j]=l(e,c[j]));if(c["make"+a.capitalize(j)]){var k=c["make"+a.capitalize(j)](c[j]);a.Construct._overwrite(c,b,j,function(){this._reqs++;var a=k.apply(this,arguments),b=a.then(d,d);b.abort=a.abort;return b})}});if("can.Model"==c.fullName||!c.fullName)c.fullName="Model"+ ++e;this._reqs=0;this._url=this._shortName+"/{"+this.id+"}"}},_ajax:l,_clean:function(a){this._reqs--;if(!this._reqs)for(var b in this.store)this.store[b]._bindings||
delete this.store[b];return a},models:function(b,c){if(b){if(b instanceof this.List)return b;var d=this,e=[],j=c instanceof a.Observe.List?c:new (d.List||r),k=a.isArray(b),l=b instanceof r,l=k?b:l?b.serialize():b.data;0<j.length&&j.splice(0);a.each(l,function(a){e.push(d.model(a))});j.push.apply(j,e);k||a.each(b,function(a,b){"data"!==b&&j.attr(b,a)});return j}},model:function(a){if(a){a instanceof this&&(a=a.serialize());var b=a[this.id],b=b&&this.store[b]?this.store[b].attr(a):new this(a);this._reqs&&
(this.store[a[this.id]]=b);return b}}},{isNew:function(){var a=c(this);return!(a||0===a)},save:function(a,b){return j(this,this.isNew()?"create":"update",a,b)},destroy:function(a,b){return j(this,"destroy",a,b,"destroyed")},bind:function(d){b.test(d)||(this._bindings||(this.constructor.store[c(this)]=this,this._bindings=0),this._bindings++);return a.Observe.prototype.bind.apply(this,arguments)},unbind:function(d){b.test(d)||(this._bindings--,this._bindings||delete this.constructor.store[c(this)]);
return a.Observe.prototype.unbind.apply(this,arguments)},___set:function(b,d){a.Observe.prototype.___set.call(this,b,d);b===this.constructor.id&&this._bindings&&(this.constructor.store[c(this)]=this)}});a.each({makeFindAll:"models",makeFindOne:"model"},function(b,c){a.Model[c]=function(a){return function(c,e,j){c=d(a.call(this,c),this,b);c.then(e,j);return c}}});a.each(["created","updated","destroyed"],function(b){a.Model.prototype[b]=function(c){var d=this.constructor;c&&"object"==typeof c&&this.attr(c.attr?
c.attr():c);a.trigger(this,b);a.trigger(this,"change",b);a.trigger(d,b,this)}});var r=a.Model.List=a.Observe.List({setup:function(){a.Observe.List.prototype.setup.apply(this,arguments);var b=this;this.bind("change",function(a,c){if(/\w+\.destroyed/.test(c)){var d=b.indexOf(a.target);-1!=d&&b.splice(d,1)}})}});return a.Model});steal.executed("can/model/model.js");
steal("can/util","can/model","can/observe/elements",function(a){var d=function(b){return b[0]&&a.isArray(b[0])?b[0]:b[0]instanceof a.Model.List?a.makeArray(b[0]):a.makeArray(b)},e=function(a){return a.__get(a.constructor.id)},b=a.Model._ajax,c={update:{data:function(a,b){return{ids:a,attrs:b}},type:"put"},destroy:{type:"delete"}},j=a.Model.List.setup;a.Model.List.setup=function(){j.apply(this,arguments);var d=this;a.each(c,function(c,e){a.isFunction(d[e])||(d[e]=b(c,d[e]))})};a.extend(a.Model.List.prototype,
{slice:function(){return new this.constructor(Array.prototype.slice.apply(this,arguments))},match:function(a,b){return this.grep(function(c){return c[a]==b})},grep:function(a,b){return new this.constructor($.grep(this,a,b))},get:function(){if(!this.length)return new this.constructor([]);for(var a=[],b=RegExp(this[0].constructor._fullName+"_([^ ]+)"),c,i,j=d(arguments),s=0;s<j.length;s++)(i=j[s].nodeName&&(c=j[s].className.match(b))?this.grep(function(a){return e(a)===c[1]})[0]:this.grep(function(a){return e(a)===
j[s]})[0])&&a.push(i);return new this.constructor(a)},remove:function(a){if(!this.length)return[];for(var b=[],c=RegExp(this[0].constructor._fullName+"_([^ ]+)"),i,a=d(arguments).slice(0),j=0;j<this.length;){for(var s=this[j],o=!1,q=0;q<a.length;q++){var p=a[q].nodeName&&(i=a[q].className.match(c))&&i[1]||("string"==typeof a[q]||"number"==typeof a[q]?a[q]:e(a[q]));if(e(s)==p){b.push.apply(b,this.splice(j,1));a.splice(q,1);o=!0;break}}o||j++}b=new this.constructor(b);b.length&&$([this]).trigger("remove",
[b]);return b},elements:function(a){return $(this.map(function(a){return"."+a.identity()}).join(","),a)},model:function(){return this.constructor.namespace},findAll:function(a,b,c){var d=this;this.model().findAll(a,function(a){d.push.apply(d,a);b&&b(d)},c)},destroy:function(b,c){var d=this.map(e),j=a.makeArray(this),m=this.constructor;d.length?this.constructor.destroy(d).then(function(){a.each(j,function(a){a.destroyed()});b&&b(j)},c):b&&b(new m(j));return this},update:function(b,c,d){var j=this.map(e),
m=this.slice(0,this.length);j.length?this.constructor.update(j,b).then(function(d){var e=$.extend(b,d||{});a.each(m,function(a){a.updated(e)});c&&c(m)},d):c&&c(this);return this},_updateAttrs:function(b,c){function d(a){return a.attr?a.attr(q):a[q]}for(var e=b.length,j,s,o=[],q=this.constructor.id,p=0;p<e;p++)j=b[p],s=null,a.Observe.canMakeObserve(j)&&d(j)&&((s=this.get(d(j))[0])?s.attr(j,c):o.push(j));o.length&&(this.constructor.namespace&&(o=a.makeArray(this.constructor.namespace.models(o))),this.splice.apply(this,
[this.length,0].concat(o)));if(c){var e=this.map(function(a){return d(a)}),v=a.map(b,function(a){return d(a)});a.each(e,$.proxy(function(b){~a.inArray(b,v)||this.remove(b)},this))}}});a.each(["map"],function(b){a.Model.List.prototype[b]=function(a,c){return $[b](this,a,c)}});return a.Model.List});steal.executed("can/model/list/list.js");
steal("./database","can/observe/compute","./comment","./attachment",function(){var a=function(a,e,b){this.start=a;this.end=e;this.hexColor=b};a.prototype={contains:function(a){return a>=this.start&&a<=this.end},cssClass:function(){return 40==this.start?"score-40":"score-"+this.start+"-"+this.end}};a.ranges=[new a(0,3,"#13596e"),new a(4,6,"#1c657c"),new a(7,10,"#267289"),new a(11,13,"#2a768e"),new a(14,15,"#32819a"),new a(16,20,"#3787a0"),new a(21,39,"#3d90aa"),new a(40,1E9,"#4397b1")];Cohuman.Models.Database("Cohuman.Models.Task",
{modelFromRecentActivity:function(a){delete a.progress;delete a.state;return this.model(a)},model:function(a){return a.owner instanceof Cohuman.Models.User||a instanceof Cohuman.Models.Task?a:can.Model.model.call(this,a)},models:function(a){a?a.tasks?a=a.tasks:a.project&&a.project.tasks&&(a=a.project.tasks):a=[];return can.Model.models.call(this,a)},create:function(a){a.state="proposed";var e=new can.Deferred,b=Cohuman.Models.Task.model(a);b.attr("score",b.initialScore());e.resolve(b);$.ajax({type:"post",
url:"api://task",data:a,success:function(a){a.task&&(a.task.provisional_id=null,b.attr(a.task),delete Cohuman.Models.Task.store[void 0])},failure:function(){}});return e},findOne:function(a,e){var e=$.extend({cache:!0},e),b=Cohuman.Models.Task.model({id:a.id}),c=new can.Deferred;e.cache&&new Date-b.loadedFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?c.resolve(b):$.ajax({url:"api://task/"+a.id,success:function(a){a=a.task;a.comments&&Cohuman.config.mobile&&a.comments.reverse();delete a.blocking;
delete a.blocked_by;a.loadedFromServerAt=new Date;b.attr(a);c.resolve(b)}});return c},findAll:function(a){a.connection_id&&(a.owner_id=a.connection_id,delete a.connection_id);a.user_id&&(a.owner_id=a.user_id,delete a.user_id);a.state||(a.state="active");return $.ajax({url:"api://tasks",data:a})},attributes:{id:"number",attachments:"Cohuman.Models.Attachment.models",comments:"Cohuman.Models.Comment.models",followers:"Cohuman.Models.User.models",owner:"Cohuman.Models.User.model",project:"Cohuman.Models.Project.model",
progress:"progress",creator:"Cohuman.Models.User.model"},convert:{progress:function(a){var e=0,b=[0,10,25,35,50,65,75,90,100,100];$.each(b,function(c,j){if(0>=a-Math.floor((b[c+1]+j)/2))return e=j,!1});return e}},findForWeb:function(a){requester.request("/task/"+a.taskId,{httpMethod:"GET",params:{format:"json"},success:function(a){Cohuman.Models.Task.model(a.task)},bindCallbacksTo:this})}},{init:function(){"undefined"==typeof Workspace&&this.instantiateScore();this.followers||this.attr("followers",
Cohuman.Models.User.models([]));this.comments||this.attr("comments",Cohuman.Models.Comment.models([]));void 0!==this.project_id&&!this.project&&(this.project=Cohuman.Models.Project.model({id:this.project_id}));this.owner_id&&!this.owner&&(this.owner=Cohuman.Models.User.model({id:this.owner_id}));this._super()},setOwner:function(a){var e=this.attr("owner.tasks");e&&(this.attr("owner.task_count",this.attr("owner.task_count")-1),e.splice(e.indexOf(this),1));e=Cohuman.Models.User.model({id:a.id});this.attr("owner",
e);e.tasks&&(this.attr("owner.task_count",this.attr("owner.task_count")+1),e.tasks.insertTask(this));return this.update({owner_id:a.id})},setProject:function(a){var e=this.attr("project.tasks");e&&(this.attr("project.task_count",this.attr("project.task_count")-1),e.splice(e.indexOf(this),1));e=Cohuman.Models.Project.model(0==a.id?{id:0,name:"None"}:{id:a.id});this.attr("project",e);0!=e.id&&e.tasks&&(this.attr("project.task_count",this.attr("project.task_count")+1),e.tasks.insertTask(this));return this.update({project_id:a.id})},
instantiateScore:function(){this.score_summary&&can.each(this.score_summary,function(a,e){$.isPlainObject(a)&&(this.score_summary[e]=a.score)},this)},scoreColor:function(){var d=this.attr("score"),e;$.each(a.ranges,function(a,c){c.contains(d)&&(e=c.hexColor)});return e},scoreClass:function(){var d=this.attr("score"),e;$.each(a.ranges,function(a,c){c.contains(d)&&(e=c.cssClass())});return e},cssClasses:function(){return $.grep(["task","closed",this.attr("state"),this.overdueClass(),this.provisionalClass()],
function(a){return a}).join(" ")},initialScore:function(){return 5+this.followers.length},scoreTextClass:function(){return this.scoreClass()+"-text"},overdueClass:function(){return this.attr("target_date")&&new Date(this.attr("target_date"))<new Date?"overdue":""},provisionalClass:function(){return this.attr("provisional_id")?"provisional":""},update:function(a){this.attr(a);return $.ajax({type:"put",url:"api://task/"+this.id,data:a,success:$.proxy(function(a){a.task&&("finished"==a.task.state&&(delete a.task.owner_position,
delete a.task.project_position,delete a.task.score),this.alreadyUpdating&&delete a.task.progress,console.log("update task returned and now owner is "+a.task.owner.name),this.attr(a.task))},this),failure:function(){}})},position:function(a,e){return $.ajax({type:"put",url:"api://task/"+this.id+"/position",data:{object:e.constructor.shortName.toLowerCase(),object_id:e.id,delta:a}})},destroy:function(){var a=this.id;this.destroyed();$.ajax({type:"put",url:"api://task/"+a,data:{state:"deleted"},success:$.proxy(function(){},
this),failure:function(){}})}});Cohuman.Models.Database.List("Cohuman.Models.Task.List",{},{init:function(){this.sortBy="owner_position"},sorted:new can.compute(function(a){a&&(this.sortBy=a);this.attr("length");a=Array.prototype.slice.call(this,0);a.sort(this.proxy(function(a,b){return a[this.sortBy]-b[this.sortBy]}));return new Cohuman.Models.Task.List(a)}),scrub:function(a){var e=[],b=a.listObject instanceof Cohuman.Models.User?"owner.id":"project.id";this.each(function(c,j){("finished"==c.attr("state")||
"tasks"==a.listName&&c.attr(b)!=a.listObject.attr("id"))&&e.push(j)},this);$.each(e.reverse(),this.proxy(function(a,b){this.splice(b,1)}));return e.length},insertTask:function(a,e){var b=this.sorted(e),c=!1;$.each(b,function(b,k){k.score<=a.score&&(c||(a.silentAttr(e,k[e]),c=!0),k.silentAttr(e,k[e]+1))});this.push(a)},previous:function(a){return this[this.indexOf(a)-1]||!1},next:function(a){return this[this.indexOf(a)+1]||!1},proposed:new can.compute(function(){var a=0;this.attr("length");this.each(function(e){a+=
"proposed"==e.attr("state")?1:0});return a})})});steal.executed("app/models/task.js");
steal("can/construct/proxy","can/construct/super","can/model","can/model/list","can/observe/attributes",function(a){a.Model("Cohuman.Models.Database",{CACHE_THROTTLE:6E4,provisionalId:function(){for(var a="",e=0;8>e;e++)var b=Math.floor(51*Math.random()),a=a+"ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".substring(b,b+1);return a},addInvitedToConnections:function(a,e){a&&($.isArray(a)||(a=[a]),$.each(e,function(b,c){-1!=a.indexOf(c.email_address)&&(c.favorite=!0,Cohuman.observer.currentUser.connections.push(c))}))}},
{init:function(){this.bind("change",function(a){a.target._saved=!1})},silentAttr:function(a,e){this[a]=e;void 0===this._data&&(this._data={});this._data[a]=e}});a.Model.List("Cohuman.Models.Database.List",{},{silentAttr:Cohuman.Models.Database.prototype.silentAttr,next:function(a){a=this.indexOf(a);return-1===a?void 0:this[a+1]},previous:function(a){a=this.indexOf(a);return-1===a?void 0:this[a-1]},pushNew:function(d){var e=[];$.each(d,a.proxy(function(a,c){-1==this.indexOf(c)?e.push(c):console.log("ignoring "+
c.id)},this));this.splice.apply(this,[this.length,0].concat(e))}})});steal.executed("app/models/database.js");
steal("can/util","can/observe",function(a){a.each([a.Observe,a.Model],function(d){if(void 0!==d){a.extend(d,{attributes:{},convert:{date:function(a){var b=typeof a;return"string"===b?isNaN(Date.parse(a))?null:Date.parse(a):"number"===b?new Date(a):a},number:function(a){return parseFloat(a)},"boolean":function(a){return Boolean("false"===a?0:a)},"default":function(b,d,e,l){var e=a.getObject(l),r=window;0<=l.indexOf(".")&&(l=l.substring(0,l.lastIndexOf(".")),r=a.getObject(l));return"function"==typeof e?
e.call(r,b,d):b}},serialize:{"default":function(a){return isObject(a)&&a.serialize?a.serialize():a},date:function(a){return a&&a.getTime()}}});var b=d.setup;d.setup=function(c,d,e){var l=this;b.call(l,c,d,e);a.each(["attributes"],function(a){if(!l[a]||c[a]===l[a])l[a]={}});a.each(["convert","serialize"],function(b){c[b]!=l[b]&&(l[b]=a.extend({},c[b],l[b]))})}}});var d=a.Observe.prototype.setup;a.Observe.prototype.setup=function(e){var b={};d.call(this,e);a.each(this.constructor.defaults,function(a,
d){this.hasOwnProperty(d)||(b[d]=a)},this);this._init=1;this.attr(b);delete this._init};a.Observe.prototype.__convert=function(a,b){var c=this.constructor,d=this.attr(a),k,l;c.attributes&&(k=c.attributes[a],l=c.convert[k]||c.convert["default"]);return null===b||!k?b:l.call(c,b,d,function(){},k)};a.Observe.prototype.serialize=function(d){var b={},c=this.constructor,j={};void 0!=d?j[d]=this[d]:j=this.__get();a.each(j,function(a,d){var e,j;e=c.attributes?c.attributes[d]:0;j=c.serialize?c.serialize[e]:
0;b[d]=a&&"function"==typeof a.serialize?a.serialize():j?j(a,e):a});return void 0!=d?b[d]:b};return a.Observe});steal.executed("can/observe/attributes/attributes.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Comment",{create:function(a){var d=new can.Deferred,e=this.model(a);d.resolve(e);$.ajax({type:"post",url:"api://task/"+a.task_id+"/comment",data:a,success:function(a){a.comment&&(e.attr(a.comment),delete Cohuman.Models.Comment.store[void 0])},failure:function(){}});return d},findAll:"GET api://task/{task_id}/comments",models:function(a){return can.Model.models.call(this,a&&a.comments||a)},attributes:{id:"number",user:"Cohuman.Models.User.model",
activity:"Cohuman.Models.Activity.model"}},{init:function(){this.user_id&&!this.user&&this.attr("user",Cohuman.Models.User.model({id:this.user_id}));this.task_id&&!this.task&&this.attr("task",Cohuman.Models.Task.model({id:this.task_id}));this._super()},editable:function(a){return this.user.id==a.id},yayerNames:function(){var a=[];this.attr("activity")&&this.attr("activity").attr("yayers")&&$.each(this.attr("activity").attr("yayers"),function(d,e){a.push(e.name)});return a},canYay:function(a){var d=
!0;if(this.user.id==a.id||!this.attr("activity"))return!1;this.attr("activity.yayers")&&$.each(this.attr("activity").attr("yayers"),function(e,b){b.id==a.id&&(d=!1)});return d}});Cohuman.Models.Database.List("Cohuman.Models.Comment.List",{},{})});steal.executed("app/models/comment.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Attachment",{create:function(a){return this._super(a).done(function(d){$.ajax({type:"post",url:"api://task/"+a.task_id+"/attachment",data:a,success:function(a){a.attachment&&(d.id=a.attachment.id,d.updated(a.attachment),delete Cohuman.Models.Attachment.store[void 0],d.save())},failure:function(){}})})},destroy:function(a){return $.ajax({type:"delete",url:"api://task/"+a.task_id+"/attachment/"+a.attachment_id,success:function(){},
failure:function(){}})},findAll:"GET api://task/{task_id}/attachments",findAllProjectAttachments:function(a){var d=Cohuman.Models.Project.model({id:a.project_id}),e=new can.Deferred;new Date-d.loadedAttachmentsFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?e.resolve():$.ajax({url:"api://project/"+a.project_id+"/files",success:function(a){a&&(d.loadedAttachmentsFromServerAt=new Date,d.attr("attachments",a));e.resolve()}});return e},models:function(a){return can.Model.models.call(this,a&&a.attachments||
a)},attributes:{id:"number",creator:"Cohuman.Models.User.model"}},{contentTypeClassName:function(){var a=this.attr("content_type");return-1<a.indexOf("image")?"image":-1<a.indexOf("pdf")?"pdf":-1<a.indexOf("document")?"document":-1<a.indexOf("powerpoint")?"powerpoint":-1<a.indexOf("map")?"map":"general"},contentIconClassName:function(){return this.contentTypeClassName()+"-attachment-icon"}});Cohuman.Models.Database.List("Cohuman.Models.Attachment.List",{},{})});steal.executed("app/models/attachment.js");
steal("./database","./post",function(){Cohuman.Models.Database("Cohuman.Models.Project",{PAGE_LENGTH:10,model:function(a){return a.tasks instanceof Cohuman.Models.Task.List||a instanceof Cohuman.Models.Project?a:can.Model.model.call(this,a)},models:function(a){var d=[];a&&a.projects&&(can.each({favorites:"favorite",others:"other"},can.proxy(function(e,b){can.each(a.projects[b],function(a){a.type=e;d.push(a)})},this)),a.projects=d);return can.Model.models.call(this,a&&a.projects||a)},create:function(a){a.default_picture=
!0;var d=this,e=new can.Deferred,b=Cohuman.Models.Project.model(a);e.resolve(b);$.ajax({type:"post",url:"api://project",data:a,success:function(a){d.createSuccess(a,b)},failure:function(){}});return e},createSuccess:function(a,d){a.project&&(a.project.provisional_id=null,d.attr(a.project),delete Cohuman.Models.Project.store[void 0])},destroy:function(a){return $.ajax({type:"delete",url:"api://project/"+a.id,data:{},success:function(){},failure:function(){}})},findAll:"GET api://projects",findOne:function(a){var d=
Cohuman.Models.Project.model({id:a.id}),e=new can.Deferred;0==a.id||new Date-d.loadedFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?e.resolve(d):$.ajax({url:"api://project/"+a.id,success:function(b){b=b.project;b.loadedFromServerAt=new Date;b.tasks=b.tasks.slice(0,10);$.each(b.tasks,function(b,d){d.project={id:+a.id}});delete b.creator;d.attr(b);e.resolve(d)}});return e},attributes:{id:"number",members:"Cohuman.Models.User.models",attachments:"Cohuman.Models.Attachment.models",tasks:"Cohuman.Models.Task.models",
posts:"Cohuman.Models.Post.models",default_picture:"boolean"}},{init:function(){this.active_task_count||this.silentAttr("active_task_count",0);this.members||this.attr("members",Cohuman.Models.User.models([]));this.posts||this.attr("posts",Cohuman.Models.Post.models([]));this._super()},percentComplete:can.compute(function(){return this.attr("total_task_count")?Math.round(100*this.attr("finished_task_count")/this.attr("total_task_count")):0}),taskAttachments:new can.compute(function(){var a=this.attr("tasks"),
d=new Cohuman.Models.Attachment.List;a&&can.each(a,function(a){(a=a.attr("attachments"))&&can.each(a,function(a){d.push(a)})});return d}),update:function(a){this.attr(a);return $.ajax({type:"put",url:"api://project/"+this.id,data:a,success:$.proxy(function(a){a.project&&this.attr(a.project)},this),failure:function(){}})}});Cohuman.Models.Database.List("Cohuman.Models.Project.List",{},{init:function(){this.silentAttr("page",1)}})});steal.executed("app/models/project.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Post",{create:function(a){var d=new can.Deferred,e=this.model(a);d.resolve(e);$.ajax({type:"post",url:"api://project/"+a.project_id+"/post",data:a,success:function(a){a.posts&&(a.posts[0].provisional_id=null,e.attr(a.posts[0]),delete Cohuman.Models.Post.store[void 0])},failure:function(){}});return d},findAll:function(a){var d=Cohuman.Models.Project.model({id:a.project_id}),e=new can.Deferred;new Date-d.loadedPostsFromServerAt<
Cohuman.Models.Database.CACHE_THROTTLE?e.resolve():$.ajax({url:"api://project/"+a.project_id+"/posts",success:function(a){a.posts&&(d.loadedPostsFromServerAt=new Date,d.attr("posts",a.posts),e.resolve())}});return e},models:function(a){return can.Model.models.call(this,a&&a.posts||a)},attributes:{id:"number",user:"Cohuman.Models.User.model",activity:"Cohuman.Models.Activity.model"}},{init:function(){this.user_id&&!this.user&&this.attr("user",Cohuman.Models.User.model({id:this.user_id}));this._super()}});
Cohuman.Models.Database.List("Cohuman.Models.Post.List",{},{})});steal.executed("app/models/post.js");
steal("./../database.js").then("./../project.js","./../activity.js","./../connection.js",function(){Cohuman.Models.Database("Cohuman.Models.User",{PAGE_LENGTH:12,model:function(a){return a.tasks instanceof Cohuman.Models.Task.List||a instanceof Cohuman.Models.User?a:can.Model.model.call(this,a)},models:function(a){a=a&&a.cohumans||a;a=this.flattenConnections(a);return can.Model.models.call(this,a)},unwrapJSON:function(a){"string"==typeof a&&(a=JSON.parse(a));a=a.user;if(a.active_tasks||a.just_added_tasks)a.tasks=
a.active_tasks.concat(a.just_added_tasks),delete a.active_tasks,delete a.just_added_tasks;a.connections=this.flattenConnections(a.connections);a.loadedFromServerAt=new Date;return a},flattenConnections:function(a){if(a&&(a.favorites||a.others)){var d=[];can.each(["favorite","other"],function(e){can.each(a[e+"s"],function(a){a.type=e;a.pictures.userId=a.id;d.push(a)})});return d}return a},signup:function(a,d,e){this.loginSignup(a,d,e,"api://user")},login:function(a,d,e){this.loginSignup(a,d,e,"api://login/mobile")},
loginSignup:function(a,d,e,b){$.ajax({url:b,type:"post",data:a}).success(function(b){var e={token:b.access_token.oauth_token,token_secret:b.access_token.oauth_token_secret},k=b.userRefId,l=b.mjSessionId;Cohuman.oauth.attr(e);window.localStorage.setItem("lastLogin",new Date);window.localStorage.setItem("loginEmail",a.email||a.name);window.localStorage.setItem("loginPassword",a.password);window.localStorage.setItem("currentUserId",b.user.id);window.localStorage.setItem("token",e.token);window.localStorage.setItem("token_secret",
e.token_secret);window.localStorage.setItem("userRefId",k);window.localStorage.setItem("mjSessionId",l);e=Cohuman.Models.User.model(Cohuman.Models.User.unwrapJSON(b));e.loadRelationships();d(e,b)}).error(function(a){a=$.parseJSON(a.responseText);e(a)})},findOne:function(a){var d=Cohuman.Models.User.model({id:a.id}),e=new can.Deferred;0==a.id||new Date-d.loadedFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?e.resolve(d):$.ajax({url:"api://user"+(a.id?"/"+a.id:""),success:this.proxy(function(a){a=
this.unwrapJSON(a);d.attr(a);e.resolve(d)})});return e},findAll:function(a){return $.ajax({type:"GET",url:"api://connections",data:$.extend(a,{limit:this.PAGE_LENGTH})})},attributes:{id:"number",active:"boolean",projects:"Cohuman.Models.Project.models",tasks:"Cohuman.Models.Task.models",activities:"Cohuman.Models.Activity.models",connections:"Cohuman.Models.User.models"}},{init:function(){this.projects||this.attr("projects",new Cohuman.Models.Project.List);this.connections||this.attr("connections",
new Cohuman.Models.User.List);this.activities||this.attr("activities",new Cohuman.Models.Activity.List);this._super()},colorClass:function(){return"color_"+(0==this.id%14?14:this.id%14)},pictureUrl:function(a){return this.default_picture?"":0==this.id?75<a?"background-image: url(./images/icons/Tasks-and-Project/Retina/Nobody-Retina.png);":"background-image: url(./images/icons/Tasks-and-Project/Retina/Nobody-Small-Retina.png);":"background-image: url("+this.attr("pictures.size_"+a+"_px")+");"},loadRelationships:function(){Cohuman.Models.Project.findAll().done(this.proxy(function(a){this.attr("projects",
a)}));Cohuman.Models.Activity.findAll().done(this.proxy(function(a){this.attr("activities",a)}))}});Cohuman.Models.Database.List("Cohuman.Models.User.List",{},{init:function(){this.silentAttr("page",1)},favorited:new can.compute(function(){return this.grep(function(a){return"favorite"==a.attr("type")})}),othered:new can.compute(function(){return this.grep(function(a){return"other"==a.attr("type")})})})});steal.executed("app/models/user/user.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Activity",{PAGE_LENGTH:10,model:function(a){if(a instanceof Cohuman.Models.Activity)return a;a.activity&&"SayYay"!=a.type&&(a=a.activity);return can.Model.model.call(this,a)},models:function(a){return can.Model.models.call(this,a&&a.relevant_activities||a)},findOne:"GET api://activity/{id}",findAll:function(a){return $.ajax({url:"api://activities/relevant",data:$.extend({include_project_activity:!0,exclude_user_activity:!0,limit:this.PAGE_LENGTH},
a)})},findAllSinceLastLogin:function(){var a=window.localStorage.getItem("newestActivityId"),d={limit:1E3};a&&(d.newer=a);return this.findAll(d).done(function(a){if(a.length){var b=Cohuman.observer.currentUser.attr("activities");b.splice.apply(b,[0,0].concat(can.makeArray(a)));Cohuman.observer.currentUser.attr("newActivities",Cohuman.observer.currentUser.newActivities+a.length)}})},yay:function(a){if(a.hasClass("disabled"))return!1;a.addClass("disabled");a=a.data("activity");a.yayers.push(Cohuman.observer.currentUser);
$.ajax({url:"api://activity/say_yay",type:"POST",data:{activity_id:a.id}});return!1},attributes:{id:"number",actor:"Cohuman.Models.User.model",new_owner:"Cohuman.Models.User.model",old_owner:"Cohuman.Models.User.model",yayers:"Cohuman.Models.User.models",followers:"Cohuman.Models.User.models",added_members:"Cohuman.Models.User.models",removed_member:"Cohuman.Models.User.models",related_users:"Cohuman.Models.User.models",message_recipients:"Cohuman.Models.User.models",task:"Cohuman.Models.Task.modelFromRecentActivity",
project:"Cohuman.Models.Project.model",new_project:"Cohuman.Models.Project.model",old_project:"Cohuman.Models.Project.model",attachment:"Cohuman.Models.Attachment.model",activity:"Cohuman.Models.Activity.model"}},{canYay:function(a){a||(a=Cohuman.observer.currentUser);return"SayYay"!=this.type&&this.actor.id!=a.id&&-1==this.attr("yayers").indexOf(a)}});Cohuman.Models.Database.List("Cohuman.Models.Activity.List",{},{})});steal.executed("app/models/activity.js");
steal("./database").then("./task",function(){Cohuman.Models.Database("Cohuman.Models.Connection",{PAGE_LENGTH:12,create:function(a){return this._super(a).done(function(d){$.ajax({type:"post",url:"api://activity/add_cohuman",data:a,success:function(a){a.activity&&(d.updated(a.activity.cohumans[0]),d.save())},failure:function(){}})})},invite:function(a){var d=new can.Deferred,e=this,b=$.map(a,function(a){return{name:a,email_address:a,default_picture:!0,provisionalId:e.provisionalId()}}),c=Cohuman.Models.User.models(b);
d.resolve(c);$.ajax({type:"post",url:"api://invitation",data:{addresses:a,personalized_message:""},success:function(a){this.inviteSuccess(c,a.activity)},context:this});return d},inviteSuccess:function(a,d){d&&can.each(a,function(a){var b=$(d.invitees).filter(function(){return this.email_address==a.email_address}).get(0);b?a.attr(b):a.destroy()})},destroy:function(a){return $.ajax({type:"post",url:"api://activity/remove_cohuman",data:{cohuman_id:a.user_id},success:function(){},failure:function(){}})},
models:function(a){var d=[];a&&a.cohumans&&can.each({favorites:"favorite",others:"other"},function(e,b){can.each(a.cohumans[b],function(a){a.type=e;d.push(a)})});return can.Model.models.call(this,d)},findAll:"GET api://cohumans"},{});Cohuman.Models.Database.List("Cohuman.Models.Connection.List",{},{})});steal.executed("app/models/connection.js");
steal("can/model","lib/2.5.3-crypto-sha1-hmac.js",function(){Cohuman.env={development:{actionUrl:"http://localhost:3000",xmpp:!1,api:{realm:"localhost:3000"}},dev:{visionUrl:"https://wildcat-dev.mindjet.net",actionUrl:"https://action-dev.mindjet.net",mindjetUrl:"https://www-dev.mindjet.net",openFireSuffix:":7070/http-bind/",api:{realm:"api.dev.cohuman.com",key:"0ba45a3ff3abdc81b332972868a235a82c00a910",secret:"19d6076b363c29d5ab47fcafa4cb6aeac029988e",token:"8gG1G8Py72pdkuMqPPeuakYX5QZCkj4N0mWW2OTh",
token_secret:"VYOcu3JxWFV4PSHza5MW3DtXAPWHUG5wFrjTdQNy"},xmpp:!0},qea:{visionUrl:"https://qe-visiona.mindjet.net",actionUrl:"https://action-qa.mindjet.net",mindjetUrl:"https://qe-wwwa.mindjet.net",openFireSuffix:"/xmpp-httpbind",api:{realm:"api.qa.cohuman.com",key:"95ea31dc21ce5d993d141a6dd6787ac31941a82c",secret:"8f741107de30b10e55bd90d80e105212e50b4974",token:"wQOY9wSG0eWJTPM5Ice35EbhdinzueZpDEg9cZuE",token_secret:"ZT3B8qAtl03nJVyIbzQmjMO0r03LFnNjV6TJjKrv"},xmpp:!1},qeb:{visionUrl:"https://qe-visionb.mindjet.net",
actionUrl:"https://action-qeb.mindjet.net",mindjetUrl:"https://qe-wwwb.mindjet.net",openFireSuffix:"/xmpp-httpbind",api:{realm:"api.qeb.cohuman.com",key:"99b8e5012b66ea74a1c5f75f007be0a77847f8ce",secret:"22fd1f4ceca9421286530c975dfecbde19f432d0",token:"GVgHWSJgQWgnvUQ5LPzzrX9VQgIQ1foOIfzEGXzp",token_secret:"ak81bw2LE9zwxpR9fN68YO964t1SpyeAwLlHe55X"},xmpp:!0},production:{visionUrl:"https://vision.mindjet.com",actionUrl:"https://action.mindjet.com",mindjetUrl:"https://www.mindjet.com",openFireSuffix:"/xmpp-httpbind",
api:{realm:"api.cohuman.com",key:"0ba45a3ff3abdc81b332972868a235a82c00a910",secret:"19d6076b363c29d5ab47fcafa4cb6aeac029988e",token:"8gG1G8Py72pdkuMqPPeuakYX5QZCkj4N0mWW2OTh",token_secret:"VYOcu3JxWFV4PSHza5MW3DtXAPWHUG5wFrjTdQNy"}}};can.Model("Cohuman.Models.OAuth",{encodeUTF8:function(a){return unescape(OAuth.percentEncode(a))},decodeUTF8:function(a){return OAuth.percentDecode(escape(a))},getTimestamp:function(){return+new Date/1E3|0},percentEncode:function(){var a=/[!'\(\)\*]/g;return function(d){return encodeURIComponent(d).replace(a,
function(a){return"%"+["0","0"].concat([a.charCodeAt(0).toString(16).toUpperCase()]).join("").slice(-2)})}}(),percentDecode:function(){var a=/%([A-Z0-9]){2}/g;return function e(b){return a.test(b)?e(b.replace(a,function(a){return String.fromCharCode(+("0x"+a.replace("%","")))})):b}}(),getNonce:function(){return can.map([1,1],function(){return Math.random().toString(36).slice(2)}).join("")},getBoundary:function(a){return a.match(/--(.+)(?:--)?(?:\n|\r|\r\n)?/).pop()},normalizeUri:function(){var a=
/[~]/g;return function(d){return d.replace(a,function(a){return"%"+["0","0"].concat([a.charCodeAt(0).toString(16).toUpperCase()]).join("").slice(-2)})}}(),deparam:function(a){if(a){var a=a.split("&"),d={};can.each(a,function(a){a=a.split("=");d[this.percentDecode(a[0])]=this.percentDecode(a[1])},this);return d}},param:function(a){var d=[];can.each(a,function(a,b){d.push(b+"="+encodeURIComponent(a))});return d.join("&")},createHmacSha1:function(a,d){return Crypto.HMAC(Crypto.SHA1,a,d,{asString:!0})},
apiTest:/^api:\//,protocol:"http://",signatureMethod:"HMAC-SHA1",version:"1.0"},{protocol:"http://",signatureMethod:"HMAC-SHA1",version:"1.0",apiTest:/^api:\//,init:function(){this._token=this.token;this._token_secret=this.token_secret},restoreKeys:function(){this.attr({token:this._token,token_secret:this._token_secret})},_getParameters:function(a,d,e,b){a=can.extend(a||{},{oauth_consumer_key:this.key,oauth_token:d,oauth_nonce:e,oauth_timestamp:b,oauth_signature_method:this.signatureMethod,oauth_version:this.version});
return can.map(a,can.proxy(function(a,b){return[b,this.constructor.percentEncode(a)].join("=")},this)).sort().join("&")},_createBaseString:function(a,d,e){return[a.toUpperCase(),this.constructor.percentEncode(d),this.constructor.percentEncode(e)].join("&")},_createKey:function(a){return[this.secret,a||this.token_secret].join("&")},_getAuthorizationHeader:function(a,d,e,b,c){a=can.extend({realm:this.protocol+this.realm+"/",oauth_token:a,oauth_consumer_key:this.key,oauth_signature_method:this.signatureMethod,
oauth_signature:d,oauth_timestamp:e,oauth_nonce:b,oauth_version:this.version},c);return"OAuth "+can.map(a,function(a,b){return[b,'"'+a+'"'].join("=")}).join(", ")},prefilter:function(){can.ajaxSetup({processData:!1});can.ajaxPrefilter(can.proxy(function(a,d,e){a.url&&this.constructor.apiTest.test(a.url)&&((a.data&&(a.data.timestamp=(new Date).getTime(),a.data.format||(a.data.format="json",a.dataType="json")),a.url="http://"+a.url.replace(this.constructor.apiTest,this.realm),Cohuman.config.mobile)?
(d=can.extend({},a.data),this.prepare(a,e),a.data=this.constructor.param(d)):(a.async=!0,a.data||(a.data=this.constructor.param({format:"json"}))))},this))},prepare:function(a,d){var e=this.constructor.getNonce(),b=this.constructor.getTimestamp();this.constructor.protocol.toUpperCase();var c=a.data,j=this.constructor.normalizeUri(a.url),c=this._getParameters(c,this.token,e,b),j=this._createBaseString(a.type||"GET",j,c),c=this._createKey(),j=this.constructor.createHmacSha1(j,c),e=this._getAuthorizationHeader(this.token,
this.constructor.percentEncode(btoa(j)),b,e);d.setRequestHeader("Authorization",e)}})});steal.executed("app/models/oauth.js");
("undefined"==typeof Crypto||!Crypto.util)&&function(){var a=window.Crypto={},d=a.util={rotl:function(a,c){return a<<c|a>>>32-c},rotr:function(a,c){return a<<32-c|a>>>c},endian:function(a){if(a.constructor==Number)return d.rotl(a,8)&16711935|d.rotl(a,24)&4278255360;for(var c=0;c<a.length;c++)a[c]=d.endian(a[c]);return a},randomBytes:function(a){for(var c=[];0<a;a--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(a){for(var c=[],d=0,e=0;d<a.length;d++,e+=8)c[e>>>5]|=(a[d]&255)<<
24-e%32;return c},wordsToBytes:function(a){for(var c=[],d=0;d<32*a.length;d+=8)c.push(a[d>>>5]>>>24-d%32&255);return c},bytesToHex:function(a){for(var c=[],d=0;d<a.length;d++)c.push((a[d]>>>4).toString(16)),c.push((a[d]&15).toString(16));return c.join("")},hexToBytes:function(a){for(var c=[],d=0;d<a.length;d+=2)c.push(parseInt(a.substr(d,2),16));return c},bytesToBase64:function(a){if("function"==typeof btoa)return btoa(e.bytesToString(a));for(var c=[],d=0;d<a.length;d+=3)for(var k=a[d]<<16|a[d+1]<<
8|a[d+2],l=0;4>l;l++)8*d+6*l<=8*a.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>>6*(3-l)&63)):c.push("=");return c.join("")},base64ToBytes:function(a){if("function"==typeof atob)return e.stringToBytes(atob(a));for(var a=a.replace(/[^A-Z0-9+\/]/ig,""),c=[],d=0,k=0;d<a.length;k=++d%4)0!=k&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d-1))&Math.pow(2,-2*k+8)-1)<<2*k|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d))>>>
6-2*k);return c}},a=a.charenc={};a.UTF8={stringToBytes:function(a){return e.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(e.bytesToString(a)))}};var e=a.Binary={stringToBytes:function(a){for(var c=[],d=0;d<a.length;d++)c.push(a.charCodeAt(d)&255);return c},bytesToString:function(a){for(var c=[],d=0;d<a.length;d++)c.push(String.fromCharCode(a[d]));return c.join("")}}}();
(function(){var a=Crypto,d=a.util,e=a.charenc,b=e.UTF8,c=e.Binary,j=a.SHA1=function(a,b){var e=d.wordsToBytes(j._sha1(a));return b&&b.asBytes?e:b&&b.asString?c.bytesToString(e):d.bytesToHex(e)};j._sha1=function(a){a.constructor==String&&(a=b.stringToBytes(a));var c=d.bytesToWords(a),e=8*a.length,a=[],i=1732584193,j=-271733879,s=-1732584194,o=271733878,q=-1009589776;c[e>>5]|=128<<24-e%32;c[(e+64>>>9<<4)+15]=e;for(e=0;e<c.length;e+=16){for(var p=i,v=j,n=s,A=o,t=q,y=0;80>y;y++){if(16>y)a[y]=c[e+y];else{var z=
a[y-3]^a[y-8]^a[y-14]^a[y-16];a[y]=z<<1|z>>>31}z=(i<<5|i>>>27)+q+(a[y]>>>0)+(20>y?(j&s|~j&o)+1518500249:40>y?(j^s^o)+1859775393:60>y?(j&s|j&o|s&o)-1894007588:(j^s^o)-899497514);q=o;o=s;s=j<<30|j>>>2;j=i;i=z}i+=p;j+=v;s+=n;o+=A;q+=t}return[i,j,s,o,q]};j._blocksize=16;j._digestsize=20})();
(function(){var a=Crypto,d=a.util,e=a.charenc,b=e.UTF8,c=e.Binary;a.HMAC=function(a,e,l,r){e.constructor==String&&(e=b.stringToBytes(e));l.constructor==String&&(l=b.stringToBytes(l));l.length>4*a._blocksize&&(l=a(l,{asBytes:!0}));for(var i=l.slice(0),l=l.slice(0),m=0;m<4*a._blocksize;m++)i[m]^=92,l[m]^=54;a=a(i.concat(a(l.concat(e),{asBytes:!0})),{asBytes:!0});return r&&r.asBytes?a:r&&r.asString?c.bytesToString(a):d.bytesToHex(a)}})();steal.executed("util/2.5.3-crypto-sha1-hmac.js");steal.popPending();
