steal.packages({});
steal.has("stealconfig.js","app/app.js","can/construct/proxy/proxy.js","can/util/jquery/jquery.js","jquery","can/util/can.js","can/util/array/each.js","can/construct/construct.js","can/util/string/string.js","can/construct/super/super.js","can/control/control.js","can/control/plugin/plugin.js","can/view/ejs/ejs.js","can/view/view.js","can/observe/compute/compute.js","can/view/scanner.js","can/view/render.js","can/view/modifiers/modifiers.js","ui/position/position.js","ui/datepicker/datepicker.js","ui/popover/popover.js",
"can/util/function/function.js","can/control/modifier/modifier.js","steal/less/less.js","ui/popover/views/init.ejs","ui/textinput/textinput.js","ui/picker/picker.js","ui/typeahead/typeahead.js","can/observe/elements/elements.js","can/observe/observe.js","ui/dropdown/dropdown.js","ui/typeahead/views/list.ejs","ui/tip/tip.js","ui/slider/slider.js","util/cookie.js","util/json.js","app/views/login.ejs","app/views/signup.ejs","app/views/task.ejs","app/views/score_summary.ejs","app/models.js","can/model/model.js",
"can/model/list/list.js","app/models/task.js","app/models/database.js","can/observe/attributes/attributes.js","can/observe/sort/sort.js","app/models/comment.js","app/models/attachment.js","app/models/project.js","app/models/post.js","app/models/user/user.js","app/models/activity.js","app/models/connection.js","app/models/following.js","app/models/oauth.js","util/2.5.3-crypto-sha1-hmac.js","app/models/helpers/viewHelpers.js");steal({id:"app/production.css",waits:!0,has:"ui/datepicker/datepicker.css ui/popover/popover.less ui/textinput/textinput.css ui/dropdown/dropdown.less ui/typeahead/typeahead.css ui/tip/tip.less ui/picker/picker.css app/app.less".split(" ")});
steal("stealconfig.js","app/app.js","can/construct/proxy/proxy.js","can/util/jquery/jquery.js","jquery","can/util/can.js","can/util/array/each.js","can/construct/construct.js","can/util/string/string.js","can/construct/super/super.js","can/control/control.js","can/control/plugin/plugin.js","can/view/ejs/ejs.js","can/view/view.js","can/observe/compute/compute.js","can/view/scanner.js","can/view/render.js","can/view/modifiers/modifiers.js","ui/position/position.js","ui/datepicker/datepicker.js","ui/popover/popover.js",
"can/util/function/function.js","can/control/modifier/modifier.js","steal/less/less.js","ui/popover/views/init.ejs","ui/textinput/textinput.js","ui/picker/picker.js","ui/typeahead/typeahead.js","can/observe/elements/elements.js","can/observe/observe.js","ui/dropdown/dropdown.js","ui/typeahead/views/list.ejs","ui/tip/tip.js","ui/slider/slider.js","util/cookie.js","util/json.js","app/views/login.ejs","app/views/signup.ejs","app/views/task.ejs","app/views/score_summary.ejs","app/models.js","can/model/model.js",
"can/model/list/list.js","app/models/task.js","app/models/database.js","can/observe/attributes/attributes.js","can/observe/sort/sort.js","app/models/comment.js","app/models/attachment.js","app/models/project.js","app/models/post.js","app/models/user/user.js","app/models/activity.js","app/models/connection.js","app/models/following.js","app/models/oauth.js","util/2.5.3-crypto-sha1-hmac.js","app/models/helpers/viewHelpers.js");steal.pushPending();
steal.config({map:{"*":{"jquery/jquery.js":"jquery","can/util/util.js":"can/util/jquery/jquery.js","lib/2.5.3-crypto-sha1-hmac.js":"util/2.5.3-crypto-sha1-hmac.js"}},paths:{jquery:"can/lib/jquery.1.8.3.js","mootools/mootools.js":"can/lib/mootools-core-1.4.3.js","dojo/dojo.js":"can/util/dojo/dojo-1.8.1.js","yui/yui.js":"can/lib/yui-3.7.3.js","zepto/zepto.js":"can/lib/zepto.1.0rc1.js"},shim:{jquery:{exports:"jQuery"}},ext:{js:"js",css:"css",less:"steal/less/less.js",coffee:"steal/coffee/coffee.js",
ejs:"can/view/ejs/ejs.js",mustache:"can/view/mustache/mustache.js"}});steal.executed("stealconfig.js");
steal("can/construct/proxy","can/construct/super","can/control","can/control/plugin","can/view/ejs","can/view/modifiers").then("ui/position","ui/datepicker","ui/popover","ui/textinput","ui/picker","ui/slider","util/cookie.js","./views/login.ejs","./views/signup.ejs","./views/task.ejs","./views/score_summary.ejs","./app.less","./models",function(){Cohuman.mode="dev";Cohuman.config=Cohuman.env[Cohuman.mode];Cohuman.config.mobile=!0;Date.prototype.format=function(){var a=this.getDate();10>a&&(a="0"+
a);var d=this.getMonth()+1;10>d&&(d="0"+d);var c=this.getFullYear();return""+(d+"/"+a+"/"+c)};can.Control("OpenSocial",{setup:function(a,d){d=d||{};this.opener=a;var c=$('<div class="splash tasks-app" />').appendTo(document.body);c.wrap('<div class="tasks-wrapper" />');d.wrapper=c.parent();this._super(c,d)},init:function(){Cohuman.oauth=new Cohuman.Models.OAuth(Cohuman.config.api);Cohuman.oauth.prefilter();var a=$.cookie("cohuman_sess");a?(Cohuman.oauth.attr(a),this.task()):this.login()},disableForm:function(){this.element.find(".title-span").addClass("disabled");
this.element.find(".status").attr("disabled","disabled");this.element.find(".assign").remove();this.element.find(".add-btn").hide();this.element.find(".remove-follower").remove();this.element.find("input").attr("disabled","disabled");this.element.find(".ui-slider").slider("option","disabled",!0)},login:function(){this.element.append("app/views/login.ejs",{});this.element.find(".email").focus()},"form[name=login] submit":function(){Cohuman.Models.User.login({name:this.element.find(".email").val(),
password:this.element.find(".password").val()},this.proxy(function(a,d){$.cookie("cohuman_sess",$.toJSON({token:d.access_token.oauth_token,token_secret:d.access_token.oauth_token_secret}));this.task()}),function(){alert("Login failed!  Try again.")});return!1},task:function(){$.when.apply($,[Cohuman.Models.Task.findOne({id:this.options.id||"29389"}),Cohuman.Models.User.findOne({}),Cohuman.Models.Project.findAll()]).then(this.proxy(function(a,d,c){a.user=d;d.task=a;d.projects=c;Cohuman.observer=new can.Observe;
Cohuman.observer.attr("currentUser",d);this.task=a;this.user=d;this.element.removeClass("splash");this.element.html("app/views/task.ejs",{task:a,user:d,project:c,parentDom:this.options.wrapper}).removeClass("loading");var b=this.element.find("#progress").slider({value:this.task.progress,range:"min",step:1,min:0,max:100,slide:function(a,d){var c=Cohuman.Models.Task.convert.progress(d.value),i=$(".ui-slider-handle");i.html(c+"%");c!=d.value&&setTimeout(function(){b.slider("value",c)},1);100===d.value?
i.css("marginLeft","-46px"):i.css("marginLeft",0)}});$(".ui-slider-handle").html((this.task.progress||0)+"%");"finished"===this.task.state&&this.disableForm();this.element.height(this.element.height());gadgets&&gadgets.window.adjustHeight(this.element.height()+75)})).fail(function(a){alert(a.message)})},"#title change":function(a,d,c){this.task.update({name:c})},".status click":function(a){a=a.text().trim();"Finish"===a&&(this.task.update({state:"Finish"===a?"finished":"active"}),this.disableForm())},
".assign click":function(a,d){d.stopPropagation();this.element.find("#assigned").focus()},".add-btn click":function(a,d){d.stopPropagation();this.toggleAssign()},toggleAssign:function(){var a=this.element.find(".followers"),d=a.find(".ui_picker_wrap");a.find(".follower").toggle();d.toggle();d.is(":visible")&&d.children("input").focus()},"#followers change":function(a,d,c){this.toggleAssign();c.id?Cohuman.Models.Following.create({task:this.task,follower_id:c.id}):(Cohuman.Models.Following.create({task:this.task,
addresses:c}),this.element.find("#followers").ui_picker({items:this.task.followerableUsers()}))},".remove-follower click":function(a){var d=a.closest(".user"),a=d.instance();Cohuman.Models.Following.destroy({task_id:this.task.id,follower_id:a.id}).done(function(){d.remove()})},"#assigned change":function(a,d,c){c.id?this.task.setOwner({id:c.id}):this.task.setOwner({addresses:[c]}).done(this.proxy(function(){this.task.owner.attr("group","Favorites");this.element.find("#assigned").ui_picker({selected:this.task.owner,
items:this.task.assignableUsers()})}))},"#progress slidechange":function(a,d,c){this.task.update({progress:Cohuman.Models.Task.convert.progress(c.value)})},"#start_date changeDate":function(a,d){this.task.update({start_date:d.date.getFullYear()+"-"+(d.date.getMonth()+1)+"-"+d.date.getDate()})},"#due_date changeDate":function(a,d){this.task.update({target_date:d.date.getFullYear()+"-"+(d.date.getMonth()+1)+"-"+d.date.getDate()})},"#project change":function(a,d,c){this.task.setProject({id:c.id})},".comment keydown":function(a,
d){if(13===d.keyCode){var c=a.val();Cohuman.Models.Comment.create({task_id:this.task.id,text:c,user:this.user}).done(this.proxy(function(b){a.val("");this.task.comments.unshift(b);this.element.height("");this.element.height(this.element.height());gadgets&&gadgets.window.adjustHeight(this.element.height()+75)}))}}})});steal.executed("app/app.js");
steal("can/util","can/construct",function(a){var d=a.isArray,c=a.makeArray;a.Construct.proxy=a.Construct.prototype.proxy=function(a){var f=c(arguments),h,a=f.shift();d(a)||(a=[a]);h=this;return function(){for(var g=f.concat(c(arguments)),i,l=a.length,j=0,n;j<l;j++)if(n=a[j])i="string"==typeof n,g=(i?h[n]:n).apply(h,g||[]),j<l-1&&(g=!d(g)||g._use_call?[g]:g);return g}};return a});steal.executed("can/construct/proxy/proxy.js");
steal("jquery","can/util/can.js","can/util/array/each.js",function(a,d){a.extend(d,a,{trigger:function(b,d,c){b.trigger?b.trigger(d,c):a.event.trigger(d,c,b,!0)},addEvent:function(b,d){a([this]).bind(b,d);return this},removeEvent:function(b,d){a([this]).unbind(b,d);return this},buildFragment:function(b,d){var c=a.buildFragment([b],a(d));return c.cacheable?a.clone(c.fragment):c.fragment},$:a,each:d.each});a.each(["bind","unbind","undelegate","delegate"],function(b,c){d[c]=function(){var b=this[c]?
this:a([this]);b[c].apply(b,arguments);return this}});a.each("append filter addClass remove data get".split(" "),function(a,c){d[c]=function(a){return a[c].apply(a,d.makeArray(arguments).slice(1))}});var c=a.cleanData;a.cleanData=function(b){a.each(b,function(a,b){b&&d.trigger(b,"destroyed",[],!1)});c(b)};return d});steal.executed("can/util/jquery/jquery.js");
(function(a,d){function c(m){var a=Da[m]={};e.each(m.split(Y),function(m,e){a[e]=!0});return a}function b(m,a,k){if(k===d&&1===m.nodeType)if(k="data-"+a.replace(gb,"-$1").toLowerCase(),k=m.getAttribute(k),"string"===typeof k){try{k="true"===k?!0:"false"===k?!1:"null"===k?null:+k+""===k?+k:hb.test(k)?e.parseJSON(k):k}catch(b){}e.data(m,a,k)}else k=d;return k}function f(m){for(var a in m)if(!("data"===a&&e.isEmptyObject(m[a]))&&"toJSON"!==a)return!1;return!0}function h(){return!1}function g(){return!0}
function i(m){return!m||!m.parentNode||11===m.parentNode.nodeType}function l(m,a){do m=m[a];while(m&&1!==m.nodeType);return m}function j(m,a,k){a=a||0;if(e.isFunction(a))return e.grep(m,function(m,e){return!!a.call(m,e,m)===k});if(a.nodeType)return e.grep(m,function(m){return m===a===k});if("string"===typeof a){var b=e.grep(m,function(m){return 1===m.nodeType});if(ib.test(a))return e.filter(a,b,!k);a=e.filter(a,b)}return e.grep(m,function(m){return 0<=e.inArray(m,a)===k})}function n(m){var a=Ea.split("|"),
m=m.createDocumentFragment();if(m.createElement)for(;a.length;)m.createElement(a.pop());return m}function r(m,a){if(1===a.nodeType&&e.hasData(m)){var k,b,d;b=e._data(m);var c=e._data(a,b),f=b.events;if(f)for(k in delete c.handle,c.events={},f){b=0;for(d=f[k].length;b<d;b++)e.event.add(a,k,f[k][b])}c.data&&(c.data=e.extend({},c.data))}}function o(m,a){var k;if(1===a.nodeType){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(m);k=a.nodeName.toLowerCase();if("object"===k){if(a.parentNode&&
(a.outerHTML=m.outerHTML),e.support.html5Clone&&m.innerHTML&&!e.trim(a.innerHTML))a.innerHTML=m.innerHTML}else"input"===k&&Fa.test(m.type)?(a.defaultChecked=a.checked=m.checked,a.value!==m.value&&(a.value=m.value)):"option"===k?a.selected=m.defaultSelected:"input"===k||"textarea"===k?a.defaultValue=m.defaultValue:"script"===k&&a.text!==m.text&&(a.text=m.text);a.removeAttribute(e.expando)}}function q(m){return"undefined"!==typeof m.getElementsByTagName?m.getElementsByTagName("*"):"undefined"!==typeof m.querySelectorAll?
m.querySelectorAll("*"):[]}function v(m){Fa.test(m.type)&&(m.defaultChecked=m.checked)}function x(m,a){if(a in m)return a;for(var k=a.charAt(0).toUpperCase()+a.slice(1),e=a,b=Ga.length;b--;)if(a=Ga[b]+k,a in m)return a;return e}function s(m,a){m=a||m;return"none"===e.css(m,"display")||!e.contains(m.ownerDocument,m)}function A(m,a){for(var k,b,d=[],c=0,f=m.length;c<f;c++)k=m[c],k.style&&(d[c]=e._data(k,"olddisplay"),a?(!d[c]&&"none"===k.style.display&&(k.style.display=""),""===k.style.display&&s(k)&&
(d[c]=e._data(k,"olddisplay",C(k.nodeName)))):(b=L(k,"display"),!d[c]&&"none"!==b&&e._data(k,"olddisplay",b)));for(c=0;c<f;c++)if(k=m[c],k.style&&(!a||"none"===k.style.display||""===k.style.display))k.style.display=a?d[c]||"":"none";return m}function t(m,a,k){return(m=jb.exec(a))?Math.max(0,m[1]-(k||0))+(m[2]||"px"):a}function w(m,a,k,b){for(var a=k===(b?"border":"content")?4:"width"===a?1:0,d=0;4>a;a+=2)"margin"===k&&(d+=e.css(m,k+U[a],!0)),b?("content"===k&&(d-=parseFloat(L(m,"padding"+U[a]))||
0),"margin"!==k&&(d-=parseFloat(L(m,"border"+U[a]+"Width"))||0)):(d+=parseFloat(L(m,"padding"+U[a]))||0,"padding"!==k&&(d+=parseFloat(L(m,"border"+U[a]+"Width"))||0));return d}function y(m,a,k){var b="width"===a?m.offsetWidth:m.offsetHeight,d=!0,c=e.support.boxSizing&&"border-box"===e.css(m,"boxSizing");if(0>=b||null==b){b=L(m,a);if(0>b||null==b)b=m.style[a];if(ka.test(b))return b;d=c&&(e.support.boxSizingReliable||b===m.style[a]);b=parseFloat(b)||0}return b+w(m,a,k||(c?"border":"content"),d)+"px"}
function C(a){if(ta[a])return ta[a];var p=e("<"+a+">").appendTo(u.body),k=p.css("display");p.remove();if("none"===k||""===k){V=u.body.appendChild(V||e.extend(u.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!ca||!V.createElement)ca=(V.contentWindow||V.contentDocument).document,ca.write("<!doctype html><html><body>"),ca.close();p=ca.body.appendChild(ca.createElement(a));k=L(p,"display");u.body.removeChild(V)}return ta[a]=k}function D(a,p,k,b){var d;if(e.isArray(p))e.each(p,function(p,
e){k||kb.test(a)?b(a,e):D(a+"["+("object"===typeof e?p:"")+"]",e,k,b)});else if(!k&&"object"===e.type(p))for(d in p)D(a+"["+d+"]",p[d],k,b);else b(a,p)}function E(a){return function(p,k){"string"!==typeof p&&(k=p,p="*");var b,d,c=p.toLowerCase().split(Y),f=0,g=c.length;if(e.isFunction(k))for(;f<g;f++)b=c[f],(d=/^\+/.test(b))&&(b=b.substr(1)||"*"),b=a[b]=a[b]||[],b[d?"unshift":"push"](k)}}function I(a,p,k,e,b,c){b=b||p.dataTypes[0];c=c||{};c[b]=!0;for(var f,b=a[b],g=0,h=b?b.length:0,j=a===ua;g<h&&
(j||!f);g++)f=b[g](p,k,e),"string"===typeof f&&(!j||c[f]?f=d:(p.dataTypes.unshift(f),f=I(a,p,k,e,f,c)));if((j||!f)&&!c["*"])f=I(a,p,k,e,"*",c);return f}function M(a,p){var k,b,c=e.ajaxSettings.flatOptions||{};for(k in p)p[k]!==d&&((c[k]?a:b||(b={}))[k]=p[k]);b&&e.extend(!0,a,b)}function J(){try{return new a.XMLHttpRequest}catch(m){}}function O(){setTimeout(function(){da=d},0);return da=e.now()}function z(a,p){e.each(p,function(p,e){for(var b=(ga[p]||[]).concat(ga["*"]),d=0,c=b.length;d<c&&!b[d].call(a,
p,e);d++);})}function G(a,p,k){var b=0,d=la.length,c=e.Deferred().always(function(){delete f.elem}),f=function(){for(var p=da||O(),p=Math.max(0,g.startTime+g.duration-p),k=1-(p/g.duration||0),e=0,b=g.tweens.length;e<b;e++)g.tweens[e].run(k);c.notifyWith(a,[g,k,p]);if(1>k&&b)return p;c.resolveWith(a,[g]);return!1},g=c.promise({elem:a,props:e.extend({},p),opts:e.extend(!0,{specialEasing:{}},k),originalProperties:p,originalOptions:k,startTime:da||O(),duration:k.duration,tweens:[],createTween:function(p,
k){var b=e.Tween(a,g.opts,p,k,g.opts.specialEasing[p]||g.opts.easing);g.tweens.push(b);return b},stop:function(p){for(var k=0,e=p?g.tweens.length:0;k<e;k++)g.tweens[k].run(1);p?c.resolveWith(a,[g,p]):c.rejectWith(a,[g,p]);return this}}),k=g.props;for(ia(k,g.opts.specialEasing);b<d;b++)if(p=la[b].call(g,a,k,g.opts))return p;z(g,k);e.isFunction(g.opts.start)&&g.opts.start.call(a,g);e.fx.timer(e.extend(f,{anim:g,queue:g.opts.queue,elem:a}));return g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}
function ia(a,p){var k,b,d,c,f;for(k in a)if(b=e.camelCase(k),d=p[b],c=a[k],e.isArray(c)&&(d=c[1],c=a[k]=c[0]),k!==b&&(a[b]=c,delete a[k]),(f=e.cssHooks[b])&&"expand"in f)for(k in c=f.expand(c),delete a[b],c)k in a||(a[k]=c[k],p[k]=d);else p[b]=d}function H(a,p,k,b,e){return new H.prototype.init(a,p,k,b,e)}function K(a,p){for(var k,b={height:a},e=0,p=p?1:0;4>e;e+=2-p)k=U[e],b["margin"+k]=b["padding"+k]=a;p&&(b.opacity=b.width=a);return b}function R(a){return e.isWindow(a)?a:9===a.nodeType?a.defaultView||
a.parentWindow:!1}var Q,B,u=a.document,F=a.location,N=a.navigator,W=a.jQuery,S=a.$,ma=Array.prototype.push,T=Array.prototype.slice,Ha=Array.prototype.indexOf,lb=Object.prototype.toString,va=Object.prototype.hasOwnProperty,wa=String.prototype.trim,e=function(a,p){return new e.fn.init(a,p,Q)},na=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,mb=/\S/,Y=/\s+/,nb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ob=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ia=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pb=/^[\],:{}\s]*$/,qb=/(?:^|:|,)(?:\s*\[)+/g,
rb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,sb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,tb=/^-ms-/,ub=/-([\da-z])/gi,vb=function(a,p){return(p+"").toUpperCase()},oa=function(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",oa,!1),e.ready()):"complete"===u.readyState&&(u.detachEvent("onreadystatechange",oa),e.ready())},Ja={};e.fn=e.prototype={constructor:e,init:function(a,p,k){var b;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;
if("string"===typeof a){if((b="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:ob.exec(a))&&(b[1]||!p)){if(b[1])return a=(p=p instanceof e?p[0]:p)&&p.nodeType?p.ownerDocument||p:u,a=e.parseHTML(b[1],a,!0),Ia.test(b[1])&&e.isPlainObject(p)&&this.attr.call(a,p,!0),e.merge(this,a);if((p=u.getElementById(b[2]))&&p.parentNode){if(p.id!==b[2])return k.find(a);this.length=1;this[0]=p}this.context=u;this.selector=a;return this}return!p||p.jquery?(p||k).find(a):this.constructor(p).find(a)}if(e.isFunction(a))return k.ready(a);
a.selector!==d&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return T.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,p,k){a=e.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===p?a.selector=this.selector+(this.selector?" ":"")+k:p&&(a.selector=this.selector+"."+p+"("+k+")");return a},
each:function(a,p){return e.each(this,a,p)},ready:function(a){e.ready.promise().done(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(T.apply(this,arguments),"slice",T.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(p,k){return a.call(p,k,p)}))},end:function(){return this.prevObject||this.constructor(null)},push:ma,sort:[].sort,
splice:[].splice};e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var a,p,k,b,c,f=arguments[0]||{},g=1,h=arguments.length,j=!1;"boolean"===typeof f&&(j=f,f=arguments[1]||{},g=2);"object"!==typeof f&&!e.isFunction(f)&&(f={});for(h===g&&(f=this,--g);g<h;g++)if(null!=(a=arguments[g]))for(p in a)k=f[p],b=a[p],f!==b&&(j&&b&&(e.isPlainObject(b)||(c=e.isArray(b)))?(c?(c=!1,k=k&&e.isArray(k)?k:[]):k=k&&e.isPlainObject(k)?k:{},f[p]=e.extend(j,k,b)):b!==d&&(f[p]=b));return f};e.extend({noConflict:function(m){a.$===
e&&(a.$=S);m&&a.jQuery===e&&(a.jQuery=W);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(!(!0===a?--e.readyWait:e.isReady)){if(!u.body)return setTimeout(e.ready,1);e.isReady=!0;!0!==a&&0<--e.readyWait||(B.resolveWith(u,[e]),e.fn.trigger&&e(u).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===e.type(a)},isArray:Array.isArray||function(a){return"array"===e.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&
isFinite(a)},type:function(a){return null==a?""+a:Ja[lb.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==e.type(a)||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!va.call(a,"constructor")&&!va.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(p){return!1}for(var b in a);return b===d||va.call(a,b)},isEmptyObject:function(a){for(var p in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,p,b){var d;if(!a||"string"!==typeof a)return null;
"boolean"===typeof p&&(b=p,p=0);p=p||u;if(d=Ia.exec(a))return[p.createElement(d[1])];d=e.buildFragment([a],p,b?null:[]);return e.merge([],(d.cacheable?e.clone(d.fragment):d.fragment).childNodes)},parseJSON:function(m){if(!m||"string"!==typeof m)return null;m=e.trim(m);if(a.JSON&&a.JSON.parse)return a.JSON.parse(m);if(pb.test(m.replace(rb,"@").replace(sb,"]").replace(qb,"")))return(new Function("return "+m))();e.error("Invalid JSON: "+m)},parseXML:function(m){var p,b;if(!m||"string"!==typeof m)return null;
try{a.DOMParser?(b=new DOMParser,p=b.parseFromString(m,"text/xml")):(p=new ActiveXObject("Microsoft.XMLDOM"),p.async="false",p.loadXML(m))}catch(c){p=d}(!p||!p.documentElement||p.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+m);return p},noop:function(){},globalEval:function(m){m&&mb.test(m)&&(a.execScript||function(m){a.eval.call(a,m)})(m)},camelCase:function(a){return a.replace(tb,"ms-").replace(ub,vb)},nodeName:function(a,p){return a.nodeName&&a.nodeName.toLowerCase()===
p.toLowerCase()},each:function(a,p,b){var c,f=0,g=a.length,h=g===d||e.isFunction(a);if(b)if(h)for(c in a){if(!1===p.apply(a[c],b))break}else for(;f<g&&!1!==p.apply(a[f++],b););else if(h)for(c in a){if(!1===p.call(a[c],c,a[c]))break}else for(;f<g&&!1!==p.call(a[f],f,a[f++]););return a},trim:wa&&!wa.call("\ufeff\u00a0")?function(a){return null==a?"":wa.call(a)}:function(a){return null==a?"":(a+"").replace(nb,"")},makeArray:function(a,p){var b,d=p||[];null!=a&&(b=e.type(a),null==a.length||"string"===
b||"function"===b||"regexp"===b||e.isWindow(a)?ma.call(d,a):e.merge(d,a));return d},inArray:function(a,p,b){var e;if(p){if(Ha)return Ha.call(p,a,b);e=p.length;for(b=b?0>b?Math.max(0,e+b):b:0;b<e;b++)if(b in p&&p[b]===a)return b}return-1},merge:function(a,p){var b=p.length,e=a.length,c=0;if("number"===typeof b)for(;c<b;c++)a[e++]=p[c];else for(;p[c]!==d;)a[e++]=p[c++];a.length=e;return a},grep:function(a,p,b){for(var e,d=[],c=0,f=a.length,b=!!b;c<f;c++)e=!!p(a[c],c),b!==e&&d.push(a[c]);return d},map:function(a,
b,k){var c,f,g=[],h=0,j=a.length;if(a instanceof e||j!==d&&"number"===typeof j&&(0<j&&a[0]&&a[j-1]||0===j||e.isArray(a)))for(;h<j;h++)c=b(a[h],h,k),null!=c&&(g[g.length]=c);else for(f in a)c=b(a[f],f,k),null!=c&&(g[g.length]=c);return g.concat.apply([],g)},guid:1,proxy:function(a,b){var k,c;"string"===typeof b&&(k=a[b],b=a,a=k);if(!e.isFunction(a))return d;c=T.call(arguments,2);k=function(){return a.apply(b,c.concat(T.call(arguments)))};k.guid=a.guid=a.guid||e.guid++;return k},access:function(a,b,
k,c,f,g,h){var j,i=null==k,l=0,n=a.length;if(k&&"object"===typeof k){for(l in k)e.access(a,b,l,k[l],1,g,c);f=1}else if(c!==d){j=h===d&&e.isFunction(c);i&&(j?(j=b,b=function(a,m,b){return j.call(e(a),b)}):(b.call(a,c),b=null));if(b)for(;l<n;l++)b(a[l],k,j?c.call(a[l],l,b(a[l],k)):c,h);f=1}return f?a:i?b.call(a):n?b(a[0],k):g},now:function(){return(new Date).getTime()}});e.ready.promise=function(m){if(!B)if(B=e.Deferred(),"complete"===u.readyState)setTimeout(e.ready,1);else if(u.addEventListener)u.addEventListener("DOMContentLoaded",
oa,!1),a.addEventListener("load",e.ready,!1);else{u.attachEvent("onreadystatechange",oa);a.attachEvent("onload",e.ready);var b=!1;try{b=null==a.frameElement&&u.documentElement}catch(k){}b&&b.doScroll&&function ra(){if(!e.isReady){try{b.doScroll("left")}catch(a){return setTimeout(ra,50)}e.ready()}}()}return B.promise(m)};e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Ja["[object "+b+"]"]=b.toLowerCase()});Q=e(u);var Da={};e.Callbacks=function(a){var a="string"===
typeof a?Da[a]||c(a):e.extend({},a),b,k,f,g,h,j,i=[],l=!a.once&&[],n=function(e){b=a.memory&&e;k=!0;j=g||0;g=0;h=i.length;for(f=!0;i&&j<h;j++)if(!1===i[j].apply(e[0],e[1])&&a.stopOnFalse){b=!1;break}f=!1;i&&(l?l.length&&n(l.shift()):b?i=[]:s.disable())},s={add:function(){if(i){var k=i.length;(function wb(b){e.each(b,function(b,p){var k=e.type(p);"function"===k?(!a.unique||!s.has(p))&&i.push(p):p&&p.length&&"string"!==k&&wb(p)})})(arguments);f?h=i.length:b&&(g=k,n(b))}return this},remove:function(){i&&
e.each(arguments,function(a,m){for(var b;-1<(b=e.inArray(m,i,b));)i.splice(b,1),f&&(b<=h&&h--,b<=j&&j--)});return this},has:function(a){return-1<e.inArray(a,i)},empty:function(){i=[];return this},disable:function(){i=l=b=d;return this},disabled:function(){return!i},lock:function(){l=d;b||s.disable();return this},locked:function(){return!l},fireWith:function(a,m){m=m||[];m=[a,m.slice?m.slice():m];if(i&&(!k||l))f?l.push(m):n(m);return this},fire:function(){s.fireWith(this,arguments);return this},fired:function(){return!!k}};
return s};e.extend({Deferred:function(a){var b=[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory")]],k="pending",d={state:function(){return k},always:function(){c.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return e.Deferred(function(m){e.each(b,function(b,p){var k=p[0],d=a[b];c[p[1]](e.isFunction(d)?function(){var a=d.apply(this,arguments);if(a&&e.isFunction(a.promise))a.promise().done(m.resolve).fail(m.reject).progress(m.notify);
else m[k+"With"](this===c?m:this,[a])}:m[k])});a=null}).promise()},promise:function(a){return null!=a?e.extend(a,d):d}},c={};d.pipe=d.then;e.each(b,function(a,m){var e=m[2],f=m[3];d[m[1]]=e.add;f&&e.add(function(){k=f},b[a^1][2].disable,b[2][2].lock);c[m[0]]=e.fire;c[m[0]+"With"]=e.fireWith});d.promise(c);a&&a.call(c,c);return c},when:function(a){var b=0,k=T.call(arguments),d=k.length,c=1!==d||a&&e.isFunction(a.promise)?d:0,f=1===c?a:e.Deferred(),g=function(a,m,b){return function(p){m[a]=this;b[a]=
1<arguments.length?T.call(arguments):p;b===h?f.notifyWith(m,b):--c||f.resolveWith(m,b)}},h,j,i;if(1<d){h=Array(d);j=Array(d);for(i=Array(d);b<d;b++)k[b]&&e.isFunction(k[b].promise)?k[b].promise().done(g(b,i,k)).fail(f.reject).progress(g(b,j,h)):--c}c||f.resolveWith(i,k);return f.promise()}});e.support=function(){var m,b,k,d,c,f,g,h=u.createElement("div");h.setAttribute("className","t");h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=h.getElementsByTagName("*");k=
h.getElementsByTagName("a")[0];if(!b||!k||!b.length)return{};d=u.createElement("select");c=d.appendChild(u.createElement("option"));b=h.getElementsByTagName("input")[0];k.style.cssText="top:1px;float:left;opacity:.5";m={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(k.getAttribute("style")),hrefNormalized:"/a"===k.getAttribute("href"),opacity:/^0.5/.test(k.style.opacity),cssFloat:!!k.style.cssFloat,
checkOn:"on"===b.value,optSelected:c.selected,getSetAttribute:"t"!==h.className,enctype:!!u.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==u.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===u.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;m.noCloneChecked=b.cloneNode(!0).checked;d.disabled=!0;m.optDisabled=
!c.disabled;try{delete h.test}catch(j){m.deleteExpando=!1}!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",k=function(){m.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",k));b=u.createElement("input");b.value="t";b.setAttribute("type","radio");m.radioValue="t"===b.value;b.setAttribute("checked","checked");b.setAttribute("name","t");h.appendChild(b);k=u.createDocumentFragment();k.appendChild(h.lastChild);m.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked;
m.appendChecked=b.checked;k.removeChild(b);k.appendChild(h);if(h.attachEvent)for(f in{submit:!0,change:!0,focusin:!0})b="on"+f,(g=b in h)||(h.setAttribute(b,"return;"),g="function"===typeof h[b]),m[f+"Bubbles"]=g;e(function(){var b,e,p,k=u.getElementsByTagName("body")[0];k&&(b=u.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",k.insertBefore(b,k.firstChild),e=u.createElement("div"),b.appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
p=e.getElementsByTagName("td"),p[0].style.cssText="padding:0;margin:0;border:0;display:none",g=0===p[0].offsetHeight,p[0].style.display="",p[1].style.display="none",m.reliableHiddenOffsets=g&&0===p[0].offsetHeight,e.innerHTML="",e.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",m.boxSizing=4===e.offsetWidth,m.doesNotIncludeMarginInBodyOffset=1!==k.offsetTop,a.getComputedStyle&&
(m.pixelPosition="1%"!==(a.getComputedStyle(e,null)||{}).top,m.boxSizingReliable="4px"===(a.getComputedStyle(e,null)||{width:"4px"}).width,p=u.createElement("div"),p.style.cssText=e.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",p.style.marginRight=p.style.width="0",e.style.width="1px",e.appendChild(p),m.reliableMarginRight=!parseFloat((a.getComputedStyle(p,null)||{}).marginRight)),"undefined"!==typeof e.style.zoom&&(e.innerHTML="",e.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",
m.inlineBlockNeedsLayout=3===e.offsetWidth,e.style.display="block",e.style.overflow="visible",e.innerHTML="<div></div>",e.firstChild.style.width="5px",m.shrinkWrapBlocks=3!==e.offsetWidth,b.style.zoom=1),k.removeChild(b))});k.removeChild(h);b=k=d=c=b=k=h=null;return m}();var hb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gb=/([A-Z])/g;e.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(e.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},
hasData:function(a){a=a.nodeType?e.cache[a[e.expando]]:a[e.expando];return!!a&&!f(a)},data:function(a,b,k,c){if(e.acceptData(a)){var f=e.expando,g="string"===typeof b,h=a.nodeType,j=h?e.cache:a,i=h?a[f]:a[f]&&f;if(i&&j[i]&&(c||j[i].data)||!(g&&k===d)){i||(h?a[f]=i=e.deletedIds.pop()||e.guid++:i=f);j[i]||(j[i]={},h||(j[i].toJSON=e.noop));if("object"===typeof b||"function"===typeof b)c?j[i]=e.extend(j[i],b):j[i].data=e.extend(j[i].data,b);a=j[i];c||(a.data||(a.data={}),a=a.data);k!==d&&(a[e.camelCase(b)]=
k);g?(k=a[b],null==k&&(k=a[e.camelCase(b)])):k=a;return k}}},removeData:function(a,b,k){if(e.acceptData(a)){var d,c,g,h=a.nodeType,j=h?e.cache:a,i=h?a[e.expando]:e.expando;if(j[i]){if(b&&(d=k?j[i]:j[i].data)){e.isArray(b)||(b in d?b=[b]:(b=e.camelCase(b),b=b in d?[b]:b.split(" ")));c=0;for(g=b.length;c<g;c++)delete d[b[c]];if(!(k?f:e.isEmptyObject)(d))return}if(k||!(delete j[i].data,!f(j[i])))h?e.cleanData([a],!0):e.support.deleteExpando||j!=j.window?delete j[i]:j[i]=null}}},_data:function(a,b,k){return e.data(a,
b,k,!0)},acceptData:function(a){var b=a.nodeName&&e.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});e.fn.extend({data:function(a,p){var k,c,f,g,h,j=this[0],i=0,l=null;if(a===d){if(this.length&&(l=e.data(j),1===j.nodeType&&!e._data(j,"parsedAttrs"))){f=j.attributes;for(h=f.length;i<h;i++)g=f[i].name,g.indexOf("data-")||(g=e.camelCase(g.substring(5)),b(j,g,l[g]));e._data(j,"parsedAttrs",!0)}return l}if("object"===typeof a)return this.each(function(){e.data(this,a)});
k=a.split(".",2);k[1]=k[1]?"."+k[1]:"";c=k[1]+"!";return e.access(this,function(p){if(p===d)return l=this.triggerHandler("getData"+c,[k[0]]),l===d&&j&&(l=e.data(j,a),l=b(j,a,l)),l===d&&k[1]?this.data(k[0]):l;k[1]=p;this.each(function(){var b=e(this);b.triggerHandler("setData"+c,k);e.data(this,a,p);b.triggerHandler("changeData"+c,k)})},null,p,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){e.removeData(this,a)})}});e.extend({queue:function(a,b,k){var d;if(a)return b=
(b||"fx")+"queue",d=e._data(a,b),k&&(!d||e.isArray(k)?d=e._data(a,b,e.makeArray(k)):d.push(k)),d||[]},dequeue:function(a,b){var b=b||"fx",k=e.queue(a,b),d=k.length,c=k.shift(),f=e._queueHooks(a,b),g=function(){e.dequeue(a,b)};"inprogress"===c&&(c=k.shift(),d--);c&&("fx"===b&&k.unshift("inprogress"),delete f.stop,c.call(a,g,f));!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var k=b+"queueHooks";return e._data(a,k)||e._data(a,k,{empty:e.Callbacks("once memory").add(function(){e.removeData(a,b+"queue",
!0);e.removeData(a,k,!0)})})}});e.fn.extend({queue:function(a,b){var k=2;"string"!==typeof a&&(b=a,a="fx",k--);return arguments.length<k?e.queue(this[0],a):b===d?this:this.each(function(){var k=e.queue(this,a,b);e._queueHooks(this,a);"fx"===a&&"inprogress"!==k[0]&&e.dequeue(this,a)})},dequeue:function(a){return this.each(function(){e.dequeue(this,a)})},delay:function(a,b){a=e.fx?e.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,e){var d=setTimeout(b,a);e.stop=function(){clearTimeout(d)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var k,c=1,f=e.Deferred(),g=this,h=this.length,j=function(){--c||f.resolveWith(g,[g])};"string"!==typeof a&&(b=a,a=d);for(a=a||"fx";h--;)if((k=e._data(g[h],a+"queueHooks"))&&k.empty)c++,k.empty.add(j);j();return f.promise(b)}});var X,Ka,La,Ma=/[\t\r\n]/g,xb=/\r/g,yb=/^(?:button|input)$/i,zb=/^(?:button|input|object|select|textarea)$/i,Ab=/^a(?:rea|)$/i,Na=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
Oa=e.support.getSetAttribute;e.fn.extend({attr:function(a,b){return e.access(this,e.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){e.removeAttr(this,a)})},prop:function(a,b){return e.access(this,e.prop,a,b,1<arguments.length)},removeProp:function(a){a=e.propFix[a]||a;return this.each(function(){try{this[a]=d,delete this[a]}catch(b){}})},addClass:function(a){var b,k,d,c,f,g,h;if(e.isFunction(a))return this.each(function(b){e(this).addClass(a.call(this,b,this.className))});
if(a&&"string"===typeof a){b=a.split(Y);k=0;for(d=this.length;k<d;k++)if(c=this[k],1===c.nodeType)if(!c.className&&1===b.length)c.className=a;else{f=" "+c.className+" ";g=0;for(h=b.length;g<h;g++)0>f.indexOf(" "+b[g]+" ")&&(f+=b[g]+" ");c.className=e.trim(f)}}return this},removeClass:function(a){var b,k,c,f,g,h,j;if(e.isFunction(a))return this.each(function(b){e(this).removeClass(a.call(this,b,this.className))});if(a&&"string"===typeof a||a===d){b=(a||"").split(Y);h=0;for(j=this.length;h<j;h++)if(c=
this[h],1===c.nodeType&&c.className){k=(" "+c.className+" ").replace(Ma," ");f=0;for(g=b.length;f<g;f++)for(;0<=k.indexOf(" "+b[f]+" ");)k=k.replace(" "+b[f]+" "," ");c.className=a?e.trim(k):""}}return this},toggleClass:function(a,b){var k=typeof a,d="boolean"===typeof b;return e.isFunction(a)?this.each(function(k){e(this).toggleClass(a.call(this,k,this.className,b),b)}):this.each(function(){if("string"===k)for(var c,f=0,g=e(this),h=b,j=a.split(Y);c=j[f++];)h=d?h:!g.hasClass(c),g[h?"addClass":"removeClass"](c);
else if("undefined"===k||"boolean"===k)this.className&&e._data(this,"__className__",this.className),this.className=this.className||!1===a?"":e._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,e=this.length;b<e;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ma," ").indexOf(a))return!0;return!1},val:function(a){var b,k,c,f=this[0];if(arguments.length)return c=e.isFunction(a),this.each(function(k){var f=e(this);if(1===this.nodeType&&(k=c?a.call(this,
k,f.val()):a,null==k?k="":"number"===typeof k?k+="":e.isArray(k)&&(k=e.map(k,function(a){return a==null?"":a+""})),b=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],!b||!("set"in b)||b.set(this,k,"value")===d))this.value=k});if(f){if((b=e.valHooks[f.type]||e.valHooks[f.nodeName.toLowerCase()])&&"get"in b&&(k=b.get(f,"value"))!==d)return k;k=f.value;return"string"===typeof k?k.replace(xb,""):null==k?"":k}}});e.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||
b.specified?a.value:a.text}},select:{get:function(a){for(var b,k=a.options,d=a.selectedIndex,c=(a="select-one"===a.type||0>d)?null:[],f=a?d+1:k.length,g=0>d?f:a?d:0;g<f;g++)if(b=k[g],(b.selected||g===d)&&(e.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!e.nodeName(b.parentNode,"optgroup"))){b=e(b).val();if(a)return b;c.push(b)}return c},set:function(a,b){var k=e.makeArray(b);e(a).find("option").each(function(){this.selected=0<=e.inArray(e(this).val(),
k)});k.length||(a.selectedIndex=-1);return k}}},attrFn:{},attr:function(a,b,k,c){var f,g,h=a.nodeType;if(a&&!(3===h||8===h||2===h)){if(c&&e.isFunction(e.fn[b]))return e(a)[b](k);if("undefined"===typeof a.getAttribute)return e.prop(a,b,k);if(c=1!==h||!e.isXMLDoc(a))b=b.toLowerCase(),g=e.attrHooks[b]||(Na.test(b)?Ka:X);if(k!==d)if(null===k)e.removeAttr(a,b);else{if(g&&"set"in g&&c&&(f=g.set(a,k,b))!==d)return f;a.setAttribute(b,k+"");return k}else{if(g&&"get"in g&&c&&null!==(f=g.get(a,b)))return f;
f=a.getAttribute(b);return null===f?d:f}}},removeAttr:function(a,b){var k,d,c,f,g=0;if(b&&1===a.nodeType)for(d=b.split(Y);g<d.length;g++)if(c=d[g])k=e.propFix[c]||c,(f=Na.test(c))||e.attr(a,c,""),a.removeAttribute(Oa?c:k),f&&k in a&&(a[k]=!1)},attrHooks:{type:{set:function(a,b){if(yb.test(a.nodeName)&&a.parentNode)e.error("type property can't be changed");else if(!e.support.radioValue&&"radio"===b&&e.nodeName(a,"input")){var k=a.value;a.setAttribute("type",b);k&&(a.value=k);return b}}},value:{get:function(a,
b){return X&&e.nodeName(a,"button")?X.get(a,b):b in a?a.value:null},set:function(a,b,k){if(X&&e.nodeName(a,"button"))return X.set(a,b,k);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,k){var c,f,g;g=a.nodeType;if(a&&!(3===g||8===g||2===g)){if(1!==
g||!e.isXMLDoc(a))b=e.propFix[b]||b,f=e.propHooks[b];return k!==d?f&&"set"in f&&(c=f.set(a,k,b))!==d?c:a[b]=k:f&&"get"in f&&null!==(c=f.get(a,b))?c:a[b]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&&a.href?0:d}}}});Ka={get:function(a,b){var k,c=e.prop(a,b);return!0===c||"boolean"!==typeof c&&(k=a.getAttributeNode(b))&&!1!==k.nodeValue?b.toLowerCase():d},set:function(a,b,k){!1===b?e.removeAttr(a,
k):(b=e.propFix[k]||k,b in a&&(a[b]=!0),a.setAttribute(k,k.toLowerCase()));return k}};Oa||(La={name:!0,id:!0,coords:!0},X=e.valHooks.button={get:function(a,b){var e;return(e=a.getAttributeNode(b))&&(La[b]?""!==e.value:e.specified)?e.value:d},set:function(a,b,e){var d=a.getAttributeNode(e);d||(d=u.createAttribute(e),a.setAttributeNode(d));return d.value=b+""}},e.each(["width","height"],function(a,b){e.attrHooks[b]=e.extend(e.attrHooks[b],{set:function(a,m){if(""===m)return a.setAttribute(b,"auto"),
m}})}),e.attrHooks.contenteditable={get:X.get,set:function(a,b,e){""===b&&(b="false");X.set(a,b,e)}});e.support.hrefNormalized||e.each(["href","src","width","height"],function(a,b){e.attrHooks[b]=e.extend(e.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return null===a?d:a}})});e.support.style||(e.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||d},set:function(a,b){return a.style.cssText=b+""}});e.support.optSelected||(e.propHooks.selected=e.extend(e.propHooks.selected,
{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));e.support.enctype||(e.propFix.enctype="encoding");e.support.checkOn||e.each(["radio","checkbox"],function(){e.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});e.each(["radio","checkbox"],function(){e.valHooks[this]=e.extend(e.valHooks[this],{set:function(a,b){if(e.isArray(b))return a.checked=0<=e.inArray(e(a).val(),b)}})});var xa=/^(?:textarea|input|select)$/i,
Pa=/^([^\.]*|)(?:\.(.+)|)$/,Bb=/(?:^|\s)hover(\.\S+|)\b/,Cb=/^key/,Db=/^(?:mouse|contextmenu)|click/,Qa=/^(?:focusinfocus|focusoutblur)$/,Ra=function(a){return e.event.special.hover?a:a.replace(Bb,"mouseenter$1 mouseleave$1")};e.event={add:function(a,b,k,c,f){var g,h,j,i,l,n,s,v,o;if(!(3===a.nodeType||8===a.nodeType||!b||!k||!(g=e._data(a)))){k.handler&&(s=k,k=s.handler,f=s.selector);k.guid||(k.guid=e.guid++);j=g.events;j||(g.events=j={});h=g.handle;h||(g.handle=h=function(a){return typeof e!=="undefined"&&
(!a||e.event.triggered!==a.type)?e.event.dispatch.apply(h.elem,arguments):d},h.elem=a);b=e.trim(Ra(b)).split(" ");for(g=0;g<b.length;g++){i=Pa.exec(b[g])||[];l=i[1];n=(i[2]||"").split(".").sort();o=e.event.special[l]||{};l=(f?o.delegateType:o.bindType)||l;o=e.event.special[l]||{};i=e.extend({type:l,origType:i[1],data:c,handler:k,guid:k.guid,selector:f,needsContext:f&&e.expr.match.needsContext.test(f),namespace:n.join(".")},s);v=j[l];if(!v&&(v=j[l]=[],v.delegateCount=0,!o.setup||!1===o.setup.call(a,
c,n,h)))a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h);o.add&&(o.add.call(a,i),i.handler.guid||(i.handler.guid=k.guid));f?v.splice(v.delegateCount++,0,i):v.push(i);e.event.global[l]=!0}a=null}},global:{},remove:function(a,b,d,c,f){var g,h,j,i,l,n,s,v,o,q,r=e.hasData(a)&&e._data(a);if(r&&(s=r.events)){b=e.trim(Ra(b||"")).split(" ");for(g=0;g<b.length;g++)if(h=Pa.exec(b[g])||[],j=i=h[1],h=h[2],j){v=e.event.special[j]||{};j=(c?v.delegateType:v.bindType)||j;o=s[j]||
[];l=o.length;h=h?RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(n=0;n<o.length;n++)if(q=o[n],(f||i===q.origType)&&(!d||d.guid===q.guid)&&(!h||h.test(q.namespace))&&(!c||c===q.selector||"**"===c&&q.selector))o.splice(n--,1),q.selector&&o.delegateCount--,v.remove&&v.remove.call(a,q);0===o.length&&l!==o.length&&((!v.teardown||!1===v.teardown.call(a,h,r.handle))&&e.removeEvent(a,j,r.handle),delete s[j])}else for(j in s)e.event.remove(a,j+b[g],d,c,!0);e.isEmptyObject(s)&&
(delete r.handle,e.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,c,k,f){if(!k||!(3===k.nodeType||8===k.nodeType)){var g,h,j,i,l,n,s=b.type||b;j=[];if(!Qa.test(s+e.event.triggered)&&(0<=s.indexOf("!")&&(s=s.slice(0,-1),g=!0),0<=s.indexOf(".")&&(j=s.split("."),s=j.shift(),j.sort()),k&&!e.event.customEvent[s]||e.event.global[s]))if(b="object"===typeof b?b[e.expando]?b:new e.Event(s,b):new e.Event(s),b.type=s,b.isTrigger=!0,b.exclusive=g,b.namespace=
j.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+j.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j=0>s.indexOf(":")?"on"+s:"",k){if(b.result=d,b.target||(b.target=k),c=null!=c?e.makeArray(c):[],c.unshift(b),i=e.event.special[s]||{},!(i.trigger&&!1===i.trigger.apply(k,c))){n=[[k,i.bindType||s]];if(!f&&!i.noBubble&&!e.isWindow(k)){l=i.delegateType||s;g=Qa.test(l+s)?k:k.parentNode;for(h=k;g;g=g.parentNode)n.push([g,l]),h=g;if(h===(k.ownerDocument||u))n.push([h.defaultView||h.parentWindow||a,l])}for(h=
0;h<n.length&&!b.isPropagationStopped();h++)g=n[h][0],b.type=n[h][1],(l=(e._data(g,"events")||{})[b.type]&&e._data(g,"handle"))&&l.apply(g,c),(l=j&&g[j])&&e.acceptData(g)&&(l.apply&&!1===l.apply(g,c))&&b.preventDefault();b.type=s;if(!f&&!b.isDefaultPrevented()&&(!i._default||!1===i._default.apply(k.ownerDocument,c))&&!("click"===s&&e.nodeName(k,"a"))&&e.acceptData(k))if(j&&k[s]&&("focus"!==s&&"blur"!==s||0!==b.target.offsetWidth)&&!e.isWindow(k))(h=k[j])&&(k[j]=null),e.event.triggered=s,k[s](),e.event.triggered=
d,h&&(k[j]=h);return b.result}}else for(h in k=e.cache,k)k[h].events&&k[h].events[s]&&e.event.trigger(b,c,k[h].handle.elem,!0)}},dispatch:function(b){var b=e.event.fix(b||a.event),c,k,f,g,h,j,i=(e._data(this,"events")||{})[b.type]||[],l=i.delegateCount,n=T.call(arguments),s=!b.exclusive&&!b.namespace,v=e.event.special[b.type]||{},o=[];n[0]=b;b.delegateTarget=this;if(!(v.preDispatch&&!1===v.preDispatch.call(this,b))){if(l&&!(b.button&&"click"===b.type))for(k=b.target;k!=this;k=k.parentNode||this)if(!0!==
k.disabled||"click"!==b.type){g={};h=[];for(c=0;c<l;c++)f=i[c],j=f.selector,g[j]===d&&(g[j]=f.needsContext?0<=e(j,this).index(k):e.find(j,this,null,[k]).length),g[j]&&h.push(f);h.length&&o.push({elem:k,matches:h})}i.length>l&&o.push({elem:this,matches:i.slice(l)});for(c=0;c<o.length&&!b.isPropagationStopped();c++){g=o[c];b.currentTarget=g.elem;for(k=0;k<g.matches.length&&!b.isImmediatePropagationStopped();k++)if(f=g.matches[k],s||!b.namespace&&!f.namespace||b.namespace_re&&b.namespace_re.test(f.namespace))b.data=
f.data,b.handleObj=f,f=((e.event.special[f.origType]||{}).handle||f.handler).apply(g.elem,n),f!==d&&(b.result=f,!1===f&&(b.preventDefault(),b.stopPropagation()))}v.postDispatch&&v.postDispatch.call(this,b);return b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&
(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,c,f=b.button,g=b.fromElement;null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||u,c=e.documentElement,e=e.body,a.pageX=b.clientX+(c&&c.scrollLeft||e&&e.scrollLeft||0)-(c&&c.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||e&&e.scrollTop||0)-(c&&c.clientTop||e&&
e.clientTop||0));!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g);!a.which&&f!==d&&(a.which=f&1?1:f&2?3:f&4?2:0);return a}},fix:function(a){if(a[e.expando])return a;var b,c,d=a,f=e.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props,a=e.Event(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];a.target||(a.target=d.srcElement||u);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return f.filter?f.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},
blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){e.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){a=e.extend(new e.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?e.event.trigger(a,null,b):e.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};e.event.handle=e.event.dispatch;e.removeEvent=u.removeEventListener?function(a,b,e){a.removeEventListener&&a.removeEventListener(b,
e,!1)}:function(a,b,e){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,e))};e.Event=function(a,b){if(!(this instanceof e.Event))return new e.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?g:h):this.type=a;b&&e.extend(this,b);this.timeStamp=a&&a.timeStamp||e.now();this[e.expando]=!0};e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=
g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g;this.stopPropagation()},isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h};e.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){e.event.special[a]={delegateType:b,
bindType:b,handle:function(a){var c,d=a.relatedTarget,m=a.handleObj;if(!d||d!==this&&!e.contains(this,d))a.type=m.origType,c=m.handler.apply(this,arguments),a.type=b;return c}}});e.support.submitBubbles||(e.event.special.submit={setup:function(){if(e.nodeName(this,"form"))return!1;e.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=e.nodeName(a,"input")||e.nodeName(a,"button")?a.form:d)&&!e._data(a,"_submit_attached"))e.event.add(a,"submit._submit",function(a){a._submit_bubble=
!0}),e._data(a,"_submit_attached",!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&e.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(e.nodeName(this,"form"))return!1;e.event.remove(this,"._submit")}});e.support.changeBubbles||(e.event.special.change={setup:function(){if(xa.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)e.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&
(this._just_changed=!0)}),e.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);e.event.simulate("change",this,a,!0)});return!1}e.event.add(this,"beforeactivate._change",function(a){a=a.target;xa.test(a.nodeName)&&!e._data(a,"_change_attached")&&(e.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&e.event.simulate("change",this.parentNode,a,!0)}),e._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;
if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){e.event.remove(this,"._change");return!xa.test(this.nodeName)}});e.support.focusinBubbles||e.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){e.event.simulate(b,a.target,e.event.fix(a),!0)};e.event.special[b]={setup:function(){0===c++&&u.addEventListener(a,d,!0)},teardown:function(){0===--c&&u.removeEventListener(a,d,!0)}}});
e.fn.extend({on:function(a,b,c,f,g){var j,i;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=d);for(i in a)this.on(i,b,c,a[i],g);return this}null==c&&null==f?(f=b,c=b=d):null==f&&("string"===typeof b?(f=c,c=d):(f=c,c=b,b=d));if(!1===f)f=h;else if(!f)return this;1===g&&(j=f,f=function(a){e().off(a);return j.apply(this,arguments)},f.guid=j.guid||(j.guid=e.guid++));return this.each(function(){e.event.add(this,a,f,c,b)})},one:function(a,b,e,c){return this.on(a,b,e,c,1)},off:function(a,b,c){var f;
if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,e(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"===typeof a){for(f in a)this.off(f,b,a[f]);return this}if(!1===b||"function"===typeof b)c=b,b=d;!1===c&&(c=h);return this.each(function(){e.event.remove(this,a,c,b)})},bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){e(this.context).on(a,this.selector,b,c);return this},
die:function(a,b){e(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,e,c){return this.on(b,a,e,c)},undelegate:function(a,b,e){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",e)},trigger:function(a,b){return this.each(function(){e.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return e.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||e.guid++,d=0,f=function(c){var k=(e._data(this,"lastToggle"+a.guid)||0)%d;
e._data(this,"lastToggle"+a.guid,k+1);c.preventDefault();return b[k].apply(this,arguments)||!1};for(f.guid=c;d<b.length;)b[d++].guid=c;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});e.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){e.fn[b]=function(a,e){if(e==null){e=a;a=null}return arguments.length>
0?this.on(b,null,a,e):this.trigger(b)};if(Cb.test(b))e.event.fixHooks[b]=e.event.keyHooks;if(Db.test(b))e.event.fixHooks[b]=e.event.mouseHooks});(function(a,b){function c(a,b,e,d){var e=e||[],b=b||N,f,m,k,g,h=b.nodeType;if(!a||"string"!==typeof a)return e;if(1!==h&&9!==h)return[];k=y(b);if(!k&&!d&&(f=Y.exec(a)))if(g=f[1])if(9===h)if((m=b.getElementById(g))&&m.parentNode){if(m.id===g)return e.push(m),e}else return e;else{if(b.ownerDocument&&(m=b.ownerDocument.getElementById(g))&&C(b,m)&&m.id===g)return e.push(m),
e}else{if(f[2])return ja.apply(e,O.call(b.getElementsByTagName(a),0)),e;if((g=f[3])&&ba&&b.getElementsByClassName)return ja.apply(e,O.call(b.getElementsByClassName(g),0)),e}return q(a.replace(Q,"$1"),b,e,d,k)}function d(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function f(a){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===a}}function g(a){return S(function(b){b=+b;return S(function(e,c){for(var d,f=a([],e.length,b),m=
f.length;m--;)if(e[d=f[m]])e[d]=!(c[d]=e[d])})})}function h(a,b,e){if(a===b)return e;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function j(a,b){var e,d,f,m,g,h,p;if(g=ia[z][a+" "])return b?0:g.slice(0);g=a;h=[];for(p=t.preFilter;g;){if(!e||(d=ma.exec(g)))d&&(g=g.slice(d[0].length)||g),h.push(f=[]);e=!1;if(d=P.exec(g))f.push(e=new G(d.shift())),g=g.slice(e.length),e.type=d[0].replace(Q," ");for(m in t.filter)if((d=V[m].exec(g))&&(!p[m]||(d=p[m](d))))f.push(e=new G(d.shift())),
g=g.slice(e.length),e.type=m,e.matches=d;if(!e)break}return b?g.length:g?c.error(a):ia(a,h).slice(0)}function i(a,b,e){var c=b.dir,d=e&&"parentNode"===b.dir,f=M++;return b.first?function(b,e,f){for(;b=b[c];)if(d||1===b.nodeType)return a(b,e,f)}:function(b,e,m){if(m)for(;b=b[c];){if((d||1===b.nodeType)&&a(b,e,m))return b}else for(var g,k=I+" "+f+" ",h=k+x;b=b[c];)if(d||1===b.nodeType){if((g=b[z])===h)return b.sizset;if("string"===typeof g&&0===g.indexOf(k)){if(b.sizset)return b}else{b[z]=h;if(a(b,
e,m))return b.sizset=!0,b;b.sizset=!1}}}}function l(a){return 1<a.length?function(b,e,c){for(var d=a.length;d--;)if(!a[d](b,e,c))return!1;return!0}:a[0]}function n(a,b,e,c,d){for(var f,m=[],g=0,k=a.length,h=null!=b;g<k;g++)if(f=a[g])if(!e||e(f,c,d))m.push(f),h&&b.push(g);return m}function s(a,b,e,d,f,m){d&&!d[z]&&(d=s(d));f&&!f[z]&&(f=s(f,m));return S(function(m,g,h,j){var p,i,l=[],s=[],v=g.length,o;if(!(o=m)){o=b||"*";for(var q=h.nodeType?[h]:h,fa=[],r=0,x=q.length;r<x;r++)c(o,q[r],fa);o=fa}o=a&&
(m||!b)?n(o,l,a,h,j):o;q=e?f||(m?a:v||d)?[]:g:o;e&&e(o,q,h,j);if(d){p=n(q,s);d(p,[],h,j);for(h=p.length;h--;)if(i=p[h])q[s[h]]=!(o[s[h]]=i)}if(m){if(f||a){if(f){p=[];for(h=q.length;h--;)if(i=q[h])p.push(o[h]=i);f(null,q=[],p,j)}for(h=q.length;h--;)if((i=q[h])&&-1<(p=f?T.call(m,i):l[h]))m[p]=!(g[p]=i)}}else q=n(q===g?q.splice(v,q.length):q),f?f(null,g,q,j):ja.apply(g,q)})}function v(a){var b,e,c,d=a.length,f=t.relative[a[0].type];e=f||t.relative[" "];for(var m=f?1:0,g=i(function(a){return a===b},e,
!0),k=i(function(a){return-1<T.call(b,a)},e,!0),h=[function(a,e,c){return!f&&(c||e!==J)||((b=e).nodeType?g(a,e,c):k(a,e,c))}];m<d;m++)if(e=t.relative[a[m].type])h=[i(l(h),e)];else{e=t.filter[a[m].type].apply(null,a[m].matches);if(e[z]){for(c=++m;c<d&&!t.relative[a[c].type];c++);return s(1<m&&l(h),1<m&&a.slice(0,m-1).join("").replace(Q,"$1"),e,m<c&&v(a.slice(m,c)),c<d&&v(a=a.slice(c)),c<d&&a.join(""))}h.push(e)}return l(h)}function o(a,b){var e=0<b.length,d=0<a.length,f=function(m,g,h,j,p){var i,l,
s=[],o=0,v="0",q=m&&[],fa=null!=p,r=J,ra=m||d&&t.find.TAG("*",p&&g.parentNode||g),A=I+=null==r?1:Math.E;fa&&(J=g!==N&&g,x=f.el);for(;null!=(p=ra[v]);v++){if(d&&p){for(i=0;l=a[i];i++)if(l(p,g,h)){j.push(p);break}fa&&(I=A,x=++f.el)}e&&((p=!l&&p)&&o--,m&&q.push(p))}o+=v;if(e&&v!==o){for(i=0;l=b[i];i++)l(q,s,g,h);if(m){if(0<o)for(;v--;)!q[v]&&!s[v]&&(s[v]=H.call(j));s=n(s)}ja.apply(j,s);fa&&!m&&(0<s.length&&1<o+b.length)&&c.uniqueSort(j)}fa&&(I=A,J=r);return q};f.el=0;return e?S(f):f}function q(a,b,e,
c,d){var f,m,g,k,h=j(a);if(!c&&1===h.length){m=h[0]=h[0].slice(0);if(2<m.length&&"ID"===(g=m[0]).type&&9===b.nodeType&&!d&&t.relative[m[1].type]){b=t.find.ID(g.matches[0].replace(ha,""),b,d)[0];if(!b)return e;a=a.slice(m.shift().length)}for(f=V.POS.test(a)?-1:m.length-1;0<=f;f--){g=m[f];if(t.relative[k=g.type])break;if(k=t.find[k])if(c=k(g.matches[0].replace(ha,""),U.test(m[0].type)&&b.parentNode||b,d)){m.splice(f,1);a=c.length&&m.join("");if(!a)return ja.apply(e,O.call(c,0)),e;break}}}u(a,h)(c,b,
d,e,U.test(a));return e}function r(){}var x,A,t,w,y,C,u,D,E,J,B=!0,z=("sizcache"+Math.random()).replace(".",""),G=String,N=a.document,F=N.documentElement,I=0,M=0,H=[].pop,ja=[].push,O=[].slice,T=[].indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(this[b]===a)return b;return-1},S=function(a,b){a[z]=null==b||b;return a},W=function(){var a={},b=[];return S(function(e,c){b.push(e)>t.cacheLength&&delete a[b.shift()];return a[e+" "]=c},a)},K=W(),ia=W(),L=W(),W="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",R=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",Q=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ma=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,P=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,X=RegExp(R),Y=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/[\x20\t\r\n\f]*[+~]/,Z=/h\d/i,aa=/input|select|textarea|button/i,
ha=/\\(?!\\)/g,V={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+W),PSEUDO:RegExp("^"+R),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ea=function(a){var b=N.createElement("div");try{return a(b)}catch(e){return!1}finally{}},W=ea(function(a){a.appendChild(N.createComment(""));return!a.getElementsByTagName("*").length}),ca=ea(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),
da=ea(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),ba=ea(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),ga=ea(function(a){a.id=z+0;a.innerHTML="<a name='"+z+"'></a><div name='"+z+"'></div>";F.insertBefore(a,F.firstChild);var b=N.getElementsByName&&
N.getElementsByName(z).length===2+N.getElementsByName(z+0).length;A=!N.getElementById(z);F.removeChild(a);return b});try{O.call(F.childNodes,0)[0].nodeType}catch(ka){O=function(a){for(var b,e=[];b=this[a];a++)e.push(b);return e}}c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){return 0<c(b,null,null,[a]).length};w=c.getText=function(a){var b,e="",c=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=
a.nextSibling)e+=w(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[c];c++)e+=w(b);return e};y=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};C=c.contains=F.contains?function(a,b){var e=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!(!c||!(1===c.nodeType&&e.contains&&e.contains(c)))}:F.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;
return!1};c.attr=function(a,b){var e,c=y(a);c||(b=b.toLowerCase());return(e=t.attrHandle[b])?e(a):c||da?a.getAttribute(b):(e=a.getAttributeNode(b))?"boolean"===typeof a[b]?a[b]?b:null:e.specified?e.value:null:null};t=c.selectors={cacheLength:50,createPseudo:S,match:V,attrHandle:ca?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:A?function(a,b,e){if("undefined"!==typeof b.getElementById&&!e)return(a=b.getElementById(a))&&a.parentNode?
[a]:[]}:function(a,e,c){if("undefined"!==typeof e.getElementById&&!c)return(e=e.getElementById(a))?e.id===a||"undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id").value===a?[e]:b:[]},TAG:W?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var e=b.getElementsByTagName(a);if("*"===a){for(var c,d=[],f=0;c=e[f];f++)1===c.nodeType&&d.push(c);return d}return e},NAME:ga&&function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},
CLASS:ba&&function(a,b,e){if("undefined"!==typeof b.getElementsByClassName&&!e)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ha,"");a[3]=(a[4]||a[5]||"").replace(ha,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===
a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]);return a},PSEUDO:function(a){var b,e;if(V.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4]){if(X.test(b)&&(e=j(b,!0))&&(e=b.indexOf(")",b.length-e)-b.length))b=b.slice(0,e),a[0]=a[0].slice(0,e);a[2]=b}return a.slice(0,3)}},filter:{ID:A?function(a){a=a.replace(ha,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(ha,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&
b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(ha,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=K[z][a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&K(a,function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,e){return function(d){d=c.attr(d,a);if(null==d)return"!="===
b;if(!b)return!0;d+="";return"="===b?d===e:"!="===b?d!==e:"^="===b?e&&0===d.indexOf(e):"*="===b?e&&-1<d.indexOf(e):"$="===b?e&&d.substr(d.length-e.length)===e:"~="===b?-1<(" "+d+" ").indexOf(e):"|="===b?d===e||d.substr(0,e.length+1)===e+"-":!1}},CHILD:function(a,b,e,c){return"nth"===a?function(a){var b,d;b=a.parentNode;if(1===e&&0===c)return!0;if(b){d=0;for(b=b.firstChild;b&&!(1===b.nodeType&&(d++,a===b));b=b.nextSibling);}d-=c;return d===e||0===d%e&&0<=d/e}:function(b){var e=b;switch(a){case "only":case "first":for(;e=
e.previousSibling;)if(1===e.nodeType)return!1;if("first"===a)return!0;e=b;case "last":for(;e=e.nextSibling;)if(1===e.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var e,d=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return d[z]?d(b):1<d.length?(e=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?S(function(a,e){for(var c,f=d(a,b),m=f.length;m--;)c=T.call(a,f[m]),a[c]=!(e[c]=f[m])}):function(a){return d(a,0,e)}):d}},pseudos:{not:S(function(a){var b=[],e=
[],c=u(a.replace(Q,"$1"));return c[z]?S(function(a,b,e,d){for(var d=c(a,null,d,[]),f=a.length;f--;)if(e=d[f])a[f]=!(b[f]=e)}):function(a,d,f){b[0]=a;c(b,null,f,e);return!e.pop()}}),has:S(function(a){return function(b){return 0<c(a,b).length}}),contains:S(function(a){return function(b){return-1<(b.textContent||b.innerText||w(b)).indexOf(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&
!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){for(var b,a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return Z.test(a.nodeName)},text:function(a){var b,e;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(e=a.getAttribute("type"))||e.toLowerCase()===b)},radio:d("radio"),
checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:f("submit"),reset:f("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return aa.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:g(function(){return[0]}),last:g(function(a,
b){return[b-1]}),eq:g(function(a,b,e){return[0>e?e+b:e]}),even:g(function(a,b){for(var e=0;e<b;e+=2)a.push(e);return a}),odd:g(function(a,b){for(var e=1;e<b;e+=2)a.push(e);return a}),lt:g(function(a,b,e){for(b=0>e?e+b:e;0<=--b;)a.push(b);return a}),gt:g(function(a,b,e){for(e=0>e?e+b:e;++e<b;)a.push(e);return a})}};D=F.compareDocumentPosition?function(a,b){return a===b?(E=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,
b){if(a===b)return E=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var e,c,d=[],f=[];e=a.parentNode;c=b.parentNode;var m=e;if(e===c)return h(a,b);if(e){if(!c)return 1}else return-1;for(;m;)d.unshift(m),m=m.parentNode;for(m=c;m;)f.unshift(m),m=m.parentNode;e=d.length;c=f.length;for(m=0;m<e&&m<c;m++)if(d[m]!==f[m])return h(d[m],f[m]);return m===e?h(a,f[m],-1):h(d[m],b,1)};[0,0].sort(D);B=!E;c.uniqueSort=function(a){var b,e=[],c=1,d=0;E=B;a.sort(D);if(E){for(;b=a[c];c++)b===
a[c-1]&&(d=e.push(c));for(;d--;)a.splice(e[d],1)}return a};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};u=c.compile=function(a,b){var e,c=[],d=[],f=L[z][a+" "];if(!f){b||(b=j(a));for(e=b.length;e--;)f=v(b[e]),f[z]?c.push(f):d.push(f);f=L(a,o(d,c))}return f};N.querySelectorAll&&function(){var a,b=q,e=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],m=[":active"],g=F.matchesSelector||F.mozMatchesSelector||F.webkitMatchesSelector||F.oMatchesSelector||
F.msMatchesSelector;ea(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||f.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||f.push(":checked")});ea(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&f.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||f.push(":enabled",
":disabled")});f=RegExp(f.join("|"));q=function(a,c,d,m,g){if(!m&&!g&&!f.test(a)){var k,h,p=!0,i=z;h=c;k=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){k=j(a);(p=c.getAttribute("id"))?i=p.replace(e,"\\$&"):c.setAttribute("id",i);i="[id='"+i+"'] ";for(h=k.length;h--;)k[h]=i+k[h].join("");h=U.test(a)&&c.parentNode||c;k=k.join(",")}if(k)try{return ja.apply(d,O.call(h.querySelectorAll(k),0)),d}catch(l){}finally{p||c.removeAttribute("id")}}return b(a,c,d,m,g)};g&&(ea(function(b){a=
g.call(b,"div");try{g.call(b,"[test!='']:sizzle"),m.push("!=",R)}catch(e){}}),m=RegExp(m.join("|")),c.matchesSelector=function(b,e){e=e.replace(d,"='$1']");if(!y(b)&&!m.test(e)&&!f.test(e))try{var h=g.call(b,e);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return 0<c(e,null,null,[b]).length})}();t.pseudos.nth=t.pseudos.eq;t.filters=r.prototype=t.pseudos;t.setFilters=new r;c.attr=e.attr;e.find=c;e.expr=c.selectors;e.expr[":"]=e.expr.pseudos;e.unique=c.uniqueSort;e.text=c.getText;
e.isXMLDoc=c.isXML;e.contains=c.contains})(a);var Eb=/Until$/,Fb=/^(?:parents|prev(?:Until|All))/,ib=/^.[^:#\[\.,]*$/,Sa=e.expr.match.needsContext,Gb={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({find:function(a){var b,c,d,f,g,h,j=this;if("string"!==typeof a)return e(a).filter(function(){b=0;for(c=j.length;b<c;b++)if(e.contains(j[b],this))return!0});h=this.pushStack("","find",a);b=0;for(c=this.length;b<c;b++)if(d=h.length,e.find(a,this[b],h),0<b)for(f=d;f<h.length;f++)for(g=0;g<d;g++)if(h[g]===
h[f]){h.splice(f--,1);break}return h},has:function(a){var b,c=e(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(e.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?Sa.test(a)?0<=e(a,this.context).index(this[0]):0<e.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,d=0,f=this.length,g=[],h=Sa.test(a)||
"string"!==typeof a?e(a,b||this.context):0;d<f;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(h?-1<h.index(c):e.find.matchesSelector(c,a)){g.push(c);break}c=c.parentNode}g=1<g.length?e.unique(g):g;return this.pushStack(g,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"===typeof a?e.inArray(this[0],e(a)):e.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?e(a,b):e.makeArray(a&&a.nodeType?[a]:a),d=e.merge(this.get(),
c);return this.pushStack(i(c[0])||i(d[0])?d:e.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});e.fn.andSelf=e.fn.addBack;e.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return e.dir(a,"parentNode")},parentsUntil:function(a,b,c){return e.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return e.dir(a,"nextSibling")},
prevAll:function(a){return e.dir(a,"previousSibling")},nextUntil:function(a,b,c){return e.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return e.dir(a,"previousSibling",c)},siblings:function(a){return e.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return e.sibling(a.firstChild)},contents:function(a){return e.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:e.merge([],a.childNodes)}},function(a,b){e.fn[a]=function(c,d){var f=e.map(this,b,c);Eb.test(a)||(d=c);d&&
"string"===typeof d&&(f=e.filter(d,f));f=1<this.length&&!Gb[a]?e.unique(f):f;1<this.length&&Fb.test(a)&&(f=f.reverse());return this.pushStack(f,a,T.call(arguments).join(","))}});e.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?e.find.matchesSelector(b[0],a)?[b[0]]:[]:e.find.matches(a,b)},dir:function(a,b,c){for(var f=[],a=a[b];a&&9!==a.nodeType&&(c===d||1!==a.nodeType||!e(a).is(c));)1===a.nodeType&&f.push(a),a=a[b];return f},sibling:function(a,b){for(var e=[];a;a=a.nextSibling)1===
a.nodeType&&a!==b&&e.push(a);return e}});var Ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Hb=/ jQuery\d+="(?:null|\d+)"/g,ya=/^\s+/,Ta=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ua=/<([\w:]+)/,Ib=/<tbody/i,Jb=/<|&#?\w+;/,Kb=/<(?:script|style|link)/i,Lb=/<(?:script|object|embed|option|style)/i,za=RegExp("<(?:"+Ea+")[\\s/>]","i"),Fa=/^(?:checkbox|radio)$/,
Va=/checked\s*(?:[^=]|=\s*.checked.)/i,Mb=/\/(java|ecma)script/i,Nb=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,P={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Wa=n(u),Aa=Wa.appendChild(u.createElement("div"));P.optgroup=
P.option;P.tbody=P.tfoot=P.colgroup=P.caption=P.thead;P.th=P.td;e.support.htmlSerialize||(P._default=[1,"X<div>","</div>"]);e.fn.extend({text:function(a){return e.access(this,function(a){return a===d?e.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(e.isFunction(a))return this.each(function(b){e(this).wrapAll(a.call(this,b))});if(this[0]){var b=e(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);
b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return e.isFunction(a)?this.each(function(b){e(this).wrapInner(a.call(this,b))}):this.each(function(){var b=e(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=e.isFunction(a);return this.each(function(c){e(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){e.nodeName(this,"body")||
e(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=e.clean(arguments);return this.pushStack(e.merge(a,
this),"before",this.selector)}},after:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=e.clean(arguments);return this.pushStack(e.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)if(!a||e.filter(a,[c]).length)!b&&1===c.nodeType&&(e.cleanData(c.getElementsByTagName("*")),e.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,
b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&e.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return e.clone(this,a,b)})},html:function(a){return e.access(this,function(a){var b=this[0]||{},c=0,f=this.length;if(a===d)return 1===b.nodeType?b.innerHTML.replace(Hb,""):d;if("string"===typeof a&&!Kb.test(a)&&(e.support.htmlSerialize||!za.test(a))&&(e.support.leadingWhitespace||!ya.test(a))&&
!P[(Ua.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ta,"<$1></$2>");try{for(;c<f;c++)b=this[c]||{},1===b.nodeType&&(e.cleanData(b.getElementsByTagName("*")),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(!i(this[0])){if(e.isFunction(a))return this.each(function(b){var c=e(this),d=c.html();c.replaceWith(a.call(this,b,d))});"string"!==typeof a&&(a=e(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;e(this).remove();
b?e(b).before(a):e(c).append(a)})}return this.length?this.pushStack(e(e.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){var a=[].concat.apply([],a),f,g,h,j=0,i=a[0],l=[],n=this.length;if(!e.support.checkClone&&1<n&&"string"===typeof i&&Va.test(i))return this.each(function(){e(this).domManip(a,b,c)});if(e.isFunction(i))return this.each(function(f){var g=e(this);a[0]=i.call(this,f,b?g.html():d);g.domManip(a,b,c)});if(this[0]){f=e.buildFragment(a,
this,l);h=f.fragment;g=h.firstChild;1===h.childNodes.length&&(h=g);if(g){b=b&&e.nodeName(g,"tr");for(f=f.cacheable||n-1;j<n;j++)c.call(b&&e.nodeName(this[j],"table")?this[j].getElementsByTagName("tbody")[0]||this[j].appendChild(this[j].ownerDocument.createElement("tbody")):this[j],j===f?h:e.clone(h,!0,!0))}h=g=null;l.length&&e.each(l,function(a,b){b.src?e.ajax?e.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):e.error("no ajax"):e.globalEval((b.text||b.textContent||b.innerHTML||
"").replace(Nb,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});e.buildFragment=function(a,b,c){var f,g,h,j=a[0],b=b||u,b=!b.nodeType&&b[0]||b,b=b.ownerDocument||b;if(1===a.length&&"string"===typeof j&&512>j.length&&b===u&&"<"===j.charAt(0)&&!Lb.test(j)&&(e.support.checkClone||!Va.test(j))&&(e.support.html5Clone||!za.test(j)))g=!0,f=e.fragments[j],h=f!==d;f||(f=b.createDocumentFragment(),e.clean(a,b,f,c),g&&(e.fragments[j]=h&&f));return{fragment:f,cacheable:g}};e.fragments={};e.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){e.fn[a]=function(c){var d,f=0,g=[],c=e(c),h=c.length;d=1===this.length&&this[0].parentNode;if((null==d||d&&11===d.nodeType&&1===d.childNodes.length)&&1===h)return c[b](this[0]),this;for(;f<h;f++)d=(0<f?this.clone(!0):this).get(),e(c[f])[b](d),g=g.concat(d);return this.pushStack(g,a,c.selector)}});e.extend({clone:function(a,b,c){var d,f,g,h;e.support.html5Clone||e.isXMLDoc(a)||!za.test("<"+a.nodeName+
">")?h=a.cloneNode(!0):(Aa.innerHTML=a.outerHTML,Aa.removeChild(h=Aa.firstChild));if((!e.support.noCloneEvent||!e.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!e.isXMLDoc(a)){o(a,h);d=q(a);f=q(h);for(g=0;d[g];++g)f[g]&&o(d[g],f[g])}if(b&&(r(a,h),c)){d=q(a);f=q(h);for(g=0;d[g];++g)r(d[g],f[g])}return h},clean:function(a,b,c,d){var f,g,h,j,i,l,s=b===u&&Wa,o=[];if(!b||"undefined"===typeof b.createDocumentFragment)b=u;for(f=0;null!=(h=a[f]);f++)if("number"===typeof h&&(h+=""),h){if("string"===
typeof h)if(Jb.test(h)){s=s||n(b);l=b.createElement("div");s.appendChild(l);h=h.replace(Ta,"<$1></$2>");g=(Ua.exec(h)||["",""])[1].toLowerCase();j=P[g]||P._default;i=j[0];for(l.innerHTML=j[1]+h+j[2];i--;)l=l.lastChild;if(!e.support.tbody){i=Ib.test(h);j="table"===g&&!i?l.firstChild&&l.firstChild.childNodes:"<table>"===j[1]&&!i?l.childNodes:[];for(g=j.length-1;0<=g;--g)e.nodeName(j[g],"tbody")&&!j[g].childNodes.length&&j[g].parentNode.removeChild(j[g])}!e.support.leadingWhitespace&&ya.test(h)&&l.insertBefore(b.createTextNode(ya.exec(h)[0]),
l.firstChild);h=l.childNodes;l.parentNode.removeChild(l)}else h=b.createTextNode(h);h.nodeType?o.push(h):e.merge(o,h)}l&&(h=l=s=null);if(!e.support.appendChecked)for(f=0;null!=(h=o[f]);f++)e.nodeName(h,"input")?v(h):"undefined"!==typeof h.getElementsByTagName&&e.grep(h.getElementsByTagName("input"),v);if(c){a=function(a){if(!a.type||Mb.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(f=0;null!=(h=o[f]);f++)if(!e.nodeName(h,"script")||!a(h))c.appendChild(h),
"undefined"!==typeof h.getElementsByTagName&&(h=e.grep(e.merge([],h.getElementsByTagName("script")),a),o.splice.apply(o,[f+1,0].concat(h)),f+=h.length)}return o},cleanData:function(a,b){for(var c,d,f,g,h=0,j=e.expando,i=e.cache,l=e.support.deleteExpando,n=e.event.special;null!=(f=a[h]);h++)if(b||e.acceptData(f))if(c=(d=f[j])&&i[d]){if(c.events)for(g in c.events)n[g]?e.event.remove(f,g):e.removeEvent(f,g,c.handle);i[d]&&(delete i[d],l?delete f[j]:f.removeAttribute?f.removeAttribute(j):f[j]=null,e.deletedIds.push(d))}}});
(function(){var a,b;e.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=e.uaMatch(N.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);e.browser=b;e.sub=function(){function a(b,e){return new a.fn.init(b,
e)}e.extend(true,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,d){d&&d instanceof e&&!(d instanceof a)&&(d=a(d));return e.fn.init.call(this,c,d,b)};a.fn.init.prototype=a.fn;var b=a(u);return a}})();var L,V,ca,Ba=/alpha\([^)]*\)/i,Ob=/opacity=([^)]*)/,Pb=/^(top|right|bottom|left)$/,Qb=/^(none|table(?!-c[ea]).+)/,Xa=/^margin/,jb=RegExp("^("+na+")(.*)$","i"),ka=RegExp("^("+na+")(?!px)[a-z%]+$","i"),Rb=RegExp("^([-+])=("+na+")","i"),ta={BODY:"block"},
Sb={position:"absolute",visibility:"hidden",display:"block"},Ya={letterSpacing:0,fontWeight:400},U=["Top","Right","Bottom","Left"],Ga=["Webkit","O","Moz","ms"],Tb=e.fn.toggle;e.fn.extend({css:function(a,b){return e.access(this,function(a,b,c){return c!==d?e.style(a,b,c):e.css(a,b)},a,b,1<arguments.length)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(a,b){var c="boolean"===typeof a;return e.isFunction(a)&&e.isFunction(b)?Tb.apply(this,arguments):this.each(function(){(c?
a:s(this))?e(this).show():e(this).hide()})}});e.extend({cssHooks:{opacity:{get:function(a,b){if(b){var e=L(a,"opacity");return""===e?"1":e}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":e.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,f){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var g,h,j,i=e.camelCase(b),l=a.style,b=e.cssProps[i]||(e.cssProps[i]=x(l,i));j=e.cssHooks[b]||e.cssHooks[i];if(c!==d){h=
typeof c;if("string"===h&&(g=Rb.exec(c)))c=(g[1]+1)*g[2]+parseFloat(e.css(a,b)),h="number";if(!(null==c||"number"===h&&isNaN(c)))if("number"===h&&!e.cssNumber[i]&&(c+="px"),!j||!("set"in j)||(c=j.set(a,c,f))!==d)try{l[b]=c}catch(n){}}else return j&&"get"in j&&(g=j.get(a,!1,f))!==d?g:l[b]}},css:function(a,b,c,f){var g,h;h=e.camelCase(b);b=e.cssProps[h]||(e.cssProps[h]=x(a.style,h));(h=e.cssHooks[b]||e.cssHooks[h])&&"get"in h&&(g=h.get(a,!0,f));g===d&&(g=L(a,b));"normal"===g&&b in Ya&&(g=Ya[b]);return c||
f!==d?(a=parseFloat(g),c||e.isNumeric(a)?a||0:g):g},swap:function(a,b,e){var c,d={};for(c in b)d[c]=a.style[c],a.style[c]=b[c];e=e.call(a);for(c in b)a.style[c]=d[c];return e}});a.getComputedStyle?L=function(b,c){var d,f,g,h,j=a.getComputedStyle(b,null),i=b.style;j&&(d=j.getPropertyValue(c)||j[c],""===d&&!e.contains(b.ownerDocument,b)&&(d=e.style(b,c)),ka.test(d)&&Xa.test(c)&&(f=i.width,g=i.minWidth,h=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=j.width,i.width=f,i.minWidth=g,i.maxWidth=h));return d}:
u.documentElement.currentStyle&&(L=function(a,b){var e,c,d=a.currentStyle&&a.currentStyle[b],f=a.style;null==d&&f&&f[b]&&(d=f[b]);if(ka.test(d)&&!Pb.test(b)){e=f.left;if(c=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===b?"1em":d;d=f.pixelLeft+"px";f.left=e;c&&(a.runtimeStyle.left=c)}return""===d?"auto":d});e.each(["height","width"],function(a,b){e.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&Qb.test(L(a,"display"))?e.swap(a,Sb,function(){return y(a,
b,d)}):y(a,b,d)},set:function(a,c,d){return t(a,c,d?w(a,b,d,e.support.boxSizing&&"border-box"===e.css(a,"boxSizing")):0)}}});e.support.opacity||(e.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,f=e.isNumeric(b)?"alpha(opacity="+100*b+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(1<=b&&(""===e.trim(g.replace(Ba,""))&&c.removeAttribute)&&(c.removeAttribute("filter"),
d&&!d.filter))return;c.filter=Ba.test(g)?g.replace(Ba,f):g+" "+f}});e(function(){e.support.reliableMarginRight||(e.cssHooks.marginRight={get:function(a,b){return e.swap(a,{display:"inline-block"},function(){if(b)return L(a,"marginRight")})}});!e.support.pixelPosition&&e.fn.position&&e.each(["top","left"],function(a,b){e.cssHooks[b]={get:function(a,c){if(c){var d=L(a,b);return ka.test(d)?e(a).position()[b]+"px":d}}}})});e.expr&&e.expr.filters&&(e.expr.filters.hidden=function(a){return 0===a.offsetWidth&&
0===a.offsetHeight||!e.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||L(a,"display"))},e.expr.filters.visible=function(a){return!e.expr.filters.hidden(a)});e.each({margin:"",padding:"",border:"Width"},function(a,b){e.cssHooks[a+b]={expand:function(c){for(var e="string"===typeof c?c.split(" "):[c],d={},c=0;4>c;c++)d[a+U[c]+b]=e[c]||e[c-2]||e[0];return d}};Xa.test(a)||(e.cssHooks[a+b].set=t)});var Ub=/%20/g,kb=/\[\]$/,Za=/\r?\n/g,Vb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Wb=/^(?:select|textarea)/i;e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?e.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Wb.test(this.nodeName)||Vb.test(this.type))}).map(function(a,b){var c=e(this).val();return null==c?null:e.isArray(c)?e.map(c,function(a){return{name:b.name,value:a.replace(Za,"\r\n")}}):{name:b.name,value:c.replace(Za,"\r\n")}}).get()}});
e.param=function(a,b){var c,f=[],g=function(a,b){b=e.isFunction(b)?b():null==b?"":b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===d&&(b=e.ajaxSettings&&e.ajaxSettings.traditional);if(e.isArray(a)||a.jquery&&!e.isPlainObject(a))e.each(a,function(){g(this.name,this.value)});else for(c in a)D(c,a[c],b,g);return f.join("&").replace(Ub,"+")};var Z,aa,Xb=/#.*$/,Yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Zb=/^(?:GET|HEAD)$/,$b=/^\/\//,$a=/\?/,ac=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
bc=/([?&])_=[^&]*/,ab=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,bb=e.fn.load,ua={},cb={},db=["*/"]+["*"];try{aa=F.href}catch(ic){aa=u.createElement("a"),aa.href="",aa=aa.href}Z=ab.exec(aa.toLowerCase())||[];e.fn.load=function(a,b,c){if("string"!==typeof a&&bb)return bb.apply(this,arguments);if(!this.length)return this;var f,g,h,j=this,i=a.indexOf(" ");0<=i&&(f=a.slice(i,a.length),a=a.slice(0,i));e.isFunction(b)?(c=b,b=d):b&&"object"===typeof b&&(g="POST");e.ajax({url:a,type:g,dataType:"html",
data:b,complete:function(a,b){c&&j.each(c,h||[a.responseText,b,a])}}).done(function(a){h=arguments;j.html(f?e("<div>").append(a.replace(ac,"")).find(f):a)});return this};e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){e.fn[b]=function(a){return this.on(b,a)}});e.each(["get","post"],function(a,b){e[b]=function(a,c,f,g){e.isFunction(c)&&(g=g||f,f=c,c=d);return e.ajax({type:b,url:a,data:c,success:f,dataType:g})}});e.extend({getScript:function(a,b){return e.get(a,
d,b,"script")},getJSON:function(a,b,c){return e.get(a,b,c,"json")},ajaxSetup:function(a,b){b?M(a,e.ajaxSettings):(b=a,a=e.ajaxSettings);M(a,b);return a},ajaxSettings:{url:aa,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Z[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":db},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:E(ua),ajaxTransport:E(cb),ajax:function(a,b){function c(a,b,h,k){var m,l,s,p,A=b;if(2!==y){y=2;i&&clearTimeout(i);j=d;g=k||"";u.readyState=0<a?4:0;if(h){p=o;var k=u,w,C,D,sa,E=p.contents,z=p.dataTypes,J=p.responseFields;for(C in J)C in h&&(k[J[C]]=h[C]);for(;"*"===z[0];)z.shift(),w===
d&&(w=p.mimeType||k.getResponseHeader("content-type"));if(w)for(C in E)if(E[C]&&E[C].test(w)){z.unshift(C);break}if(z[0]in h)D=z[0];else{for(C in h){if(!z[0]||p.converters[C+" "+z[0]]){D=C;break}sa||(sa=C)}D=D||sa}D?(D!==z[0]&&z.unshift(D),p=h[D]):p=void 0}if(200<=a&&300>a||304===a)if(o.ifModified&&((h=u.getResponseHeader("Last-Modified"))&&(e.lastModified[f]=h),(h=u.getResponseHeader("Etag"))&&(e.etag[f]=h)),304===a)A="notmodified",m=!0;else{a:{l=o;s=p;var F,N,A=l.dataTypes.slice();w=A[0];C={};D=
0;l.dataFilter&&(s=l.dataFilter(s,l.dataType));if(A[1])for(F in l.converters)C[F.toLowerCase()]=l.converters[F];for(;h=A[++D];)if("*"!==h){if("*"!==w&&w!==h){F=C[w+" "+h]||C["* "+h];if(!F)for(N in C)if(m=N.split(" "),m[1]===h&&(F=C[w+" "+m[0]]||C["* "+m[0]])){!0===F?F=C[N]:!0!==C[N]&&(h=m[0],A.splice(D--,0,h));break}if(!0!==F)if(F&&l["throws"])s=F(s);else try{s=F(s)}catch(B){m={state:"parsererror",error:F?B:"No conversion from "+w+" to "+h};break a}}w=h}m={state:"success",data:s}}A=m.state;l=m.data;
s=m.error;m=!s}else if(s=A,!A||a)A="error",0>a&&(a=0);u.status=a;u.statusText=(b||A)+"";m?r.resolveWith(v,[l,A,u]):r.rejectWith(v,[u,A,s]);u.statusCode(t);t=d;n&&q.trigger("ajax"+(m?"Success":"Error"),[u,o,m?l:s]);x.fireWith(v,[u,A]);n&&(q.trigger("ajaxComplete",[u,o]),--e.active||e.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=d);var b=b||{},f,g,h,j,i,l,n,s,o=e.ajaxSetup({},b),v=o.context||o,q=v!==o&&(v.nodeType||v instanceof e)?e(v):e.event,r=e.Deferred(),x=e.Callbacks("once memory"),
t=o.statusCode||{},A={},w={},y=0,C="canceled",u={readyState:0,setRequestHeader:function(a,b){if(!y){var c=a.toLowerCase(),a=w[c]=w[c]||a;A[a]=b}return this},getAllResponseHeaders:function(){return y===2?g:null},getResponseHeader:function(a){var b;if(y===2){if(!h)for(h={};b=Yb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return b===d?null:b},overrideMimeType:function(a){if(!y)o.mimeType=a;return this},abort:function(a){a=a||C;j&&j.abort(a);c(0,a);return this}};r.promise(u);u.success=u.done;
u.error=u.fail;u.complete=x.add;u.statusCode=function(a){if(a){var b;if(y<2)for(b in a)t[b]=[t[b],a[b]];else{b=a[u.status];u.always(b)}}return this};o.url=((a||o.url)+"").replace(Xb,"").replace($b,Z[1]+"//");o.dataTypes=e.trim(o.dataType||"*").toLowerCase().split(Y);null==o.crossDomain&&(l=ab.exec(o.url.toLowerCase()),o.crossDomain=!(!l||!(l[1]!==Z[1]||l[2]!==Z[2]||(l[3]||("http:"===l[1]?80:443))!=(Z[3]||("http:"===Z[1]?80:443)))));o.data&&(o.processData&&"string"!==typeof o.data)&&(o.data=e.param(o.data,
o.traditional));I(ua,o,b,u);if(2===y)return u;n=o.global;o.type=o.type.toUpperCase();o.hasContent=!Zb.test(o.type);n&&0===e.active++&&e.event.trigger("ajaxStart");if(!o.hasContent&&(o.data&&(o.url+=($a.test(o.url)?"&":"?")+o.data,delete o.data),f=o.url,!1===o.cache)){l=e.now();var D=o.url.replace(bc,"$1_="+l);o.url=D+(D===o.url?($a.test(o.url)?"&":"?")+"_="+l:"")}(o.data&&o.hasContent&&!1!==o.contentType||b.contentType)&&u.setRequestHeader("Content-Type",o.contentType);o.ifModified&&(f=f||o.url,e.lastModified[f]&&
u.setRequestHeader("If-Modified-Since",e.lastModified[f]),e.etag[f]&&u.setRequestHeader("If-None-Match",e.etag[f]));u.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+db+"; q=0.01":""):o.accepts["*"]);for(s in o.headers)u.setRequestHeader(s,o.headers[s]);if(o.beforeSend&&(!1===o.beforeSend.call(v,u,o)||2===y))return u.abort();C="abort";for(s in{success:1,error:1,complete:1})u[s](o[s]);if(j=I(cb,o,b,u)){u.readyState=1;n&&q.trigger("ajaxSend",
[u,o]);o.async&&0<o.timeout&&(i=setTimeout(function(){u.abort("timeout")},o.timeout));try{y=1,j.send(A,c)}catch(E){if(2>y)c(-1,E);else throw E;}}else c(-1,"No Transport");return u},active:0,lastModified:{},etag:{}});var eb=[],cc=/\?/,pa=/(=)\?(?=&|$)|\?\?/,dc=e.now();e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=eb.pop()||e.expando+"_"+dc++;this[a]=!0;return a}});e.ajaxPrefilter("json jsonp",function(b,c,f){var g,h,j,i=b.data,l=b.url,o=!1!==b.jsonp,n=o&&pa.test(l),s=o&&!n&&"string"===
typeof i&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&pa.test(i);if("jsonp"===b.dataTypes[0]||n||s)return g=b.jsonpCallback=e.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],n?b.url=l.replace(pa,"$1"+g):s?b.data=i.replace(pa,"$1"+g):o&&(b.url+=(cc.test(l)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){j||e.error(g+" was not called");return j[0]},b.dataTypes[0]="json",a[g]=function(){j=arguments},f.always(function(){a[g]=h;if(b[g]){b.jsonpCallback=
c.jsonpCallback;eb.push(g)}j&&e.isFunction(h)&&h(j[0]);j=h=d}),"script"});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){e.globalEval(a);return a}}});e.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});e.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=u.head||u.getElementsByTagName("head")[0]||
u.documentElement;return{send:function(e,f){b=u.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,e){if(e||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;c&&b.parentNode&&c.removeChild(b);b=d;e||f(200,"success")}};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var ba,Ca=a.ActiveXObject?function(){for(var a in ba)ba[a](0,1)}:!1,ec=0;e.ajaxSettings.xhr=
a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&J()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:J;(function(a){e.extend(e.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(e.ajaxSettings.xhr());e.support.ajax&&e.ajaxTransport(function(b){if(!b.crossDomain||e.support.cors){var c;return{send:function(f,g){var h,j,i=b.xhr();b.username?i.open(b.type,b.url,b.async,b.username,b.password):i.open(b.type,b.url,b.async);if(b.xhrFields)for(j in b.xhrFields)i[j]=
b.xhrFields[j];b.mimeType&&i.overrideMimeType&&i.overrideMimeType(b.mimeType);!b.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(j in f)i.setRequestHeader(j,f[j])}catch(l){}i.send(b.hasContent&&b.data||null);c=function(a,f){var j,k,l,o,n;try{if(c&&(f||4===i.readyState))if(c=d,h&&(i.onreadystatechange=e.noop,Ca&&delete ba[h]),f)4!==i.readyState&&i.abort();else{j=i.status;l=i.getAllResponseHeaders();o={};if((n=i.responseXML)&&n.documentElement)o.xml=n;try{o.text=
i.responseText}catch(s){}try{k=i.statusText}catch(v){k=""}!j&&b.isLocal&&!b.crossDomain?j=o.text?200:404:1223===j&&(j=204)}}catch(q){f||g(-1,q)}o&&g(j,k,o,l)};b.async?4===i.readyState?setTimeout(c,0):(h=++ec,Ca&&(ba||(ba={},e(a).unload(Ca)),ba[h]=c),i.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}});var da,qa,fc=/^(?:toggle|show|hide)$/,gc=RegExp("^(?:([-+])=|)("+na+")([a-z%]*)$","i"),hc=/queueHooks$/,la=[function(a,b,c){var d,f,g,h,j,i,l=this,o=a.style,n={},v=[],q=a.nodeType&&s(a);c.queue||
(j=e._queueHooks(a,"fx"),null==j.unqueued&&(j.unqueued=0,i=j.empty.fire,j.empty.fire=function(){j.unqueued||i()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--;e.queue(a,"fx").length||j.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[o.overflow,o.overflowX,o.overflowY],"inline"===e.css(a,"display")&&"none"===e.css(a,"float")&&(!e.support.inlineBlockNeedsLayout||"inline"===C(a.nodeName)?o.display="inline-block":o.zoom=1);c.overflow&&(o.overflow="hidden",
e.support.shrinkWrapBlocks||l.done(function(){o.overflow=c.overflow[0];o.overflowX=c.overflow[1];o.overflowY=c.overflow[2]}));for(d in b)g=b[d],fc.exec(g)&&(delete b[d],f=f||"toggle"===g,g!==(q?"hide":"show")&&v.push(d));if(b=v.length){g=e._data(a,"fxshow")||e._data(a,"fxshow",{});"hidden"in g&&(q=g.hidden);f&&(g.hidden=!q);q?e(a).show():l.done(function(){e(a).hide()});l.done(function(){var b;e.removeData(a,"fxshow",true);for(b in n)e.style(a,b,n[b])});for(d=0;d<b;d++)f=v[d],h=l.createTween(f,q?g[f]:
0),n[f]=g[f]||e.style(a,f),f in g||(g[f]=h.start,q&&(h.end=h.start,h.start="width"===f||"height"===f?1:0))}}],ga={"*":[function(a,b){var c,d,f=this.createTween(a,b),g=gc.exec(b),h=f.cur(),j=+h||0,i=1,l=20;if(g){c=+g[2];d=g[3]||(e.cssNumber[a]?"":"px");if("px"!==d&&j){j=e.css(f.elem,a,!0)||c||1;do i=i||".5",j/=i,e.style(f.elem,a,j+d);while(i!==(i=f.cur()/h)&&1!==i&&--l)}f.unit=d;f.start=j;f.end=g[1]?j+(g[1]+1)*c:c}return f}]};e.Animation=e.extend(G,{tweener:function(a,b){e.isFunction(a)?(b=a,a=["*"]):
a=a.split(" ");for(var c,d=0,f=a.length;d<f;d++)c=a[d],ga[c]=ga[c]||[],ga[c].unshift(b)},prefilter:function(a,b){b?la.unshift(a):la.push(a)}});e.Tween=H;H.prototype={constructor:H,init:function(a,b,c,d,f,g){this.elem=a;this.prop=c;this.easing=f||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=g||(e.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];
this.pos=this.options.duration?b=e.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):H.propHooks._default.set(this);return this}};H.prototype.init.prototype=H.prototype;H.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=e.css(a.elem,a.prop,!1,"");return!a||"auto"===
a?0:a},set:function(a){if(e.fx.step[a.prop])e.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[e.cssProps[a.prop]]||e.cssHooks[a.prop])?e.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};e.each(["toggle","show","hide"],function(a,b){var c=e.fn[b];e.fn[b]=function(d,f,g){return null==d||"boolean"===typeof d||!a&&e.isFunction(d)&&e.isFunction(f)?c.apply(this,arguments):
this.animate(K(b,!0),d,f,g)}});e.fn.extend({fadeTo:function(a,b,c,e){return this.filter(s).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,d){var f=e.isEmptyObject(a),g=e.speed(b,c,d),b=function(){var b=G(this,e.extend({},a),g);f&&b.stop(!0)};return f||!1===g.queue?this.each(b):this.queue(g.queue,b)},stop:function(a,b,c){var f=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=d);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=
true,d=a!=null&&a+"queueHooks",g=e.timers,h=e._data(this);if(d)h[d]&&h[d].stop&&f(h[d]);else for(d in h)h[d]&&h[d].stop&&hc.test(d)&&f(h[d]);for(d=g.length;d--;)if(g[d].elem===this&&(a==null||g[d].queue===a)){g[d].anim.stop(c);b=false;g.splice(d,1)}(b||!c)&&e.dequeue(this,a)})}});e.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){e.fn[a]=function(a,c,e){return this.animate(b,a,c,e)}});
e.speed=function(a,b,c){var d=a&&"object"===typeof a?e.extend({},a):{complete:c||!c&&b||e.isFunction(a)&&a,duration:a,easing:c&&b||b&&!e.isFunction(b)&&b};d.duration=e.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in e.fx.speeds?e.fx.speeds[d.duration]:e.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){e.isFunction(d.old)&&d.old.call(this);d.queue&&e.dequeue(this,d.queue)};return d};e.easing={linear:function(a){return a},swing:function(a){return 0.5-
Math.cos(a*Math.PI)/2}};e.timers=[];e.fx=H.prototype.init;e.fx.tick=function(){var a,b=e.timers,c=0;for(da=e.now();c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||e.fx.stop();da=d};e.fx.timer=function(a){a()&&e.timers.push(a)&&!qa&&(qa=setInterval(e.fx.tick,e.fx.interval))};e.fx.interval=13;e.fx.stop=function(){clearInterval(qa);qa=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fx.step={};e.expr&&e.expr.filters&&(e.expr.filters.animated=function(a){return e.grep(e.timers,function(b){return a===
b.elem}).length});var fb=/^(?:body|html)$/i;e.fn.offset=function(a){if(arguments.length)return a===d?this:this.each(function(b){e.offset.setOffset(this,a,b)});var b,c,f,g,h,j={top:0,left:0};if(f=(g=this[0])&&g.ownerDocument){if((c=f.body)===g)return e.offset.bodyOffset(g);b=f.documentElement;if(!e.contains(b,g))return j;"undefined"!==typeof g.getBoundingClientRect&&(j=g.getBoundingClientRect());f=R(f);g=b.clientTop||c.clientTop||0;c=b.clientLeft||c.clientLeft||0;h=f.pageYOffset||b.scrollTop;b=f.pageXOffset||
b.scrollLeft;return{top:j.top+h-g,left:j.left+b-c}}};e.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;e.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(e.css(a,"marginTop"))||0,c+=parseFloat(e.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=e.css(a,"position");"static"===d&&(a.style.position="relative");var f=e(a),g=f.offset(),h=e.css(a,"top"),j=e.css(a,"left"),i={},l={};("absolute"===d||"fixed"===d)&&-1<e.inArray("auto",[h,j])?(l=f.position(),
d=l.top,j=l.left):(d=parseFloat(h)||0,j=parseFloat(j)||0);e.isFunction(b)&&(b=b.call(a,c,g));null!=b.top&&(i.top=b.top-g.top+d);null!=b.left&&(i.left=b.left-g.left+j);"using"in b?b.using.call(a,i):f.css(i)}};e.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=fb.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(e.css(a,"marginTop"))||0;c.left-=parseFloat(e.css(a,"marginLeft"))||0;d.top+=parseFloat(e.css(b[0],"borderTopWidth"))||0;d.left+=
parseFloat(e.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||u.body;a&&!fb.test(a.nodeName)&&"static"===e.css(a,"position");)a=a.offsetParent;return a||u.body})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);e.fn[a]=function(f){return e.access(this,function(a,f,g){var h=R(a);if(g===d)return h?b in h?h[b]:h.document.documentElement[f]:a[f];h?h.scrollTo(!c?
g:e(h).scrollLeft(),c?g:e(h).scrollTop()):a[f]=g},a,f,arguments.length,null)}});e.each({Height:"height",Width:"width"},function(a,b){e.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,f){e.fn[f]=function(f,g){var h=arguments.length&&(c||"boolean"!==typeof f),j=c||(!0===f||!0===g?"margin":"border");return e.access(this,function(b,c,f){return e.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],
c["offset"+a],c["client"+a])):f===d?e.css(b,c,f,j):e.style(b,c,f,j)},b,h?f:d,h,null)}})});a.jQuery=a.$=e;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return e})})(window);steal.executed("jquery");steal(function(){var a=window.can||{};if("undefined"===typeof GLOBALCAN||!1!==GLOBALCAN)window.can=a;a.isDeferred=function(a){var c=this.isFunction;return a&&c(a.then)&&c(a.pipe)};return a});steal.executed("can/util/can.js");
steal("can/util/can.js",function(a){a.each=function(a,c,b){var f=0,h;if(a)if("number"===typeof a.length&&a.pop){a.attr&&a.attr("length");for(h=a.length;f<h&&!1!==c.call(b||a[f],a[f],f,a);f++);}else if(a.hasOwnProperty)for(h in a)if(a.hasOwnProperty(h)&&!1===c.call(b||a[h],a[h],h,a))break;return a};return a});steal.executed("can/util/array/each.js");
steal("can/util/string",function(a){var d=0;a.Construct=function(){if(arguments.length)return a.Construct.extend.apply(a.Construct,arguments)};a.extend(a.Construct,{newInstance:function(){var a=this.instance(),b;a.setup&&(b=a.setup.apply(a,arguments));a.init&&a.init.apply(a,b||arguments);return a},_inherit:function(c,b,d){a.extend(d||c,c||{})},_overwrite:function(a,b,d,h){a[d]=h},setup:function(c){this.defaults=a.extend(!0,{},c.defaults,this.defaults)},instance:function(){d=1;var a=new this;d=0;return a},
extend:function(c,b,f){function h(){if(!d)return this.constructor!==h&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.constructor.newInstance.apply(this.constructor,arguments)}"string"!=typeof c&&(f=b,b=c,c=null);f||(f=b,b=null);var f=f||{},g=this.prototype,i,l,j,n;n=this.instance();a.Construct._inherit(f,g,n);for(i in this)this.hasOwnProperty(i)&&(h[i]=this[i]);a.Construct._inherit(b,this,h);if(c){j=c.split(".");l=j.pop();j=g=a.getObject(j.join("."),window,!0);var r=
a.underscore(c.replace(/\./g,"_")),o=a.underscore(l);g[l]=h}a.extend(h,{constructor:h,prototype:n,namespace:j,shortName:l,_shortName:o,fullName:c,_fullName:r});h.prototype.constructor=h;l=[this].concat(a.makeArray(arguments));n=h.setup.apply(h,l);h.init&&h.init.apply(h,n||l);return h}});return a.Construct});steal.executed("can/construct/construct.js");
steal("can/util",function(a){var d=/\=\=/,c=/([A-Z]+)([A-Z][a-z])/g,b=/([a-z\d])([A-Z])/g,f=/([a-z\d])([A-Z])/g,h=/\{([^\}]+)\}/g,g=/"/g,i=/'/g;a.extend(a,{esc:function(a){return(""+(null===a||void 0===a||isNaN(a)&&"NaN"===""+a?"":a)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(g,"&#34;").replace(i,"&#39;")},getObject:function(b,c,d){var b=b?b.split("."):[],f=b.length,g,h=0,i,x,c=a.isArray(c)?c:[c||window];if(!f)return c[0];for(;c[h];){g=c[h];for(x=0;x<f-1&&/^f|^o/.test(typeof g);x++)g=
b[x]in g?g[b[x]]:d&&(g[b[x]]={});if(/^f|^o/.test(typeof g)&&(i=b[x]in g?g[b[x]]:d&&(g[b[x]]={}),void 0!==i))return!1===d&&delete g[b[x]],i;h++}},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},underscore:function(a){return a.replace(d,"/").replace(c,"$1_$2").replace(b,"$1_$2").replace(f,"_").toLowerCase()},sub:function(b,c,d){var f=[];f.push(b.replace(h,function(b,g){var h=a.getObject(g,c,void 0===d?d:!d);return void 0===h?(f=null,""):/^f|^o/.test(typeof h)&&f?(f.push(h),""):""+
h}));return null===f?f:1>=f.length?f[0]:f},replacer:h,undHash:/_|-/});return a});steal.executed("can/util/string/string.js");
steal("can/util","can/construct",function(a){var d=a.isFunction,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;a.Construct._overwrite=function(a,f,h,g){a[h]=d(g)&&d(f[h])&&c.test(g)?function(a,b){return function(){var c=this._super,d;this._super=f[a];d=b.apply(this,arguments);this._super=c;return d}}(h,g):g};a.Construct._inherit=function(b,c,d){var d=d||b,g;for(g in b)a.Construct._overwrite(d,c,g,b[g])};return a});steal.executed("can/construct/super/super.js");
steal("can/util","can/construct",function(a){var d=function(b,c,d){a.bind.call(b,c,d);return function(){a.unbind.call(b,c,d)}},c=a.isFunction,b=a.extend,f=a.each,h=[].slice,g=/\{([^\}]+)\}/g,i=a.getObject("$.event.special")||{},l=function(b,c,d,f){a.delegate.call(b,c,d,f);return function(){a.undelegate.call(b,c,d,f)}},j,n=a.Control=a.Construct({setup:function(){a.Construct.setup.apply(this,arguments);if(a.Control){var b;this.actions={};for(b in this.prototype)this._isAction(b)&&(this.actions[b]=this._action(b))}},
_shifter:function(b,d){var f="string"==typeof d?b[d]:d;c(f)||(f=b[f]);return function(){b.called=d;return f.apply(b,[this.nodeName?a.$(this):this].concat(h.call(arguments,0)))}},_isAction:function(a){var b=this.prototype[a],d=typeof b;return"constructor"!==a&&("function"==d||"string"==d&&c(this.prototype[b]))&&!(!i[a]&&!r[a]&&!/[^\w]/.test(a))},_action:function(b,c){g.lastIndex=0;if(c||!g.test(b)){var d=c?a.sub(b,[c,window]):b;if(!d)return null;var f=a.isArray(d),h=f?d[1]:d,i=h.split(/\s+/g),l=i.pop();
return{processor:r[l]||j,parts:[h,i.join(" "),l],delegate:f?d[0]:void 0}}},processors:{},defaults:{}},{setup:function(c,d){var f=this.constructor,g=f.pluginName||f._fullName;this.element=a.$(c);g&&"can_control"!==g&&this.element.addClass(g);(g=a.data(this.element,"controls"))||a.data(this.element,"controls",g=[]);g.push(this);this.options=b({},f.defaults,d);this.on();return[this.element,this.options]},on:function(b,c,f,g){if(!b){this.off();var b=this.constructor,c=this._bindings,f=b.actions,g=this.element,
h=a.Control._shifter(this,"destroy"),j,i;for(j in f)if(f.hasOwnProperty(j)&&(i=f[j]||b._action(j,this.options)))c.push(i.processor(i.delegate||g,i.parts[2],i.parts[1],j,this));a.bind.call(g,"destroyed",h);c.push(function(b){a.unbind.call(b,"destroyed",h)});return c.length}"string"==typeof b&&(g=f,f=c,c=b,b=this.element);void 0===g&&(g=f,f=c,c=null);"string"==typeof g&&(g=a.Control._shifter(this,g));this._bindings.push(c?l(b,a.trim(c),f,g):d(b,f,g));return this._bindings.length},off:function(){var a=
this.element[0];f(this._bindings||[],function(b){b(a)});this._bindings=[]},destroy:function(){var b=this.constructor,b=b.pluginName||b._fullName;this.off();b&&"can_control"!==b&&this.element.removeClass(b);b=a.data(this.element,"controls");b.splice(a.inArray(this,b),1);a.trigger(this,"destroyed");this.element=null}}),r=a.Control.processors;j=function(b,c,f,g,h){g=a.Control._shifter(h,g);return f?l(b,a.trim(f),c,g):d(b,c,g)};f("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave touchstart touchmove touchcancel touchend touchleave".split(" "),
function(a){r[a]=j});return n});steal.executed("can/control/control.js");
steal("jquery","can/util","can/control",function(a,d){var c,b=d.makeArray,f=d.Control.setup;d.Control.setup=function(){if(this!==d.Control){var a=this.pluginName||this._fullName;"can_control"!==a&&this.plugin(a);f.apply(this,arguments)}};a.fn.extend({controls:function(){var a=b(arguments),f=[],i,l;this.each(function(){if(i=d.$(this).data("controls"))for(var b=0;b<i.length;b++){l=i[b];var n;if(!(n=!a.length))a:{n=l;var r=a;for(c=0;c<r.length;c++)if("string"==typeof r[c]?n.constructor._shortName==r[c]:
n instanceof r[c]){n=!0;break a}n=!1}n&&f.push(l)}});return f},control:function(a){return this.controls.apply(this,arguments)[0]}});d.Control.plugin=function(c){var f=this;a.fn[c]||(a.fn[c]=function(c){var h=b(arguments),j="string"==typeof c&&a.isFunction(f.prototype[c]),n=h[0],r;this.each(function(){var a=d.$(this).control(f);a?j?r=a[n].apply(a,h.slice(1)):a.update.apply(a,h):f.newInstance.apply(f,[this].concat(h))});return void 0!==r?r:this})};d.Control.prototype.update=function(a){d.extend(this.options,
a);this.on()};return d});steal.executed("can/control/plugin/plugin.js");
steal("can/util","can/view","can/util/string","can/observe/compute","can/view/scanner.js","can/view/render.js",function(a){var d=a.extend,c=function(a){if(this.constructor!=c){var f=new c(a);return function(a,b){return f.render(a,b)}}"function"==typeof a?this.template={fn:a}:(d(this,a),this.template=this.scanner.scan(this.text,this.name))};a.EJS=c;c.prototype.render=function(a,d){a=a||{};return this.template.fn.call(a,a,new c.Helpers(a,d||{}))};d(c.prototype,{scanner:new a.view.Scanner({tokens:[["templateLeft",
"<%%"],["templateRight","%>"],["returnLeft","<%=="],["escapeLeft","<%="],["commentLeft","<%#"],["left","<%"],["right","%>"],["returnRight","%>"]]})});c.Helpers=function(a,c){this._data=a;this._extras=c;d(this,c)};c.Helpers.prototype={list:function(b,c){a.each(b,function(a,d){c(a,d,b)})}};a.view.register({suffix:"ejs",script:function(a,d){return"can.EJS(function(_CONTEXT,_VIEW) { "+(new c({text:d,name:a})).template.out+" })"},renderer:function(a,d){return c({text:d,name:a})}});return a});steal.executed("can/view/ejs/ejs.js");
steal("can/util",function(a){var d=a.isFunction,c=a.makeArray,b=1,f=a.view=function(b,c,g,h){b=f.render(b,c,g,h);return d(b)?b:a.isDeferred(b)?b.pipe(function(a){return f.frag(a)}):f.frag(b)};a.extend(f,{frag:function(a,b){return f.hookup(f.fragment(a),b)},fragment:function(b){b=a.buildFragment(b,document.body);b.childNodes.length||b.appendChild(document.createTextNode(""));return b},toId:function(b){return a.map(b.toString().split(/\/|\./g),function(a){if(a)return a}).join("_")},hookup:function(b,
c){var d=[],g,h;a.each(b.childNodes?a.makeArray(b.childNodes):b,function(b){1===b.nodeType&&(d.push(b),d.push.apply(d,a.makeArray(b.getElementsByTagName("*"))))});a.each(d,function(a){if(a.getAttribute&&(g=a.getAttribute("data-view-id"))&&(h=f.hookups[g]))h(a,c,g),delete f.hookups[g],a.removeAttribute("data-view-id")});return b},hookups:{},hook:function(a){f.hookups[++b]=a;return" data-view-id='"+b+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(a){this.types["."+a.suffix]=a},types:{},
ext:".ejs",registerScript:function(){},preload:function(){},render:function(b,h,r,o){d(r)&&(o=r,r=void 0);var q=i(h);if(q.length){var v=new a.Deferred;q.push(g(b,!0));a.when.apply(a,q).then(function(b){var d=c(arguments),f=d.pop();if(a.isDeferred(h))h=l(b);else for(var g in h)a.isDeferred(h[g])&&(h[g]=l(d.shift()));d=f(h,r);v.resolve(d);o&&o(d)});return v}var x,q=d(o),v=g(b,q);if(q)x=v,v.then(function(a){o(h?a(h,r):a)});else{if("resolved"===v.state()&&v.__view_id)return b=f.cachedRenderers[v.__view_id],
h?b(h,r):b;v.then(function(a){x=h?a(h,r):a})}return x},registerView:function(b,c,d,g){c=(d||f.types[f.ext]).renderer(b,c);g=g||new a.Deferred;f.cache&&(f.cached[b]=g,g.__view_id=b,f.cachedRenderers[b]=c);return g.resolve(c)}});var h=function(a,b){if(!a.length)throw"can.view: No template or empty template:"+b;},g=function(b,c){var d=b.match(/\.[\w\d]+$/),g,i,l;b.match(/^#/)&&(b=b.substr(1));if(i=document.getElementById(b))d="."+i.type.match(/\/(x\-)?(.+)/)[2];!d&&!f.cached[b]&&(b+=d=f.ext);a.isArray(d)&&
(d=d[0]);l=f.toId(b);if(b.match(/^\/\//))var x=b.substr(2),b=!window.steal?x:steal.config().root.mapJoin(x);g=f.types[d];if(f.cached[l])return f.cached[l];if(i)return f.registerView(l,i.innerHTML,g);var s=new a.Deferred;a.ajax({async:c,url:b,dataType:"text",error:function(a){h("",b);s.reject(a)},success:function(a){h(a,b);f.registerView(l,a,g,s)}});return s},i=function(b){var c=[];if(a.isDeferred(b))return[b];for(var d in b)a.isDeferred(b[d])&&c.push(b[d]);return c},l=function(b){return a.isArray(b)&&
"success"===b[1]?b[0]:b};window.steal&&steal.type("view js",function(a,b){var c=f.types["."+a.type],d=f.toId(a.id);a.text="steal('"+(c.plugin||"can/view/"+a.type)+"',function(can){return can.view.preload('"+d+"',"+a.text+");\n})";b()});a.extend(f,{register:function(b){this.types["."+b.suffix]=b;window.steal&&steal.type(b.suffix+" view js",function(a,b){var c=f.types["."+a.type],d=f.toId(a.id+"");a.text=c.script(d,a.text);b()});f[b.suffix]=function(c,d){if(!d)return b.renderer(null,c);f.preload(c,
b.renderer(c,d));return a.view(c)}},registerScript:function(a,b,c){return"can.view.preload('"+b+"',"+f.types["."+a].script(b,c)+");"},preload:function(b,c){f.cached[b]=(new a.Deferred).resolve(function(a,b){return c.call(a,a,b)});return function(){return f.frag(c.apply(this,arguments))}}});return a});steal.executed("can/view/view.js");
steal("can/util",function(a){var d=function(b,c){var d;a.Observe&&(d=a.Observe.__reading,a.Observe.__reading=function(a,b){g.push({obj:a,attr:b})});var g=[],i=b.call(c);a.Observe&&(a.Observe.__reading=d);return{value:i,observed:g}},c=function(b,c,h){var g={},i=!0,l={value:void 0,teardown:function(){for(var a in g){var b=g[a];b.observe.obj.unbind(b.observe.attr,n);delete g[a]}}},j,n=function(a){if(void 0===a.batchNum||a.batchNum!==j){var b=l.value,c=r();l.value=c;c!==b&&h(c,b);j=j=a.batchNum}},r=function(){var h=
d(b,c),j=h.observed,h=h.value;i=!i;a.each(j,function(a){g[a.obj._cid+"|"+a.attr]?g[a.obj._cid+"|"+a.attr].matched=i:(g[a.obj._cid+"|"+a.attr]={matched:i,observe:a},a.obj.bind(a.attr,n))});for(var l in g)j=g[l],j.matched!==i&&(j.observe.obj.unbind(j.observe.attr,n),delete g[l]);return h};l.value=r();l.isListening=!a.isEmptyObject(g);return l};a.compute=function(b,d){if(b&&b.isComputed)return b;var h,g=0,i,l=!0;"function"===typeof b?i=function(c){return void 0===c?h?(g&&a.Observe.__reading&&a.Observe.__reading(i,
"change"),h.value):b.call(d||this):b.apply(d||this,arguments)}:(i=function(c){if(void 0===c)return a.Observe.__reading&&a.Observe.__reading(i,"change"),b;var d=b;b=c;d!==c&&a.Observe.triggerBatch(i,"change",[c,d]);return c},l=!1);i.isComputed=!0;i.bind=function(j,n){a.addEvent.apply(i,arguments);0===g&&l&&(h=c(b,d||this,function(b,c){a.Observe.triggerBatch(i,"change",[b,c])}));g++};i.unbind=function(b,c){a.removeEvent.apply(i,arguments);g--;0===g&&l&&h.teardown()};return i};a.compute.binder=c;return a.compute});
steal.executed("can/observe/compute/compute.js");
steal("can/view",function(a){var d=/(\r|\n)+/g,c={option:"textContent",textarea:"value"},b={tr:"tbody",option:"select",td:"tr",li:"ul"},f=function(a,c,d){if(a)return a;for(;d<c.length;){if("<"==c[d]&&b[c[d+1]])return b[c[d+1]];d++}},h=function(a){eval(a)},g=/([^\s]+)[\s]*=[\s]*$/,i=null,l=null,j=null,n=null,r=function(){return l?"'"+j.match(g)[1]+"'":i?1:0};a.view.Scanner=Scanner=function(b){a.extend(this,{text:{},tokens:[]},b);this.tokenReg=[];this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"};this.tokenComplex=
[];this.tokenMap={};for(var b=0,c;c=this.tokens[b];b++)c[2]?(this.tokenReg.push(c[2]),this.tokenComplex.push({abbr:c[1],re:RegExp(c[2]),rescan:c[3]})):(this.tokenReg.push(c[1]),this.tokenSimple[c[1]]=c[0]),this.tokenMap[c[0]]=c[1];this.tokenReg=RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")};Scanner.prototype={helpers:[{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(a){a=a.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);return"function(__){var "+a[1]+"=can.$(__);"+a[2]+"}"}}],
scan:function(a,b){var g=[],x=0,s=this.tokenSimple,A=this.tokenComplex,a=a.replace(d,"\n");a.replace(this.tokenReg,function(b,c){var d=arguments[arguments.length-2];d>x&&g.push(a.substring(x,d));if(s[b])g.push(b);else for(var f=0,h;h=A[f];f++)if(h.re.test(b)){g.push(h.abbr);h.rescan&&g.push(h.rescan(c));break}x=d+c.length});x<a.length&&g.push(a.substr(x));var t="",w=["var ___v1ew = [];"+(this.text.start||"")],y=function(a,b){w.push("___v1ew.push(",'"',a.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t"),
'"'+(b||"")+");")},C=[],D,E=null,I=!1,M="",J=[],O=0,z,G=this.tokenMap;for(i=l=j=null;void 0!==(z=g[O++]);){if(null===E)switch(z){case G.left:case G.escapeLeft:case G.returnLeft:I=i&&1;case G.commentLeft:E=z;t.length&&y(t);t="";break;case G.escapeFull:I=i&&1;n=1;E=G.escapeLeft;t.length&&y(t);n=g[O++];t=n.content||n;n.before&&y(n.before);g.splice(O,0,G.right);break;case G.commentFull:break;case G.templateLeft:t+=G.left;break;case "<":0!==g[O].indexOf("!--")&&(i=1,I=0);t+=z;break;case ">":i=0;D="/"==
t.substr(t.length-1);I||c[J[J.length-1]]?(D?y(t.substr(0,t.length-1),',can.view.pending(),"/>"'):y(t,',can.view.pending(),">"'),t=""):t+=z;D&&(J.pop(),M=J[J.length-1]);break;case "'":case '"':i&&(l&&l===z?l=null:null===l&&(l=z,j=D));default:"<"===D&&(M=z.split(/\s/)[0],0===M.indexOf("/")&&J.pop()===M.substr(1)?M=J[J.length-1]:J.push(M)),t+=z}else switch(z){case G.right:case G.returnRight:switch(E){case G.left:D=--t.split("{").length- --t.split("}").length;1==D?(w.push("___v1ew.push(","can.view.txt(0,'"+
f(M,g,O)+"',"+r()+",this,function(){","var ___v1ew = [];",t),C.push({before:"",after:"return ___v1ew.join('')}));\n"})):(x=C.length&&-1==D?C.pop():{after:";"},x.before&&w.push(x.before),w.push(t,";",x.after));break;case G.escapeLeft:case G.returnLeft:(D=--t.split("{").length- --t.split("}").length)&&C.push({before:"return ___v1ew.join('')",after:"}));"});for(var E=E===G.escapeLeft?1:0,ia={insert:"___v1ew.push(",tagName:M,status:r()},H=0;H<this.helpers.length;H++){var K=this.helpers[H];if(K.name.test(t)){t=
K.fn(t,ia);K.name.source==/^>[\s|\w]\w*/.source&&(E=0);break}}"object"==typeof t?t.raw&&w.push(t.raw):w.push("___v1ew.push(","can.view.txt("+E+",'"+M+"',"+r()+",this,function(){ "+(this.text.escape||"")+"return ",t,D?"var ___v1ew = [];":"}));");n&&n.after&&n.after.length&&(y(n.after.length),n=null)}E=null;t="";break;case G.templateLeft:t+=G.left;break;default:t+=z}D=z}t.length&&y(t);w.push(";");t={out:"with(_VIEW) { with (_CONTEXT) {"+w.join("")+" return ___v1ew.join('')}}"};h.call(t,"this.fn = (function(_CONTEXT,_VIEW){"+
t.out+"});\r\n//@ sourceURL="+b+".js");return t}};return Scanner});steal.executed("can/view/scanner.js");
steal("can/view","can/util/string",function(a){var d=!0;try{document.createTextNode()._=0}catch(c){d=!1}var b={"class":"className",value:"value",textContent:"textContent"},f={"":"span",table:"tr",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},h=/__!!__/g,g={option:"textContent",textarea:"value"},i=a.each(["checked","disabled","readonly","required"],function(a){b[a]=a}),l=function(c,d,f){var g=c.nodeName.toString().toLowerCase(),h=b[d];h?(c[h]=-1<a.inArray(d,
i)?!0:f,"value"===h&&"input"===g&&(c.defaultValue=f)):c.setAttribute(d,f)},j=[],n=function(a){if("string"==typeof a)return a;if(!a&&0!==a)return"";var b=a.hookup&&function(b,c){a.hookup.call(a,b,c)}||"function"==typeof a&&a;return b?(j.push(b),""):""+a},r=function(b){return"string"==typeof b||"number"==typeof b?a.esc(b):n(b)},o={},q={},v={},x="ejs_"+Math.random(),s=0,A=function(a){if(d||3!==a.nodeType)return a[x]?a[x]:a[x]=(a.nodeName?"element_":"obj_")+ ++s;for(var b in q)if(q[b]===a)return b;q["text_"+
++s]=a;return"text_"+s},t=function(b,c){var d=o[A(b)];if(d){var f=a.inArray(c,d);0<=f&&d.splice(f,1);d.length||delete o[A(b)]}},w=function(a,b){var c=o[A(a)];c||(c=o[A(a)]=[]);c.push(b)},y=function(a){a=f[a]||"span";return"span"===a?"@@!!@@":"<"+a+">"+y(a)+"</"+a+">"};a.extend(a.view,{pending:function(){var b=j.slice(0);lastHookups=b;j=[];return a.view.hook(function(c){a.each(b,function(a){a(c)})})},registerNode:function(b){var c=A(b);v[c]=b;a.each(b,function(a){w(a,c)})},unregisterNode:function(b){var c=
A(b);a.each(b,function(a){t(a,c)});delete v[c]},txt:function(c,d,s,o,v){var t=a.compute.binder(v,o,function(a,b){K(a,b)});if(!t.isListening)return(c||0!==s?r:n)(t.value);var A,q,x=function(){t.teardown();q&&a.view.unregisterNode(q)},w=function(b){a.bind.call(b,"destroyed",x);A=b},H=function(b){b||(x(),a.unbind.call(A,"destroyed",x))},o=f[d]||"span",K,R=g[d];if(0===s&&!R)return"<"+o+a.view.hook(c?function(a,b){K=function(a){d.nodeValue=""+a;H(d.parentNode)};var c=b&&11===a.parentNode.nodeType?b:a.parentNode,
d=document.createTextNode(t.value);c.insertBefore(d,a);c.removeChild(a);w(c)}:function(b,c){K=function(a){d[0].parentNode&&f(a);H(d[0].parentNode)};var c=c&&11===b.parentNode.nodeType?c:b.parentNode,d,f=function(f){var f=a.view.frag(f,c),g=a.makeArray(f.childNodes),h=d?d[d.length-1]:b;h.nextSibling?h.parentNode.insertBefore(f,h.nextSibling):h.parentNode.appendChild(f);d?(a.remove(a.$(d)),a.view.replace(d,g)):(a.remove(a.$(b)),q=d=g,a.view.registerNode(d))};f(t.value,[b]);w(c)})+">"+y(o)+"</"+o+">";
if(1===s){var Q=t.value.replace(/['"]/g,"").split("=")[0];j.push(function(b){K=function(c){var c=(c||"").replace(/['"]/g,"").split("="),d=c[0];if(d!=Q&&Q){var f=Q;-1<a.inArray(f,i)?b[f]=!1:b.removeAttribute(f)}d&&(l(b,d,c[1]),Q=d)};w(b)});return t.value}var B=0===s?R:s;(0===s?lastHookups:j).push(function(c){K=function(){l(c,B,j.render(),R)};var d=a.$(c),f;(f=a.data(d,"hooks"))||a.data(d,"hooks",f={});var g=(b[B]?c[b[B]]:c.getAttribute(B))||"",d=g.split("__!!__"),i=[],j;i.push(d.shift(),d.join("__!!__"));
f[B]?f[B].bindings.push(t):f[B]={render:function(){var a=0;return g.replace(h,function(){return n(j.bindings[a++].value)})},bindings:[t],batchNum:void 0};j=f[B];i.splice(1,0,t.value);l(c,B,i.join(""),R);w(c)});return"__!!__"},replace:function(b,c){b=a.makeArray(b);a.each(b,function(d){a.each(a.makeArray(o[A(d)]),function(f){var g=v[f],h=a.inArray(d,g),i=a.inArray(b[b.length-1],g);if(0<=h&&0<=i){for(var j=h;j<=i;j++)t(g[j],f);g.splice.apply(g,[h,i-h+1].concat(c));a.each(c,function(a){w(a,f)})}else a.view.unregisterNode(g)})})},
canExpando:d,textNodeMap:q,nodeMap:o,nodeListMap:v});return a});steal.executed("can/view/render.js");
steal("jquery","can/view",function(a,d){var c,b,f,h,g,i,l={val:!0,text:!0};c=function(c){var g=a.fn[c];a.fn[c]=function(){var a=d.makeArray(arguments),h,q,v=this;if(d.isDeferred(a[0]))return a[0].done(function(a){b.call(v,[a],g)}),this;if(f(a)){if(h=i(a))return q=a[h],a[h]=function(a){b.call(v,[a],g);q.call(v,a)},d.view.apply(d.view,a),this;a=d.view.apply(d.view,a);if(d.isDeferred(a))return a.done(function(a){b.call(v,[a],g)}),this;a=[a]}return l[c]?g.apply(this,a):b.call(this,a,g)}};b=function(a,
b){for(var c in d.view.hookups)break;c&&a[0]&&h(a[0])&&(a[0]=d.view.frag(a[0]).childNodes);return b.apply(this,a)};f=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"==b||"function"==b)&&!g(a[1])};g=function(a){return a.nodeType||a[0]&&a[0].nodeType};h=function(a){return g(a)?!0:"string"===typeof a?(a=d.trim(a),"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)&&3<=a.length):!1};i=function(a){return"function"===typeof a[3]?3:"function"===typeof a[2]&&2};a.fn.hookup=function(){d.view.frag(this);
return this};d.each("prepend append after before text html replaceWith val".split(" "),function(a){c(a)});return d});steal.executed("can/view/modifiers/modifiers.js");
(function(a,d){function c(a,b,c){return[parseInt(a[0],10)*(o.test(a[0])?b/100:1),parseInt(a[1],10)*(o.test(a[1])?c/100:1)]}function b(b,c){return parseInt(a.css(b,c),10)||0}a.ui=a.ui||{};var f,h=Math.max,g=Math.abs,i=Math.round,l=/left|center|right/,j=/top|center|bottom/,n=/[\+\-]\d+%?/,r=/^\w+/,o=/%$/,q=a.fn.position;a.position={scrollbarWidth:function(){if(f!==d)return f;var b,c,g=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
c=g.children()[0];a("body").append(g);b=c.offsetWidth;g.css("overflow","scroll");c=c.offsetWidth;b===c&&(c=g[0].clientWidth);g.remove();return f=b-c},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),d="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:"scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth?a.position.scrollbarWidth():0,height:d?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var b=
a(b||window),c=a.isWindow(b[0]);return{element:b,isWindow:c,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=function(d){if(!d||!d.of)return q.apply(this,arguments);var d=a.extend({},d),f,s,o,t,w,y=a(d.of),C=a.position.getWithinInfo(d.within),D=a.position.getScrollInfo(C),E=y[0],I=(d.collision||"flip").split(" "),M={};9===E.nodeType?(s=y.width(),o=y.height(),t={top:0,left:0}):a.isWindow(E)?
(s=y.width(),o=y.height(),t={top:y.scrollTop(),left:y.scrollLeft()}):E.preventDefault?(d.at="left top",s=o=0,t={top:E.pageY,left:E.pageX}):(s=y.outerWidth(),o=y.outerHeight(),t=y.offset());w=a.extend({},t);a.each(["my","at"],function(){var a=(d[this]||"").split(" "),b,c;1===a.length&&(a=l.test(a[0])?a.concat(["center"]):j.test(a[0])?["center"].concat(a):["center","center"]);a[0]=l.test(a[0])?a[0]:"center";a[1]=j.test(a[1])?a[1]:"center";b=n.exec(a[0]);c=n.exec(a[1]);M[this]=[b?b[0]:0,c?c[0]:0];d[this]=
[r.exec(a[0])[0],r.exec(a[1])[0]]});1===I.length&&(I[1]=I[0]);"right"===d.at[0]?w.left+=s:"center"===d.at[0]&&(w.left+=s/2);"bottom"===d.at[1]?w.top+=o:"center"===d.at[1]&&(w.top+=o/2);f=c(M.at,s,o);w.left+=f[0];w.top+=f[1];return this.each(function(){var j,l,n=a(this),q=n.outerWidth(),r=n.outerHeight(),E=b(this,"marginLeft"),K=b(this,"marginTop"),R=q+E+b(this,"marginRight")+D.width,Q=r+K+b(this,"marginBottom")+D.height,B=a.extend({},w),u=c(M.my,n.outerWidth(),n.outerHeight());"right"===d.my[0]?B.left-=
q:"center"===d.my[0]&&(B.left-=q/2);"bottom"===d.my[1]?B.top-=r:"center"===d.my[1]&&(B.top-=r/2);B.left+=u[0];B.top+=u[1];a.support.offsetFractions||(B.left=i(B.left),B.top=i(B.top));j={marginLeft:E,marginTop:K};a.each(["left","top"],function(b,c){if(a.ui.position[I[b]])a.ui.position[I[b]][c](B,{targetWidth:s,targetHeight:o,elemWidth:q,elemHeight:r,collisionPosition:j,collisionWidth:R,collisionHeight:Q,offset:[f[0]+u[0],f[1]+u[1]],my:d.my,at:d.at,within:C,elem:n})});a.fn.bgiframe&&n.bgiframe();d.using&&
(l=function(a){var b=t.left-B.left,c=b+s-q,f=t.top-B.top,i=f+o-r,j={target:{element:y,left:t.left,top:t.top,width:s,height:o},element:{element:n,left:B.left,top:B.top,width:q,height:r},horizontal:c<0?"left":b>0?"right":"center",vertical:i<0?"top":f>0?"bottom":"middle"};if(s<q&&g(b+c)<s)j.horizontal="center";if(o<r&&g(f+i)<o)j.vertical="middle";j.important=h(g(b),g(c))>h(g(f),g(i))?"horizontal":"vertical";d.using.call(this,a,j)});n.offset(a.extend(B,{using:l}))})};a.ui.position={fit:{left:function(a,
b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft,c=d-g,i=g+b.collisionWidth-f-d;b.collisionWidth>f?0<c&&0>=i?(d=a.left+c+b.collisionWidth-f-d,a.left+=c-d):a.left=0<i&&0>=c?d:c>i?d+f-b.collisionWidth:d:a.left=0<c?a.left+c:0<i?a.left-i:h(a.left-g,a.left)},top:function(a,b){var c=b.within,d=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,c=d-g,i=g+b.collisionHeight-f-d;b.collisionHeight>f?0<c&&0>=i?
(d=a.top+c+b.collisionHeight-f-d,a.top+=c-d):a.top=0<i&&0>=c?d:c>i?d+f-b.collisionHeight:d:a.top=0<c?a.top+c:0<i?a.top-i:h(a.top-g,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,f=c.width,h=c.isWindow?c.scrollLeft:c.offset.left,i=a.left-b.collisionPosition.marginLeft,c=i-h,j=i+b.collisionWidth-f-h,i="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,l="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,n=-2*b.offset[0];if(0>c){if(d=a.left+i+
l+n+b.collisionWidth-f-d,0>d||d<g(c))a.left+=i+l+n}else if(0<j&&(d=a.left-b.collisionPosition.marginLeft+i+l+n-h,0<d||g(d)<j))a.left+=i+l+n},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,f=c.height,h=c.isWindow?c.scrollTop:c.offset.top,i=a.top-b.collisionPosition.marginTop,c=i-h,j=i+b.collisionHeight-f-h,i="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,l="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,n=-2*b.offset[1];if(0>c){if(d=a.top+i+l+n+b.collisionHeight-
f-d,a.top+i+l+n>c&&(0>d||d<g(c)))a.top+=i+l+n}else if(0<j&&(d=a.top-b.collisionPosition.marginTop+i+l+n-h,a.top+i+l+n>j&&(0<d||g(d)<j)))a.top+=i+l+n}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,d,f,g=document.getElementsByTagName("body")[0];d=document.createElement("div");b=document.createElement(g?
"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};g&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in c)b.style[f]=c[f];b.appendChild(d);c=g||document.documentElement;c.insertBefore(b,c.firstChild);d.style.cssText="position: absolute; left: 10.7432222px;";d=a(d).offset().left;a.support.offsetFractions=10<d&&11>d;b.innerHTML="";c.removeChild(b)})();!1!==a.uiBackCompat&&function(a){var b=a.fn.position;a.fn.position=function(c){if(!c||!c.offset)return b.call(this,
c);var f=c.offset.split(" "),g=c.at.split(" ");1===f.length&&(f[1]=f[0]);/^\d/.test(f[0])&&(f[0]="+"+f[0]);/^\d/.test(f[1])&&(f[1]="+"+f[1]);1===g.length&&(/left|center|right/.test(g[0])?g[1]="center":(g[1]=g[0],g[0]="center"));return b.call(this,a.extend(c,{at:g[0]+f[0]+" "+g[1]+f[1],offset:d}))}}(jQuery)})(jQuery);steal.executed("ui/position/position.js");
steal("./datepicker.css",function(){!function(a){var d=function(b,d){this.element=a(b);this.format=c.parseFormat(d.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=a(c.template).appendTo(d.parent||"body").on({click:a.proxy(this.click,this),mousedown:a.proxy(this.mousedown,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):!1;if(this.isInput)this.element.on({focus:a.proxy(this.show,this),blur:a.proxy(this.hide,this),
keyup:a.proxy(this.update,this)});else if(this.component)this.component.on("click",a.proxy(this.show,this));else this.element.on("click",a.proxy(this.show,this));this.minViewMode=d.minViewMode||this.element.data("date-minviewmode")||0;if("string"===typeof this.minViewMode)switch(this.minViewMode){case "months":this.minViewMode=1;break;case "years":this.minViewMode=2;break;default:this.minViewMode=0}this.viewMode=d.viewMode||this.element.data("date-viewmode")||0;if("string"===typeof this.viewMode)switch(this.viewMode){case "months":this.viewMode=
1;break;case "years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode;this.weekStart=d.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=0===this.weekStart?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update();this.showMode()};d.prototype={constructor:d,show:function(b){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();a(window).on("resize",a.proxy(this.place,this));b&&(b.stopPropagation(),
b.preventDefault());if(!this.isInput)a(document).on("mousedown",a.proxy(this.hide,this));this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();a(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();this.isInput||a(document).off("mousedown",this.hide);this.element.trigger({type:"hide",date:this.date})},set:function(){var a=c.formatDate(this.date,this.format);this.isInput?this.element.prop("value",a):(this.component&&this.element.find("input").prop("value",
a),this.element.data("date",a))},setValue:function(a){this.date="string"===typeof a?c.parseDate(a,this.format):new Date(a);this.set();this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},place:function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left})},update:function(a){this.date=c.parseDate("string"===typeof a?a:this.isInput?this.element.prop("value"):this.element.data("date"),this.format);
this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},fillDow:function(){for(var a=this.weekStart,d="<tr>";a<this.weekStart+7;)d+='<th class="dow">'+c.dates.daysMin[a++%7]+"</th>";this.picker.find(".datepicker-days thead").append(d+"</tr>")},fillMonths:function(){for(var a="",d=0;12>d;)a+='<span class="month">'+c.dates.monthsShort[d++]+"</span>";this.picker.find(".datepicker-months td").append(a)},fill:function(){var a=new Date(this.viewDate),d=a.getFullYear(),
a=a.getMonth(),h=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(c.dates.months[a]+" "+d);var g=new Date(d,a-1,28,0,0,0,0),i=c.getDaysInMonth(g.getFullYear(),g.getMonth());g.setDate(i);g.setDate(i-(g.getDay()-this.weekStart+7)%7);i=new Date(g);i.setDate(i.getDate()+42);i=i.valueOf();html=[];for(var l;g.valueOf()<i;)g.getDay()===this.weekStart&&html.push("<tr>"),l="",g.getMonth()<a?l+=" old":g.getMonth()>a&&(l+=" new"),g.valueOf()===h&&(l+=" active"),html.push('<td class="day'+
l+'">'+g.getDate()+"</td>"),g.getDay()===this.weekEnd&&html.push("</tr>"),g.setDate(g.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(html.join(""));a=this.date.getFullYear();h=this.picker.find(".datepicker-months").find("th:eq(1)").text(d).end().find("span").removeClass("active");a===d&&h.eq(this.date.getMonth()).addClass("active");html="";d=10*parseInt(d/10,10);h=this.picker.find(".datepicker-years").find("th:eq(1)").text(d+"-"+(d+9)).end().find("td");d-=1;for(g=-1;11>g;g++)html+=
'<span class="year'+(-1===g||10===g?" old":"")+(a===d?" active":"")+'">'+d+"</span>",d+=1;h.html(html)},click:function(b){b.stopPropagation();b.preventDefault();var d=a(b.target).closest("span, td, th");if(1===d.length)switch(d[0].nodeName.toLowerCase()){case "th":switch(d[0].className){case "switch":this.showMode(1);break;case "prev":case "next":this.viewDate["set"+c.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+c.modes[this.viewMode].navFnc].call(this.viewDate)+c.modes[this.viewMode].navStep*
("prev"===d[0].className?-1:1)),this.fill(),this.set()}break;case "span":d.is(".month")?(b=d.parent().find("span").index(d),this.viewDate.setMonth(b)):(d=parseInt(d.text(),10)||0,this.viewDate.setFullYear(d));0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:c.modes[this.viewMode].clsName}));this.showMode(-1);this.fill();this.set();this.hide();break;case "td":if(d.is(".day")){var h=parseInt(d.text(),10)||1,b=this.viewDate.getMonth();
d.is(".old")?b-=1:d.is(".new")&&(b+=1);d=this.viewDate.getFullYear();this.date=new Date(d,b,h,0,0,0,0);this.viewDate=new Date(d,b,Math.min(28,h),0,0,0,0);this.fill();this.set();this.element.trigger({type:"changeDate",date:this.date,viewMode:c.modes[this.viewMode].clsName});this.hide()}}},mousedown:function(a){a.stopPropagation();a.preventDefault()},showMode:function(a){a&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find(">div").hide().filter(".datepicker-"+c.modes[this.viewMode].clsName).show()}};
a.fn.datepicker=function(b,c){return this.each(function(){var h=a(this),g=h.data("datepicker"),i="object"===typeof b&&b;g||h.data("datepicker",g=new d(this,a.extend({},a.fn.datepicker.defaults,i)));if("string"===typeof b)g[b](c)})};a.fn.datepicker.defaults={};a.fn.datepicker.Constructor=d;var c={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,d){return[31,c.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][d]},parseFormat:function(a){var c=a.match(/[.\/\-\s].*?/),a=a.split(/\W+/);
if(!c||!a||0===a.length)throw Error("Invalid date format.");return{separator:c,parts:a}},parseDate:function(a,c){var d=a.split(c.separator),a=new Date,g;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);if(d.length===c.parts.length)for(var i=0,l=c.parts.length;i<l;i++)switch(g=parseInt(d[i],10)||1,c.parts[i]){case "dd":case "d":a.setDate(g);break;case "mm":case "m":a.setMonth(g-1);break;case "yy":a.setFullYear(2E3+g);break;case "yyyy":a.setFullYear(g)}return a},formatDate:function(a,
c){var d={d:a.getDate(),m:a.getMonth()+1,yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear()};d.dd=(10>d.d?"0":"")+d.d;d.mm=(10>d.m?"0":"")+d.m;for(var a=[],g=0,i=c.parts.length;g<i;g++)a.push(d[c.parts[g]]);return a.join(c.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};c.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+
c.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+c.headTemplate+c.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+c.headTemplate+c.contTemplate+"</table></div></div>"}(window.jQuery)});steal.executed("ui/datepicker/datepicker.js");
steal("can/util/function","can/construct/super","can/control","can/control/plugin","can/control/modifier","can/view/ejs","can/view/modifiers").then("ui/position","./popover.less","./views/init.ejs",function(){can.Control("ui.Popover",{defaults:{placement:"top",showDelay:100,hideDelay:500,showEvent:"mouseenter",hideEvent:"mouseleave",collision:"flip",template:"//ui/popover/views/init.ejs",parent:document.body},positions:{top:{my:"bottom",at:"top"},left:{my:"right",at:"left"},right:{my:"left",at:"right"},
bottom:{my:"top",at:"bottom"}}},{init:function(){this.tooltip=$(can.view.render(this.options.template,{})).appendTo(this.options.parent)},attr:function(a){return this.options[a]||this.element.attr("data-"+a)},show:function(){clearTimeout(this.hideTimeout);this.showTimeout=setTimeout(this.proxy(function(){var a=this.attr("title");this.tooltip.find(".popover-title").html(a)[a?"show":"hide"]();this.tooltip.find(".popover-content").html(this.attr("content"));a=this.constructor.positions[this.options.placement];
this.tooltip.css({left:0,top:0});this.tooltip.position({my:a.my,at:a.at,of:this.element});this.tooltip.fadeIn("fast");a=(a=this.tooltip.attr("class").match(/\bui-flipped-\S+/g))?a[0].replace("ui-flipped-",""):this.options.placement;this.tooltip.removeClass(function(a,c){return(c.match(/\bpos-\S+/g)||[]).join(" ")}).addClass("pos-"+a);this.element.trigger("shown")}),this.options.showDelay)},hide:function(){clearTimeout(this.showTimeout);this.hideTimeout=setTimeout(this.proxy(function(){this.tooltip.fadeOut("fast");
this.element.trigger("hidden")}),this.options.hideDelay)}," {showEvent}":"show"," {hideEvent}":"hide"," move":"move"})});steal.executed("ui/popover/popover.js");
steal("can/util",function(a){a.extend(a,{debounce:function(a,c,b){var f;return function(){var h=arguments;b=b||this;clearTimeout(f);f=setTimeout(function(){a.apply(b,h)},c)}},throttle:function(a,c,b){var f;return function(){var h=arguments;b=b||this;f||(f=!0,setTimeout(function(){a.apply(b,h);f=!1},c))}},defer:function(a,c){var b=arguments,c=c||this;setTimeout(function(){a.apply(c,b)},0)}});return a});steal.executed("can/util/function/function.js");
steal("can/util","can/control","can/util/function",function(a){var d=a.Control.setup,c=a.Control.processors,b={delim:":",hasModifier:function(a){return-1!==a.indexOf(b.delim)},modify:function(b,c,d){var i=b.match(/([\w]+)\((.+)\)/);i&&(b=a.getObject(i[1],[d||{},a,window]),d=a.sub(i[2],[d||{},a,window]).split(","),b&&(d.unshift(c),c=b.apply(null,d)));return c},addProcessor:function(d,h){var g=[d,h].join(b.delim);c[g]=function(c,g,j,n,r){var o=b.modify(h,a.Control._shifter(r,n),r.options);r[d]=o;if(j)return a.bind(c,
d,o),function(){a.unbind(c,d,o)};j=a.trim(j);a.delegate.call(c,j,d,o);return function(){a.undelegate.call(c,j,d,o)}}}};a.extend(a.Control,{modifier:b,setup:function(f,h){a.each(this.prototype,function(d,f){var h,j;b.hasModifier(f)&&(h=f.split(b.delim),j=h.shift().split(" ").pop(),h=h.join(""),a.trim(f)in c||b.addProcessor(j,h))});d.apply(this,arguments)}});return a});steal.executed("can/control/modifier/modifier.js");
steal({id:"./less_engine.js",ignore:!0},function(){steal.isRhino&&window.less&&function(a){var d=a.URL.prototype;a.URL=function(a,b){a.data?this.attrs=a:(this.value=a,this.paths=b)};a.URL.prototype=d}(less.tree);steal.type("less css",function(a,d){var c=(a.src+"").split("/");c[c.length-1]="";steal.isRhino||(c=(a.src+"").split("/"),c[c.length-1]="",c.join("/"));(new less.Parser({optimization:less.optimization,paths:[c.join("/")]})).parse(a.text,function(b,c){a.text=c.toCSS();d()})})});steal.executed("steal/less/less.js");
steal("can/view/ejs",function(a){return a.view.preload("ui_popover_views_init_ejs",a.EJS(function(a,c){with(c)with(a){var b=[];b.push('<div class="popover">\n\t<div class="arrow"></div>\n\t<h3 class="popover-title"></h3>\n\t<div class="popover-content"></div>\n</div>');return b.join("")}}))});steal.executed("ui/popover/views/init.ejs");
steal("can/control","can/control/plugin","./textinput.css",function(){can.Control("ui.Textinput",{init:function(){this.element.attr("title","Click to edit")},click:function(a){if(!this.element.hasClass("disabled")){var d=a.text(),c=a.width();this.prevText=d;a.addClass("focused");a.html('<input type="text" value="'+d+'" style="width:'+c+'" />');a.children("input").focus()}},keyup:function(a,d){27===d.keyCode?(this.element.removeClass("focused"),this.element.html(this.prevText)):13===d.keyCode&&this.element.find("input").blur()},
"input blur":function(a){a=a.val();this.element.removeClass("focused");this.element.html(a);a!=this.prevText&&this.element.trigger("change",a)}})});steal.executed("ui/textinput/textinput.js");
steal("can/construct/super","ui/typeahead","ui/tip","./picker.css",function(){ui.Typeahead("ui.Picker",{init:function(){this._super.apply(this,arguments);this.element.wrap('<div class="ui_picker_wrap" />');this.element.after('<button type="button" class="add-email">Add</button>');this.element.addClass("ui_typeahead");new ui.Tip(this.element,{title:"Add existing connection or new email address",showEvent:"focus",hideEvent:"blur"})},hide:function(){this._super.apply(this,arguments);this.element.next().hide()},
keyup:function(a,d){var c=a.val(),b=this.element.next();this.validateEmail(c)?b.show():b.hide();this._super.apply(this,arguments)},change:function(a,d,c){if((a=a.val())&&!c)d.stopPropagation(),confirm("Would you like to add "+a+"?")&&(this.element.trigger("change",a),this.query=a),this.hide()},".add-email click":function(){this.query=this.element.val()},validateEmail:function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)}})});
steal.executed("ui/picker/picker.js");
steal("can/construct/proxy","can/observe/elements","can/control","can/control/plugin","can/view/ejs","ui/dropdown","./typeahead.css","./views/list.ejs",function(){can.Control("ui.Typeahead",{defaults:{model:void 0,params:void 0,items:[],parent:document.body,selected:void 0}},{init:function(){this.options.dropdown=this.dropdown=$('<ul class="typeahead-menu" />').appendTo(this.options.parent);this.options.selected&&this.element.val(this.options.selected.name);this.element.attr("autocomplete","off");
this.dropdown.ui_dropdown();this.on()},update:function(a){this._super.apply(this,arguments);a.items&&this.dropdown.html(can.view("//ui/typeahead/views/list.ejs",{items:this.sorter(this.options.items),selected:this.options.selected}))},keyup:function(a){this.filter(a.val())},keydown:function(a,d){27===d.keyCode&&this.hide()},"{dropdown} hidden":"hide","{dropdown} button click":function(a){a.not("disabled")&&(a=$(a).instance(),this.query!=a.name&&(this.query=a.name,this.element.trigger("change",a)),
this.hide())},show:function(a){this.dropdown.children().length?this.dropdown.children(":not(.no-items)").show():this.dropdown.html(can.view("//ui/typeahead/views/list.ejs",{items:this.sorter(a),selected:this.options.selected}));this.dropdown.outerWidth(this.element.outerWidth());this.dropdown.trigger("show",this.element)},hide:function(){this.element.val(this.query);this.element.removeClass("opened");this.dropdown.hide();this.filter();this.element.blur()},focus:function(){this.query=this.element.val();
this.element.val("");this.element.addClass("opened");!this.options.items.length&&this.options.model?(this.dropdown.html("<li><button disabled>Loading...</button></li>"),this.options.model.findAll(this.options.params).done(this.proxy("show"))):this.show(this.options.items)},filter:function(a){var d=""===a||void 0===a,c=0,b=this.dropdown.find(".no-items"),f=this.dropdown.find("button:not(:disabled)").each(this.proxy(function(b,f){var f=$(f),i=f.instance().name,l=f.parent(),j=l.parent(),n=j.hasClass("group-list");
d||this.matcher(a,i)?(d?f.html(i):f.html(this.highlighter(a,i)),l.show(),n&&j.parent().show()):(l.hide(),c++,n&&(j.children("li:visible").length||j.parent().hide()))}));b[f.length===c?"show":"hide"]()},matcher:function(a,d){return~d.toLowerCase().indexOf(a.toLowerCase())},highlighter:function(a,d){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return d.replace(RegExp("("+a+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},sorter:function(a){for(var d={},c=0;c<a.length;c++)d[a[c].group]||
(d[a[c].group]=c);return a.sort(function(a,c){return d[a.group]-d[c.group]})}})});steal.executed("ui/typeahead/typeahead.js");
steal("can/util","can/observe",function(a){var d=function(c){var b=[];a.each(c,function(a){a["__u Nique"]||(b.push(a),a["__u Nique"]=1)});return a.each(b,function(a){delete a["__u Nique"]})};a.extend(a.Observe.prototype,{identity:function(){var a=this.constructor,b=this[a.id]||this._cid.replace(/./,"");return((a._fullName?a._fullName+"_":"")+(a.escapeIdentity?encodeURIComponent(b):b)).replace(/ /g,"_")},elements:function(c){var b=this.identity();this.constructor.escapeIdentity&&(b=b.replace(/([ #;&,.+*~\'%:"!^$[\]()=>|\/])/g,
"\\$1"));return a.$("."+b,c)},hookup:function(c){var b=this.constructor._shortName||"",c=a.$(c),d;(d=a.data(c,"instances"))||a.data(c,"instances",d={});a.addClass(c,b+" "+this.identity());d[b]=this}});$.fn.instances=function(){var c=[],b,f;this.each(function(){a.each($.data(this,"instances")||{},function(a){b=void 0===b?a.constructor.List||null:a.constructor.List===b?b:null;c.push(a)})});f=b?new b:new a.Observe.List;f.push.apply(f,d(c));return f};$.fn.instance=function(c){return c&&c instanceof a.Observe?
(c.hookup(this[0]),this):this.instances.apply(this,arguments)[0]};return a.Observe});steal.executed("can/observe/elements/elements.js");
steal("can/util","can/construct",function(a){var d=function(b){return b&&(a.isArray(b)||a.isPlainObject(b)||b instanceof a.Observe)},c=function(b,c){return a.each(b,function(a){a&&a.unbind&&a.unbind("change"+c)})},b=function(b,d,f,g,h){g=g||q;h=h||q.List;b instanceof q?c([b],f._cid):b=a.isArray(b)?new h(b):new g(b);b.bind("change"+f._cid,function(){var c=a.makeArray(arguments),g=c.shift();c[0]=("*"===d?[f.indexOf(b),c[0]]:[d,c[0]]).join(".");g.triggeredNS=g.triggeredNS||{};g.triggeredNS[f._cid]||
(g.triggeredNS[f._cid]=!0,a.trigger(f,g,c))});return b},f=function(b,c,f){b.each(function(b,g){f[g]=d(b)&&a.isFunction(b[c])?b[c]():b});return f},h=function(b){return function(){return a[b].apply(this,arguments)}},g=h("addEvent"),h=h("removeEvent"),i=function(b){return a.isArray(b)?b:(""+b).split(".")},l=1,j=0,n=[],r=[],o=0;a.cid=function(a,b){return a._cid?a._cid:a._cid=(b||"")+ ++o};var q=a.Observe=a.Construct({bind:g,unbind:h,id:"id",canMakeObserve:d,startBatch:function(a){j++;a&&r.push(a)},stopBatch:function(b,
c){b?j=0:j--;if(0==j){var d=n.slice(0),f=r.slice(0);n=[];r=[];l++;c&&this.startBatch();a.each(d,function(b){a.trigger.apply(a,b)});a.each(f,function(a){a})}},triggerBatch:function(b,c,d){if(!b._init){if(0==j)return a.trigger(b,c,d);n.push([b,{type:c,batchNum:l},d])}},keys:function(a){var b=[];q.__reading&&q.__reading(a,"__keys");for(var c in a._data)b.push(c);return b}},{setup:function(b){this._data={};a.cid(this,".observe");this._init=1;this.attr(b);this.bind("change"+this._cid,a.proxy(this._changes,
this));delete this._init},_changes:function(a,b,c,d,f){q.triggerBatch(this,{type:b,batchNum:a.batchNum},[d,f])},attr:function(a,b){var c=typeof a;if("string"!==c&&"number"!==c)return this._attrs(a,b);if(void 0===b)return q.__reading&&q.__reading(this,a),this._get(a);this._set(a,b);return this},each:function(){q.__reading&&q.__reading(this,"__keys");return a.each.apply(void 0,[this.__get()].concat(a.makeArray(arguments)))},removeAttr:function(a){var a=i(a),b=a.shift(),c=this._data[b];if(a.length)return c.removeAttr(a);
b in this._data&&(delete this._data[b],b in this.constructor.prototype||delete this[b],q.triggerBatch(this,"__keys",void 0),q.triggerBatch(this,"change",[b,"remove",void 0,c]),q.triggerBatch(this,b,[void 0,c]));return c},_get:function(a){var a=i(a),b=this.__get(a.shift());return a.length?b?b._get(a):void 0:b},__get:function(a){return a?this._data[a]:this._data},_set:function(a,b){var c=i(a),f=c.shift(),g=this.__get(f);if(d(g)&&c.length)g._set(c,b);else{if(c.length)throw"can.Observe: Object does not exist";
this.__convert&&(b=this.__convert(f,b));g||q.triggerBatch(this,"__keys",void 0);this.__set(f,b,g)}},__set:function(a,f,g){if(f!==g){var h=this.__get().hasOwnProperty(a)?"set":"add";this.___set(a,d(f)?b(f,a,this):f);q.triggerBatch(this,"change",[a,h,f,g]);g&&c([g],this._cid)}},___set:function(a,b){this._data[a]=b;a in this.constructor.prototype||(this[a]=b)},bind:g,unbind:h,serialize:function(){return f(this,"serialize",{})},_attrs:function(b,g){if(void 0===b)return f(this,"attr",{});var b=a.extend(!0,
{},b),h,i=this,j;q.startBatch();this.each(function(f,h,l){j=b[h];void 0===j?g&&i.removeAttr(h):(i.__convert&&(j=i.__convert(h,j)),f!==j&&(f instanceof a.Observe&&j instanceof a.Observe&&c([f],i._cid),j instanceof a.Observe?i._set(h,j):d(f)&&d(j)?f.attr(j,l):f!=j&&i._set(h,j)),delete b[h])});for(h in b)j=b[h],this._set(h,j);q.stopBatch();return this}}),v=[].splice,x=q({setup:function(b,c){this.length=0;a.cid(this,".observe");this._init=1;this.push.apply(this,a.makeArray(b||[]));this.bind("change"+
this._cid,a.proxy(this._changes,this));a.extend(this,c);delete this._init},_changes:function(a,b,c,d,f){~b.indexOf(".")||("add"===c?(q.triggerBatch(this,c,[d,+b]),q.triggerBatch(this,"length",[this.length])):"remove"===c?(q.triggerBatch(this,c,[f,+b]),q.triggerBatch(this,"length",[this.length])):q.triggerBatch(this,c,[d,+b]));q.prototype._changes.apply(this,arguments)},__get:function(a){return a?this[a]:this},___set:function(a,b){this[a]=b;+a>=this.length&&(this.length=+a+1)},serialize:function(){return f(this,
"serialize",[])},splice:function(f,g){var h=a.makeArray(arguments),i;for(i=2;i<h.length;i++){var j=h[i];d(j)&&(h[i]=b(j,"*",this))}void 0===g&&(g=h[1]=this.length-f);i=v.apply(this,h);0<g&&(q.triggerBatch(this,"change",[""+f,"remove",void 0,i]),c(i,this._cid));2<h.length&&q.triggerBatch(this,"change",[""+f,"add",h.slice(2),i]);return i},_attrs:function(b,c){if(void 0===b)return f(this,"attr",[]);b=a.makeArray(b);q.startBatch();this._updateAttrs(b,c);q.stopBatch()},_updateAttrs:function(a,b){for(var c=
Math.min(a.length,this.length),f=0;f<c;f++){var g=this[f],h=a[f];d(g)&&d(h)?g.attr(h,b):g!=h&&this._set(f,h)}a.length>this.length?this.push.apply(this,a.slice(this.length)):a.length<this.length&&b&&this.splice(a.length)}});a.each({push:"length",unshift:0},function(c,f){x.prototype[f]=function(){for(var g=a.makeArray(arguments),h=c?this.length:0,i=0;i<g.length;i++){var j=g[i];d(j)&&(g[i]=b(j,"*",this,this.constructor.Observe,this.constructor))}i=[][f].apply(this,g);(!this.comparator||!g.length)&&q.triggerBatch(this,
"change",[""+h,"add",g,void 0]);return i}});a.each({pop:"length",shift:0},function(b,c){x.prototype[c]=function(){var d=arguments[0]&&a.isArray(arguments[0])?arguments[0]:a.makeArray(arguments),f=b&&this.length?this.length-1:0,d=[][c].apply(this,d);q.triggerBatch(this,"change",[""+f,"remove",void 0,[d]]);d&&d.unbind&&d.unbind("change"+this._cid);return d}});a.extend(x.prototype,{indexOf:function(b){this.attr("length");return a.inArray(b,this)},join:[].join,slice:function(){return new this.constructor(Array.prototype.slice.apply(this,
arguments))},concat:function(){var b=[];a.each(a.makeArray(arguments),function(c,d){b[d]=c instanceof a.Observe.List?c.serialize():c});return new this.constructor(Array.prototype.concat.apply(this.serialize(),b))},forEach:function(b,c){a.each(this,b,c||this)}});q.List=x;q.setup=function(){a.Construct.setup.apply(this,arguments);this.List=q.List({Observe:this},{})};return q});steal.executed("can/observe/observe.js");
steal("can/control","can/control/plugin","ui/position","./dropdown.less",function(){can.Control("ui.Dropdown",{defaults:{position:{my:"left top",at:"left bottom"}}},{init:function(){this.element.addClass("dropdown-menu")},show:function(a){this.element.css({left:0,top:0});this.element.position({my:this.options.position.my,at:this.options.position.at,of:a}).show();this._opener=a;this.element.trigger("shown")},hide:function(){this.element.hide();this.element.trigger("hidden")},toggle:function(a){this.element.is(":visible")?
this.hide():this.show(a)}," hide":"hide"," toggle":function(a,d,c){this.toggle(c)}," show":function(a,d,c){this.show(c)},"{window} click":function(a,d){this._opener&&!$.contains(this.element[0],d.target)&&(!$.contains(this._opener,d.target)&&this._opener!=d.target)&&this.hide()}})});steal.executed("ui/dropdown/dropdown.js");
steal("can/view/ejs",function(a){return a.view.preload("ui_typeahead_views_list_ejs",a.EJS(function(d,c){with(c)with(d){var b=[];b.push(a.view.txt(0,"ul",0,this,function(){var b=[];items.length&&(b.push("\n\t"),b.push(a.view.txt(0,"ul",0,this,function(){for(var b=[],c=0;c<items.length;c++){b.push("\n\t\t");var d=items[c],f=d.group&&(0===c||items[c-1].group!==d.group);b.push("\n\t\t");b.push(a.view.txt(0,"ul",0,this,function(){var b=[];f&&(b.push('\n\t\t\t<li><button disabled class="group">'),b.push(a.view.txt(0,
"button",0,this,function(){return d.group})),b.push('</button><ul class="group-list">\n\t\t'));return b.join("")}));b.push('\n\t\t\t<li><button tab-index="0" class="');b.push(a.view.txt(0,"button","class",this,function(){return d.id}));b.push(" ");b.push(a.view.txt(0,"button","class",this,function(){return selected&&d.id===selected.id?"selected":""}));b.push('" ');b.push(a.view.txt(0,"button",1,this,function(){return d}));b.push("",a.view.pending(),">");b.push(a.view.txt(0,"button",0,this,function(){return d.name}));
b.push("</button></li>\n\t\t");b.push(a.view.txt(0,"ul",0,this,function(){var a=[];f&&a.push("\n\t\t\t</ul></li>\n\t\t");return a.join("")}));b.push("\n\t")}return b.join("")})),b.push("\n"));return b.join("")}));b.push('\n<li class="no-items" style="display:');b.push(a.view.txt(1,"li","style",this,function(){return!items.length?"block":"none"}));b.push('"',a.view.pending(),">");b.push("<button disabled>No items</button></li>\n");return b.join("")}}))});steal.executed("ui/typeahead/views/list.ejs");
steal("can/util/function","can/construct/super","can/control","can/control/plugin","can/control/modifier","ui/position","./tip.less",function(){can.Control("ui.Tip",{defaults:{placement:"top",title:void 0,showDelay:100,hideDelay:100,showEvent:"mouseenter",hideEvent:"mouseleave",offset:void 0,collision:"flip",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',elm:void 0},positions:{top:{my:"bottom",at:"top"},left:{my:"right",at:"left"},right:{my:"left",
at:"right"},bottom:{my:"top",at:"bottom"}}},{init:function(){this.options.elm||(this.options.elm=this.element,this.on());var a=this.element.offsetParent();this.tooltip=$(this.options.template).appendTo(a)},update:function(a){a.title&&this.tooltip.find(".tooltip-inner").html(a.title);this._super.apply(this,arguments)},attr:function(a,d){return this.options[d]||a.attr("data-"+d)},show:function(a,d){clearTimeout(this.hideTimeout);this.showTimeout=setTimeout(this.proxy(function(){this.tooltip.find(".tooltip-inner").html(this.attr(a,
"title"));this.tooltip.fadeIn("fast");this.tooltip.css({left:0,top:0});var c=this.constructor.positions[this.options.placement];this.tooltip.position({my:c.my,at:c.at,of:a||d});c=(c=this.tooltip.attr("class").match(/\bui-flipped-\S+/g))?c[0].replace("ui-flipped-",""):this.attr(a,"placement");this.tooltip.removeClass(function(a,c){return(c.match(/\bpos-\S+/g)||[]).join(" ")}).addClass("pos-"+c);(a||this.options.elm).trigger("shown")}),this.options.showDelay)},hide:function(a){clearTimeout(this.showTimeout);
this.hideTimeout=setTimeout(this.proxy(function(){this.tooltip.fadeOut("fast");(a||this.options.elm).trigger("hidden")}),this.options.hideDelay)},move:function(a){this.tooltip.css({left:0,top:0});var d=this.constructor.positions[this.options.placement];this.tooltip.position({my:d.my,at:d.at,of:a})},"{elm} {showEvent}":"show","{elm} {hideEvent}":"hide","{elm} move":"move","{window} resize:debounce(100)":"move"})});steal.executed("ui/tip/tip.js");
(function(a,d){function c(c,d){var f,h;f=c.nodeName.toLowerCase();if("area"===f){f=c.parentNode;h=f.name;if(!c.href||!h||"map"!==f.nodeName.toLowerCase())return!1;f=a("img[usemap=#"+h+"]")[0];return!!f&&b(f)}return(/input|select|textarea|button|object/.test(f)?!c.disabled:"a"===f?c.href||d:d)&&b(c)}function b(b){return a.expr.filters.visible(b)&&!a(b).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,h=/^ui-id-\d+$/;a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,
{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return"number"===typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus();c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;
b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):
b},zIndex:function(b){if(b!==d)return this.css("zIndex",b);if(this.length)for(var b=a(this[0]),c;b.length&&b[0]!==document;){c=b.css("position");if("absolute"===c||"relative"===c||"fixed"===c)if(c=parseInt(b.css("zIndex"),10),!isNaN(c)&&0!==c)return c;b=b.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){h.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?
a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),f=isNaN(d);return(f||0<=d)&&c(b,!f)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight;a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=100===c.offsetHeight;a.support.selectstart=
"onselectstart"in c;b.removeChild(c).style.display="none"}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function f(b,c,d,g){a.each(h,function(){c-=parseFloat(a.css(b,"padding"+this))||0;d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0);g&&(c-=parseFloat(a.css(b,"margin"+this))||0)});return c}var h="Width"===c?["Left","Right"]:["Top","Bottom"],n=c.toLowerCase(),r={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};
a.fn["inner"+c]=function(b){return b===d?r["inner"+c].call(this):this.each(function(){a(this).css(n,f(this,b)+"px")})};a.fn["outer"+c]=function(b,d){return"number"!==typeof b?r["outer"+c].call(this,b):this.each(function(){a(this).css(n,f(this,b,!0,d)+"px")})}}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),function(){var b=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||
[];a.ui.ie=b.length?!0:!1;a.ui.ie6=6===parseFloat(b[1],10)}(),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var f,b=a.ui[b].prototype;for(f in d)b.plugins[f]=b.plugins[f]||[],b.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode&&
11!==a.element[0].parentNode.nodeType)for(b=0;b<d.length;b++)a.options[d[b][0]]&&d[b][1].apply(a.element,c)}},contains:a.contains,hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",f=!1;if(0<b[d])return!0;b[d]=1;f=0<b[d];b[d]=0;return f},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,f,h,r){return a.ui.isOverAxis(b,d,h)&&a.ui.isOverAxis(c,f,r)}}))})(jQuery);
(function(a,d){var c=0,b=Array.prototype.slice,f=a.cleanData;a.cleanData=function(b){for(var c=0,d;null!=(d=b[c]);c++)try{a(d).triggerHandler("remove")}catch(l){}f(b)};a.widget=function(b,c,d){var f,j,n,r,o=b.split(".")[0],b=b.split(".")[1];f=o+"-"+b;d||(d=c,c=a.Widget);a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)};a[o]=a[o]||{};j=a[o][b];n=a[o][b]=function(a,b){if(!this._createWidget)return new n(a,b);arguments.length&&this._createWidget(a,b)};a.extend(n,j,{version:d.version,_proto:a.extend({},
d),_childConstructors:[]});r=new c;r.options=a.widget.extend({},r.options);a.each(d,function(b,f){a.isFunction(f)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,g;this._super=a;this._superApply=d;g=f.apply(this,arguments);this._super=b;this._superApply=c;return g}}())});n.prototype=a.widget.extend(r,{widgetEventPrefix:j?r.widgetEventPrefix:b},d,{constructor:n,
namespace:o,widgetName:b,widgetBaseClass:f,widgetFullName:f});j?(a.each(j._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,n,c._proto)}),delete j._childConstructors):c._childConstructors.push(n);a.widget.bridge(b,n)};a.widget.extend=function(c){for(var f=b.call(arguments,1),i=0,l=f.length,j,n;i<l;i++)for(j in f[i])n=f[i][j],f[i].hasOwnProperty(j)&&n!==d&&(c[j]=a.isPlainObject(n)?a.isPlainObject(c[j])?a.widget.extend({},c[j],n):a.widget.extend({},n):n);return c};
a.widget.bridge=function(c,f){var i=f.prototype.widgetFullName||c;a.fn[c]=function(l){var j="string"===typeof l,n=b.call(arguments,1),r=this,l=!j&&n.length?a.widget.extend.apply(null,[l].concat(n)):l;j?this.each(function(){var b,f=a.data(this,i);if(!f)return a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+l+"'");if(!a.isFunction(f[l])||"_"===l.charAt(0))return a.error("no such method '"+l+"' for "+c+" widget instance");b=f[l].apply(f,n);if(b!==f&&b!==d)return r=
b&&b.jquery?r.pushStack(b.get()):b,!1}):this.each(function(){var b=a.data(this,i);b?b.option(l||{})._init():a.data(this,i,new f(l,this))});return r}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0];this.element=a(d);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,
this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=a();d!==this&&(a.data(d,this.widgetName,this),a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,
_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(b,c){var f=b,l,j,n;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof b)if(f={},l=b.split("."),b=l.shift(),l.length){j=f[b]=a.widget.extend({},this.options[b]);for(n=0;n<l.length-1;n++)j[l[n]]=j[l[n]]||{},j=j[l[n]];b=l.pop();if(c===d)return j[b]===d?null:j[b];j[b]=c}else{if(c===d)return this.options[b]===d?null:this.options[b];f[b]=c}this._setOptions(f);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var f,j=this;"boolean"!==typeof b&&(d=c,c=b,b=!1);d?(c=f=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,f=
this.widget());a.each(d,function(d,i){function o(){if(b||!(!0===j.options.disabled||a(this).hasClass("ui-state-disabled")))return("string"===typeof i?j[i]:i).apply(j,arguments)}"string"!==typeof i&&(o.guid=i.guid=i.guid||o.guid||a.guid++);var q=d.match(/^(\w+)\s*(.*)$/),v=q[1]+j.eventNamespace;(q=q[2])?f.delegate(q,v,o):c.bind(v,o)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===
typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var f,
j=this.options[b],d=d||{},c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(f in b)f in c||(c[f]=b[f]);this.element.trigger(c,d);return!(a.isFunction(j)&&!1===j.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,f,j){"string"===typeof f&&(f={effect:f});var n,r=!f?b:!0===f||"number"===typeof f?c:f.effect||c,f=
f||{};"number"===typeof f&&(f={duration:f});n=!a.isEmptyObject(f);f.complete=j;f.delay&&d.delay(f.delay);if(n&&a.effects&&(a.effects.effect[r]||!1!==a.uiBackCompat&&a.effects[r]))d[b](f);else if(r!==b&&d[r])d[r](f.duration,f.easing,j);else d.queue(function(c){a(this)[b]();j&&j.call(d[0]);c()})}});!1!==a.uiBackCompat&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})})(jQuery);
(function(a){var d=!1;a(document).mouseup(function(){d=!1});a.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(b){if(!0===a.data(b.target,c.widgetName+".preventClickEvent"))return a.removeData(b.target,c.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1});this.started=!1},
_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!d){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var b=this,f=1===c.which,h="string"===typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;if(!f||h||!this._mouseCapture(c))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted))return c.preventDefault(),!0;!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return b._mouseMove(a)};this._mouseUpDelegate=function(a){return b._mouseUp(a)};a(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);c.preventDefault();return d=!0}},_mouseMove:function(c){if(a.ui.ie&&!(9<=document.documentMode)&&!c.button)return this._mouseUp(c);if(this._mouseStarted)return this._mouseDrag(c),c.preventDefault();this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c))?this._mouseDrag(c):this._mouseUp(c));return!this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a){a.widget("ui.slider",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var d,c,b=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h=[];this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+
" ui-widget ui-widget-content ui-corner-all"+(b.disabled?" ui-slider-disabled ui-disabled":""));this.range=a([]);if(b.range){if(!0===b.range&&(b.values||(b.values=[this._valueMin(),this._valueMin()]),b.values.length&&2!==b.values.length))b.values=[b.values[0],b.values[0]];this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))}c=b.values&&b.values.length||1;for(d=f.length;d<c;d++)h.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=f.add(a(h.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).mouseenter(function(){b.disabled||a(this).addClass("ui-state-hover")}).mouseleave(function(){a(this).removeClass("ui-state-hover")}).focus(function(){b.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")});
this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)});this._on(this.handles,{keydown:function(b){var c,d,f,h=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),c=this._start(b,h),!1===
c))return}f=this.options.step;c=this.options.values&&this.options.values.length?d=this.values(h):d=this.value();switch(b.keyCode){case a.ui.keyCode.HOME:d=this._valueMin();break;case a.ui.keyCode.END:d=this._valueMax();break;case a.ui.keyCode.PAGE_UP:d=this._trimAlignValue(c+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(c-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(c===this._valueMax())return;d=this._trimAlignValue(c+
f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c===this._valueMin())return;d=this._trimAlignValue(c-f)}this._slide(b,h,d)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}});this._refreshValue();this._animateOff=!1},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(d){var c,b,f,h,g,i=this;g=this.options;if(g.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();c=this._normValueFromMouse({x:d.pageX,y:d.pageY});b=this._valueMax()-this._valueMin()+1;this.handles.each(function(d){var g=Math.abs(c-i.values(d));b>g&&(b=g,f=a(this),h=d)});!0===g.range&&this.values(1)===g.min&&(h+=1,f=a(this.handles[h]));if(!1===this._start(d,h))return!1;
this._mouseSliding=!0;this._handleIndex=h;f.addClass("ui-state-active").focus();g=f.offset();this._clickOffset=!a(d.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:d.pageX-g.left-f.width()/2,top:d.pageY-g.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(d,h,c);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var c=
this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,c);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var c;"horizontal"===this.orientation?(c=this.elementSize.width,
a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(c=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));c=a/c;1<c&&(c=1);0>c&&(c=0);"vertical"===this.orientation&&(c=1-c);a=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+c*a)},_start:function(a,c){var b={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(c),b.values=this.values());return this._trigger("start",
a,b)},_slide:function(a,c,b){var f;if(this.options.values&&this.options.values.length){f=this.values(c?0:1);if(2===this.options.values.length&&!0===this.options.range&&(0===c&&b>f||1===c&&b<f))b=f;b!==this.values(c)&&(f=this.values(),f[c]=b,a=this._trigger("slide",a,{handle:this.handles[c],value:b,values:f}),this.values(c?0:1),!1!==a&&this.values(c,b,!0))}else b!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[c],value:b}),!1!==a&&this.value(b))},_stop:function(a,c){var b={handle:this.handles[c],
value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(c),b.values=this.values());this._trigger("stop",a,b)},_change:function(a,c){if(!this._keySliding&&!this._mouseSliding){var b={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(c),b.values=this.values());this._trigger("change",a,b)}},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,
0);else return this._value()},values:function(d,c){var b,f,h;if(1<arguments.length)this.options.values[d]=this._trimAlignValue(c),this._refreshValue(),this._change(null,d);else if(arguments.length)if(a.isArray(arguments[0])){b=this.options.values;f=arguments[0];for(h=0;h<b.length;h+=1)b[h]=this._trimAlignValue(f[h]),this._change(null,h);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(d):this.value();else return this._values()},_setOption:function(d,c){var b,
f=0;a.isArray(this.options.values)&&(f=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(d){case "disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=0;b<f;b+=1)this._change(null,b);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var c,b;if(arguments.length)return c=this.options.values[a],this._trimAlignValue(c);
c=this.options.values.slice();for(b=0;b<c.length;b+=1)c[b]=this._trimAlignValue(c[b]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var c=0<this.options.step?this.options.step:1,b=(a-this._valueMin())%c,a=a-b;2*Math.abs(b)>=c&&(a+=0<b?c:-c);return parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var d,c,b,f,h,g=this.options.range,
i=this.options,l=this,j=!this._animateOff?i.animate:!1,n={};if(this.options.values&&this.options.values.length)this.handles.each(function(b){c=100*((l.values(b)-l._valueMin())/(l._valueMax()-l._valueMin()));n["horizontal"===l.orientation?"left":"bottom"]=c+"%";a(this).stop(1,1)[j?"animate":"css"](n,i.animate);if(!0===l.options.range)if("horizontal"===l.orientation){if(0===b)l.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},i.animate);if(1===b)l.range[j?"animate":"css"]({width:c-d+"%"},{queue:!1,duration:i.animate})}else{if(0===
b)l.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},i.animate);if(1===b)l.range[j?"animate":"css"]({height:c-d+"%"},{queue:!1,duration:i.animate})}d=c});else{b=this.value();f=this._valueMin();h=this._valueMax();c=h!==f?100*((b-f)/(h-f)):0;n["horizontal"===this.orientation?"left":"bottom"]=c+"%";this.handle.stop(1,1)[j?"animate":"css"](n,i.animate);if("min"===g&&"horizontal"===this.orientation)this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},i.animate);if("max"===g&&"horizontal"===this.orientation)this.range[j?
"animate":"css"]({width:100-c+"%"},{queue:!1,duration:i.animate});if("min"===g&&"vertical"===this.orientation)this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},i.animate);if("max"===g&&"vertical"===this.orientation)this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:i.animate})}}})})(jQuery);steal.executed("ui/slider/slider.js");
steal("jquery","./json",function(a){jQuery.cookie=function(a,c,b){if("undefined"!=typeof c){b=b||{};null===c&&(c="",b.expires=-1);"object"==typeof c&&jQuery.toJSON&&(c=jQuery.toJSON(c));var f="";if(b.expires&&("number"==typeof b.expires||b.expires.toUTCString))"number"==typeof b.expires?(f=new Date,f.setTime(f.getTime()+864E5*b.expires)):f=b.expires,f="; expires="+f.toUTCString();var h=b.path?"; path="+b.path:"",g=b.domain?"; domain="+b.domain:"",b=b.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(c),
f,h,g,b].join("")}else{c=null;if(document.cookie&&""!=document.cookie){b=document.cookie.split(";");for(f=0;f<b.length;f++)if(h=jQuery.trim(b[f]),h.substring(0,a.length+1)==a+"="){c=decodeURIComponent(h.substring(a.length+1));break}}if(jQuery.evalJSON&&c&&c.match(/^\s*\{/))try{c=jQuery.evalJSON(c)}catch(i){}return c}};return a});steal.executed("util/cookie.js");
steal("jquery",function(a){a.toJSON=function(b,c,d,g){if("object"==typeof JSON&&JSON.stringify)return JSON.stringify(b,c,d);!g&&a.isFunction(c)&&(b=c("",b));"number"==typeof d&&(d="          ".substring(0,d));var d="string"==typeof d?d.substring(0,10):"",i=typeof b;if(null===b)return"null";if(!("undefined"==i||"function"==i)){if("number"==i||"boolean"==i)return b+"";if("string"==i)return a.quoteString(b);if("object"==i){if("function"==typeof b.toJSON)return a.toJSON(b.toJSON(),c,d,!0);if(b.constructor===
Date){d=b.getUTCMonth()+1;10>d&&(d="0"+d);g=b.getUTCDate();10>g&&(g="0"+g);var l=b.getUTCFullYear(),j=b.getUTCHours();10>j&&(j="0"+j);var n=b.getUTCMinutes();10>n&&(n="0"+n);var r=b.getUTCSeconds();10>r&&(r="0"+r);b=b.getUTCMilliseconds();100>b&&(b="0"+b);10>b&&(b="0"+b);return'"'+l+"-"+d+"-"+g+"T"+j+":"+n+":"+r+"."+b+'Z"'}g=a.isFunction(c)?function(a,b){return c(a,b)}:function(a,b){return b};l=d?"\n":"";r=d?" ":"";if(b.constructor===Array){j=[];for(n=0;n<b.length;n++)j.push((a.toJSON(g(n,b[n]),c,
d,!0)||"null").replace(/^/gm,d));return"["+l+j.join(","+l)+l+"]"}var o=[];a.isArray(c)&&(j=a.map(c,function(a){return"string"==typeof a||"number"==typeof a?a+"":null}));for(n in b){var q,i=typeof n;if(!(j&&-1==a.inArray(n+"",j))){if("number"==i)i='"'+n+'"';else if("string"==i)i=a.quoteString(n);else continue;q=a.toJSON(g(n,b[n]),c,d,!0);"undefined"!=typeof q&&o.push((i+":"+r+q).replace(/^/gm,d))}}return"{"+l+o.join(","+l)+l+"}"}}};a.evalJSON=function(a){return"object"==typeof JSON&&JSON.parse?JSON.parse(a):
eval("("+a+")")};a.secureEvalJSON=function(a){if("object"==typeof JSON&&JSON.parse)return JSON.parse(a);var c;c=a.replace(/\\["\\\/bfnrtu]/g,"@");c=c.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");c=c.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(c))return eval("("+a+")");throw new SyntaxError("Error parsing JSON, source is not valid.");};a.quoteString=function(a){return a.match(d)?'"'+a.replace(d,function(a){var b=c[a];if("string"===typeof b)return b;
b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+a+'"'};var d=/["\\\x00-\x1f\x7f-\x9f]/g,c={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}});steal.executed("util/json.js");
steal("can/view/ejs",function(a){return a.view.preload("app_views_login_ejs",a.EJS(function(a,c){with(c)with(a){var b=[];b.push('<form id="login" name="login" autocomplete="off">\n  <fieldset>\n    <ul>\n      <li>\n        <input type="email" class=\'email\' name="name" value="" placeholder="Email" />\n      </li>\n      <li>\n        <input type="password" name="password" class="password" value="" placeholder="Password" />\n      </li>\n      <li class="buttons">\n        <button type="submit" class="btn login-btn">Login</button>\n      </li>\n    </ul>\n  </fieldset>\n</form>\n');return b.join("")}}))});
steal.executed("app/views/login.ejs");
steal("can/view/ejs",function(a){return a.view.preload("app_views_signup_ejs",a.EJS(function(d,c){with(c)with(d){var b=[];b.push('<form id="signup_form" name="signup" autocomplete="off" action="/user" method="POST">\n  <input type="hidden" name="mobile_signup" value="1" />\n  <input type="hidden" name="locale" value="');b.push(a.view.txt(1,"input","value",this,function(){return locale}));b.push('" ',a.view.pending(),"/>");b.push('\n  <fieldset>\n    <ul>\n      <li>\n        <input class=\'start\' type="text" placeholder="');b.push(a.view.txt(1,
"input","placeholder",this,function(){return message("firstName")}));b.push('" name="first_name"',a.view.pending(),"/>");b.push('\n      </li>\n      <li>\n        <input type="text" placeholder="');b.push(a.view.txt(1,"input","placeholder",this,function(){return message("lastName")}));b.push('" name="last_name"',a.view.pending(),"/>");b.push('\n      </li>\n      <li>\n        <input type="email" placeholder="');b.push(a.view.txt(1,"input","placeholder",this,function(){return message("emailInputPlaceholder")}));
b.push('" name="email"',a.view.pending(),"/>");b.push('\n      </li>\n      <li class="last">\n        <input type="password" placeholder="');b.push(a.view.txt(1,"input","placeholder",this,function(){return message("passwordInputPlaceholder")}));b.push('" name="password"',a.view.pending(),"/>");b.push('<br/>\n        <small class="description">');b.push(a.view.txt(1,"small",0,this,function(){return message("passwordHint")}));b.push('</small>\n      </li>\n      <li class="checkbox">\n        <label>\n          <span> ');
b.push(a.view.txt(1,"span",0,this,function(){return message("iAgree")}));b.push("\n            <a target='_blank' href=\"");b.push(a.view.txt(1,"a","href",this,function(){return termsUrl}));b.push('"',a.view.pending(),">");b.push(" ");b.push(a.view.txt(1,"a",0,this,function(){return message("mindjetService")}));b.push(" </a>,\n            <a target='_blank' href=\"");b.push(a.view.txt(1,"a","href",this,function(){return privacyUrl}));b.push('"',a.view.pending(),">");b.push(a.view.txt(1,"a",0,this,
function(){return message("mindjetPrivacy")}));b.push("</a>, &amp;\n            <a target='_blank' href=\"");b.push(a.view.txt(1,"a","href",this,function(){return conditionsUrl}));b.push('"',a.view.pending(),">");b.push(a.view.txt(1,"a",0,this,function(){return message("mindjetConditions")}));b.push('</a>.\n          </span>\n        </label>\n      </li>\n      <li>\n        <div class="buttons">\n          <button id="signup_submit_button" class="big-button">');b.push(a.view.txt(1,"button",0,this,
function(){return message("signUpButton")}));b.push("</button>\n        </div>\n      </li>\n    </ul>\n  </fieldset>\n</form>");return b.join("")}}))});steal.executed("app/views/signup.ejs");
steal("can/view/ejs",function(a){return a.view.preload("app_views_task_ejs",a.EJS(function(d,c){with(c)with(d){var b=[];b.push('<form>\n  <legend class="clearfix">\n    <div class="profile-pic" style="background-image:url(');b.push(a.view.txt(0,"div","style",this,function(){return task.owner.pictures.size_32_px}));b.push(');"',a.view.pending(),">");b.push('</div>\n    <span class="title-span" id="title" ');b.push(a.view.txt(0,"span",1,this,function(){return function(b){a.$(b).ui_textinput()}}));b.push("",
a.view.pending(),">");b.push(a.view.txt(0,"span",0,this,function(){return this.task.name}));b.push('</span>\n  </legend>\n  <div class="clearfix">\n    <div class="btn-group task-buttons left">\n  \t <button class="btn status" id="closePreview" type="button">\n  \t \t');b.push(a.view.txt(0,"button",0,this,function(){return"finished"==task.attr("state")?"Finished":"Finish"}));b.push('\n  \t </button>\n     <button class="btn assign" type="button">Assign</button>\n    </div>\n    <div class="task-score right badge" style="background-color:');
b.push(a.view.txt(0,"div","style",this,function(){return this.task.scoreColor()}));b.push('" data-title="Task Score" data-content="');b.push(a.view.txt(0,"div","data-content",this,function(){return a.view.render("//app/views/score_summary",task.score_summary)}));b.push('" ');b.push(a.view.txt(0,"div",1,this,function(){return function(b){a.$(b).ui_popover({parent:parentDom,placement:"left"})}}));b.push("",a.view.pending(),">");b.push(a.view.txt(0,"div",0,this,function(){return this.task.score}));b.push('</div>\n  </div>\n\t<label for="assigned">Followers:</label>\n\t<ul class="followers clearfix">\n\t');
b.push(a.view.txt(0,"ul",0,this,function(){var b=[];this.task.followers.attr("length")&&(b.push("\n\t    "),b.push(a.view.txt(0,"ul",0,this,function(){var b=[];this.task.followers.length?(b.push("\n\t      "),b.push(a.view.txt(0,"ul",0,this,function(){for(var b=[],c=0;c<this.task.followers.length;c++){var d=this.task.followers[c];b.push('\n\t\t\t    <li class="follower" ');b.push(a.view.txt(0,"li",1,this,function(){return d}));b.push("",a.view.pending(),">");b.push('<a href="#" title="');b.push(a.view.txt(0,
"a","title",this,function(){return d.name}));b.push('" style="background-image:url(');b.push(a.view.txt(0,"a","style",this,function(){return d.pictures.size_24_px}));b.push(')"',a.view.pending(),">");b.push('<button type="button" class="close remove-follower">\u00d7</button></a></li>\n\t      ')}return b.join("")})),b.push("\n\t    ")):b.push('\n\t      <li class="follower no-followers">No followers</li>\n\t    ');return b.join("")})),b.push("\n    "));return b.join("")}));b.push('\n\t\t<li class="add">\n\t\t\t<div class="input-append">\n\t\t\t\t<input type="text" id="followers" ');
b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).ui_picker({items:task.followerableUsers(),parent:parentDom})}}));b.push("",a.view.pending(),">");b.push('\n\t\t\t\t<button class="btn btn-small add-btn" title="Add" type="button">\n\t\t\t\t\t<i class="icon-add"></i>\n        \t\t</button>\n        \t</div>\n    \t</li>\n\t</ul>\n\t<label for="assigned">Assigned to:</label>\n\t<input type="text" id="assigned" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).ui_picker({items:task.assignableUsers(),
parent:parentDom,selected:task.owner})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="start_date">Start date:</label>\n  <input type="text" value="');b.push(a.view.txt(0,"input","value",this,function(){return this.task.start_date?(new Date(this.task.start_date)).format():""}));b.push('" autocomplete="off" id="start_date" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).datepicker({parent:parentDom,format:"mm/dd/yyyy"})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="due_date">Due date:</label>\n  <input type="text" value="');
b.push(a.view.txt(0,"input","value",this,function(){return this.task.target_date?(new Date(this.task.target_date)).format():""}));b.push('" autocomplete="off" id="due_date" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).datepicker({parent:parentDom,format:"mm/dd/yyyy"})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="progress">Progress:</label>\n   <div id="status" class="progress">\n      <div id="progress"></div>\n    </div>\n\t<label for="project">Project:</label>\n\t<input type="text" id="project" ');
b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).ui_typeahead({parent:parentDom,items:user.assignableProjects(),selected:task.project})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="created_by">Created:</label>\n\t<span id="created_by">');b.push(a.view.txt(0,"span",0,this,function(){return this.task.creator.name}));b.push(' <span class="created-date">');b.push(a.view.txt(0,"span",0,this,function(){return(new Date(this.task.creator.created_at)).toString()}));b.push('</span></span>\n\t<input class="comment" type="text" id="comment" placeholder="Add Comment">\n\t<ul class="comments">\n\t\t');
b.push(a.view.txt(0,"ul",0,this,function(){var b=[];this.task.comments.attr("length")&&(b.push("\n\t\t\t"),b.push(a.view.txt(0,"ul",0,this,function(){for(var b=[],c=0;c<this.task.comments.length;c++){var d=this.task.comments[c];b.push('\n\t\t\t\t<li>\n\t\t\t\t\t<span class="author">');b.push(a.view.txt(0,"span",0,this,function(){return d.user.name}));b.push('</span>\n\t\t\t\t\t<span class="text">');b.push(a.view.txt(0,"span",0,this,function(){return d.text}));b.push("</span>\n\t\t\t\t</li>\n\t\t\t")}return b.join("")})),
b.push("\n\t\t"));return b.join("")}));b.push('\n\t</ul>\n\t<a class="logo" href="http://vision.mindjet.com"><img src="https://raw.github.com/amcdaniel2/opensocial/master/lib/app/images/mj_logo.png" alt="Mindjet" /></a>\n</form>\n');return b.join("")}}))});steal.executed("app/views/task.ejs");
steal("can/view/ejs",function(a){return a.view.preload("app_views_score_summary_ejs",a.EJS(function(d,c){with(c)with(d){var b=[];b.push(a.view.txt(0,"undefined",0,this,function(){var b=[];this.followers&&(b.push("\n\tFollowers: "),b.push(a.view.txt(0,"",0,this,function(){return this.followers.score})),b.push("\n"));return b.join("")}));b.push("<br/>\n");b.push(a.view.txt(0,"undefined",0,this,function(){var b=[];this.hotness&&(b.push("\n\tHotness: "),b.push(a.view.txt(0,"undefined",0,this,function(){return this.hotness.score})),
b.push("\n"));return b.join("")}));return b.join("")}}))});steal.executed("app/views/score_summary.ejs");
steal("can/model","can/model/list").then("app/models/task.js","app/models/project.js","app/models/user/user.js","app/models/following.js","app/models/comment.js").then("app/models/oauth.js","./models/helpers/viewHelpers.js",function(){can.extend(Cohuman.Models.Task.prototype,{assignableUsers:function(){var a=[],d=function(c,b){can.each(c,function(c){$.grep(a,function(a){return a.id===c.id}).length||(c.group=b,a.push(c))})};d(this.user.connections.favorited(),"Favorites");d(this.followers,"On this project");
d(this.project.members,"On this project");return a},followerableUsers:function(){var a=$.grep(this.project.members,this.proxy(function(a){return-1===$.inArray(a,this.followers)}));can.each(this.user.connections,this.proxy(function(d){-1===$.inArray(d,this.followers)&&a.push(d)}));return a}});can.extend(Cohuman.Models.User.prototype,{assignableProjects:function(){return $.map(this.projects,function(a){return a})}})});steal.executed("app/models.js");
steal("can/util","can/observe",function(a){var d=function(b,c,d){var f=new a.Deferred;b.then(function(){var b=a.makeArray(arguments);b[0]=c[d](b[0]);f.resolveWith(f,b)},function(){f.rejectWith(this,arguments)});"function"===typeof b.abort&&(f.abort=function(){return b.abort()});return f},c=0,b=/change.observe\d+/,f=function(b){a.Observe.__reading&&a.Observe.__reading(b,b.constructor.id);return b.__get(b.constructor.id)},h=function(a,b,c,d,g){var h;h=[a.serialize()];var i=a.constructor,l;"destroy"==
b&&h.shift();"create"!==b&&h.unshift(f(a));l=i[b].apply(i,h);h=l.pipe(function(c){a[g||b+"d"](c,l);return a});l.abort&&(h.abort=function(){l.abort()});h.then(c,d);return h},g={create:{url:"_shortName",type:"post"},update:{data:function(b,c){var c=c||{},d=this.id;c[d]&&c[d]!==b&&(c["new"+a.capitalize(b)]=c[d],delete c[d]);c[d]=b;return c},type:"put"},destroy:{type:"delete",data:function(a){var b={};b.id=b[this.id]=a;return b}},findAll:{url:"_shortName"},findOne:{}},i=function(b,c){return function(d){var d=
b.data?b.data.apply(this,arguments):d,f=c||this[b.url||"_url"],g=d,h=b.type||"get",i={};"string"==typeof f?(f=f.split(/\s/),i.url=f.pop(),f.length&&(i.type=f.pop())):a.extend(i,f);i.data="object"==typeof g&&!a.isArray(g)?a.extend(i.data||{},g):g;i.url=a.sub(i.url,i.data,!0);return a.ajax(a.extend({type:h||"post",dataType:"json",success:void 0,error:void 0},i))}};a.Model=a.Observe({fullName:"can.Model",setup:function(b){this.store={};a.Observe.setup.apply(this,arguments);if(a.Model){this.List=l({Observe:this},
{});var d=this,f=a.proxy(this._clean,d);a.each(g,function(c,g){a.isFunction(d[g])||(d[g]=i(c,d[g]));if(d["make"+a.capitalize(g)]){var h=d["make"+a.capitalize(g)](d[g]);a.Construct._overwrite(d,b,g,function(){this._reqs++;var a=h.apply(this,arguments),b=a.then(f,f);b.abort=a.abort;return b})}});if("can.Model"==d.fullName||!d.fullName)d.fullName="Model"+ ++c;this._reqs=0;this._url=this._shortName+"/{"+this.id+"}"}},_ajax:i,_clean:function(a){this._reqs--;if(!this._reqs)for(var b in this.store)this.store[b]._bindings||
delete this.store[b];return a},models:function(b,c){if(b){if(b instanceof this.List)return b;var d=this,f=[],g=c instanceof a.Observe.List?c:new (d.List||l),h=a.isArray(b),i=b instanceof l,i=h?b:i?b.serialize():b.data;0<g.length&&g.splice(0);a.each(i,function(a){f.push(d.model(a))});g.push.apply(g,f);h||a.each(b,function(a,b){"data"!==b&&g.attr(b,a)});return g}},model:function(a){if(a){a instanceof this&&(a=a.serialize());var b=a[this.id],b=b&&this.store[b]?this.store[b].attr(a):new this(a);this._reqs&&
(this.store[a[this.id]]=b);return b}}},{isNew:function(){var a=f(this);return!(a||0===a)},save:function(a,b){return h(this,this.isNew()?"create":"update",a,b)},destroy:function(a,b){return h(this,"destroy",a,b,"destroyed")},bind:function(c){b.test(c)||(this._bindings||(this.constructor.store[f(this)]=this,this._bindings=0),this._bindings++);return a.Observe.prototype.bind.apply(this,arguments)},unbind:function(c){b.test(c)||(this._bindings--,this._bindings||delete this.constructor.store[f(this)]);
return a.Observe.prototype.unbind.apply(this,arguments)},___set:function(b,c){a.Observe.prototype.___set.call(this,b,c);b===this.constructor.id&&this._bindings&&(this.constructor.store[f(this)]=this)}});a.each({makeFindAll:"models",makeFindOne:"model"},function(b,c){a.Model[c]=function(a){return function(c,f,g){c=d(a.call(this,c),this,b);c.then(f,g);return c}}});a.each(["created","updated","destroyed"],function(b){a.Model.prototype[b]=function(c){var d=this.constructor;c&&"object"==typeof c&&this.attr(c.attr?
c.attr():c);a.trigger(this,b);a.trigger(this,"change",b);a.trigger(d,b,this)}});var l=a.Model.List=a.Observe.List({setup:function(){a.Observe.List.prototype.setup.apply(this,arguments);var b=this;this.bind("change",function(a,c){if(/\w+\.destroyed/.test(c)){var d=b.indexOf(a.target);-1!=d&&b.splice(d,1)}})}});return a.Model});steal.executed("can/model/model.js");
steal("can/util","can/model","can/observe/elements",function(a){var d=function(b){return b[0]&&a.isArray(b[0])?b[0]:b[0]instanceof a.Model.List?a.makeArray(b[0]):a.makeArray(b)},c=function(a){return a.__get(a.constructor.id)},b=a.Model._ajax,f={update:{data:function(a,b){return{ids:a,attrs:b}},type:"put"},destroy:{type:"delete"}},h=a.Model.List.setup;a.Model.List.setup=function(){h.apply(this,arguments);var c=this;a.each(f,function(d,f){a.isFunction(c[f])||(c[f]=b(d,c[f]))})};a.extend(a.Model.List.prototype,
{slice:function(){return new this.constructor(Array.prototype.slice.apply(this,arguments))},match:function(a,b){return this.grep(function(c){return c[a]==b})},grep:function(a,b){return new this.constructor($.grep(this,a,b))},get:function(){if(!this.length)return new this.constructor([]);for(var a=[],b=RegExp(this[0].constructor._fullName+"_([^ ]+)"),f,h,n=d(arguments),r=0;r<n.length;r++)(h=n[r].nodeName&&(f=n[r].className.match(b))?this.grep(function(a){return c(a)===f[1]})[0]:this.grep(function(a){return c(a)===
n[r]})[0])&&a.push(h);return new this.constructor(a)},remove:function(a){if(!this.length)return[];for(var b=[],f=RegExp(this[0].constructor._fullName+"_([^ ]+)"),h,a=d(arguments).slice(0),n=0;n<this.length;){for(var r=this[n],o=!1,q=0;q<a.length;q++){var v=a[q].nodeName&&(h=a[q].className.match(f))&&h[1]||("string"==typeof a[q]||"number"==typeof a[q]?a[q]:c(a[q]));if(c(r)==v){b.push.apply(b,this.splice(n,1));a.splice(q,1);o=!0;break}}o||n++}b=new this.constructor(b);b.length&&$([this]).trigger("remove",
[b]);return b},elements:function(a){return $(this.map(function(a){return"."+a.identity()}).join(","),a)},model:function(){return this.constructor.namespace},findAll:function(a,b,c){var d=this;this.model().findAll(a,function(a){d.push.apply(d,a);b&&b(d)},c)},destroy:function(b,d){var f=this.map(c),h=a.makeArray(this),n=this.constructor;f.length?this.constructor.destroy(f).then(function(){a.each(h,function(a){a.destroyed()});b&&b(h)},d):b&&b(new n(h));return this},update:function(b,d,f){var h=this.map(c),
n=this.slice(0,this.length);h.length?this.constructor.update(h,b).then(function(c){var f=$.extend(b,c||{});a.each(n,function(a){a.updated(f)});d&&d(n)},f):d&&d(this);return this},_updateAttrs:function(b,c){function d(a){return a.attr?a.attr(q):a[q]}for(var f=b.length,h,r,o=[],q=this.constructor.id,v=0;v<f;v++)h=b[v],r=null,a.Observe.canMakeObserve(h)&&d(h)&&((r=this.get(d(h))[0])?r.attr(h,c):o.push(h));o.length&&(this.constructor.namespace&&(o=a.makeArray(this.constructor.namespace.models(o))),this.splice.apply(this,
[this.length,0].concat(o)));if(c){var f=this.map(function(a){return d(a)}),x=a.map(b,function(a){return d(a)});a.each(f,$.proxy(function(b){~a.inArray(b,x)||this.remove(b)},this))}}});a.each(["map"],function(b){a.Model.List.prototype[b]=function(a,c){return $[b](this,a,c)}});return a.Model.List});steal.executed("can/model/list/list.js");
steal("./database","can/observe/compute","can/observe/sort","./comment","./attachment",function(){var a=function(a,c,b){this.start=a;this.end=c;this.hexColor=b};a.prototype={contains:function(a){return a>=this.start&&a<=this.end},cssClass:function(){return 40==this.start?"score-40":"score-"+this.start+"-"+this.end}};a.ranges=[new a(0,3,"#13596e"),new a(4,6,"#1c657c"),new a(7,10,"#267289"),new a(11,13,"#2a768e"),new a(14,15,"#32819a"),new a(16,20,"#3787a0"),new a(21,39,"#3d90aa"),new a(40,1E9,"#4397b1")];
Cohuman.Models.Database("Cohuman.Models.Task",{modelFromRecentActivity:function(a){delete a.progress;delete a.state;return this.model(a)},model:function(a){return a.owner instanceof Cohuman.Models.User||a instanceof Cohuman.Models.Task?a:can.Model.model.call(this,a)},models:function(a){var c;a?a.tasks?(0<=a.count&&(c=a.count),a=a.tasks):a.project&&a.project.tasks&&(a.project.task_count&&(c=a.task_count),a=a.project.tasks):a=[];a=can.Model.models.call(this,a);a.attr("true_count",c);return a},create:function(a){a.state=
"proposed";var c=new can.Deferred,b=Cohuman.Models.Task.model(a);b.attr("score",b.initialScore());c.resolve(b);$.ajax({type:"post",url:"api://task",data:{name:a.name,owner_id:a.owner_id,project_id:a.project_id},success:function(a){a.task&&(b.attr(a.task),delete Cohuman.Models.Task.store[void 0])},failure:function(){}});return c},findOne:function(a,c){var c=$.extend({cache:!0},c),b=Cohuman.Models.Task.model({id:a.id}),f=new can.Deferred;c.cache&&new Date-b.loadedFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?
f.resolve(b):$.ajax({url:"api://task/"+a.id,success:function(a){a=a.task;a.comments&&Cohuman.config.mobile&&a.comments.reverse();delete a.blocking;delete a.blocked_by;a.loadedFromServerAt=new Date;a.loadedAttachmentsFromServerAt=new Date;b.attr(a);f.resolve(b)}}).fail(function(a){f.reject($.parseJSON(a.responseText).error)});return f},findAll:function(a){a.connection_id&&(a.owner_id=a.connection_id,delete a.connection_id);a.user_id&&(a.owner_id=a.user_id,delete a.user_id);a.state||(a.state="active");
return $.ajax({url:"api://tasks",data:a})},attributes:{id:"number",attachments:"Cohuman.Models.Attachment.models",comments:"Cohuman.Models.Comment.models",followers:"Cohuman.Models.User.models",owner:"Cohuman.Models.User.model",project:"Cohuman.Models.Project.model",progress:"progress",creator:"Cohuman.Models.User.model"},convert:{progress:function(a){var c=0,b=[0,10,25,35,50,65,75,90,100,100];$.each(b,function(f,h){if(0>=a-Math.floor((b[f+1]+h)/2))return c=h,!1});return c}},findForWeb:function(a){requester.request("/task/"+
a.taskId,{httpMethod:"GET",params:{format:"json"},success:function(a){Cohuman.Models.Task.model(a.task)},bindCallbacksTo:this})}},{init:function(){"undefined"==typeof Workspace&&this.instantiateScore();this.followers||this.silentAttr("followers",new Cohuman.Models.User.List);void 0!==this.project_id&&!this.project&&this.silentAttr("project",Cohuman.Models.Project.model({id:this.project_id}));void 0!==this.owner_id&&!this.owner&&this.silentAttr("owner",Cohuman.Models.User.model({id:this.owner_id}));
this._super()},setOwner:function(a){var c=this.attr("owner.tasks");c&&(this.attr("owner.task_count",this.attr("owner.task_count")-1),this.attr("owner.tasks.true_count",this.attr("owner.tasks.true_count")-1),c.splice(c.indexOf(this),1));if(!isNaN(a.id)&&0<=a.id)return c=Cohuman.Models.User.model({id:a.id}),this.attr("owner",c),c.tasks&&(this.attr("owner.task_count",this.attr("owner.task_count")+1),this.attr("owner.tasks.true_count",this.attr("owner.tasks.true_count")+1),c.tasks.insertTask(this)),this.update({owner_id:a.id});
if(a.addresses)return this.attr("owner",Cohuman.Models.User.model({name:a.addresses[0]})),this.update({addresses:a.addresses})},setProject:function(a){var c=this.attr("project.tasks");c&&(this.attr("project.task_count",this.attr("project.task_count")-1),c.splice(c.indexOf(this),1));c=Cohuman.Models.Project.model(0==a.id?{id:0,name:"None"}:{id:a.id});this.attr("project",c);0!=c.id&&c.tasks&&(this.attr("project.task_count",this.attr("project.task_count")+1),c.tasks.insertTask(this));return this.update({project_id:a.id})},
instantiateScore:function(){this.score_summary&&can.each(this.score_summary,function(a,c){$.isPlainObject(a)&&(this.score_summary[c]=a.score)},this)},scoreColor:function(){var d=this.attr("score"),c;$.each(a.ranges,function(a,f){f.contains(d)&&(c=f.hexColor)});return c},scoreClass:function(){var d=this.attr("score"),c;$.each(a.ranges,function(a,f){f.contains(d)&&(c=f.cssClass())});return c},canBeFinished:function(){return-1!=["active","proposed","snoozing"].indexOf(this.attr("state"))},cssClasses:function(){return $.grep(["task",
"closed",this.attr("state"),this.overdueClass(),this.provisionalClass()],function(a){return a}).join(" ")},initialScore:function(){return 5+this.followers.length},scoreTextClass:function(){return this.scoreClass()+"-text"},overdueClass:function(){return this.attr("target_date")&&new Date(this.attr("target_date"))<new Date?"overdue":""},provisionalClass:function(){return this.attr("provisional_id")?"provisional":""},update:function(a){this.attr(a);return $.ajax({type:"put",url:"api://task/"+this.id,
data:a,success:$.proxy(function(c){if(c.task&&("finished"==c.task.state&&(delete c.task.owner_position,delete c.task.project_position,delete c.task.score),this.alreadyUpdating&&delete c.task.progress,this.attr({owner_position:c.task.owner_position,project_position:c.task.project_position,score:c.task.score}),a.addresses))this.attr("owner",c.task.owner),this.attr("followers").pushNew([this.attr("owner")]),this.constructor.addInvitedToConnections(a.addresses,new Cohuman.Models.User.List([this.attr("owner")]))},
this),failure:function(){}})},setTempPosition:function(a,c){var b=c.attr(Cohuman.config.mobile?"tasks":"activeTasks").sorted(c.sortField()),f=b.indexOf(this)-a,h;0<a?(h=0==f?null:b[f-1],f=b[f]):(h=b[f],f=f==b.length-1?null:b[f+1]);b=h?h.attr(c.sortField()):b[0].attr(c.sortField())-1;h=f?f.attr(c.sortField()):b+1;this.attr(c.sortField(),(b+h)/2)},position:function(a,c){this.setTempPosition(a,c);return $.ajax({type:"put",url:"api://task/"+this.id+"/position",data:{object:c.constructor.shortName.toLowerCase(),
object_id:c.id,delta:a}})},destroy:function(){var a=this.id;this.destroyed();$.ajax({type:"put",url:"api://task/"+a,data:{state:"deleted"},success:$.proxy(function(){},this),failure:function(){}})}});Cohuman.Models.Database.List("Cohuman.Models.Task.List",{},{init:function(){this.silentAttr("true_count",this.length)},sorted:new can.compute(function(a){can.isArray(a)||(a=[{field:a}]);var c=Array.prototype.slice.call(this,0);c.sort(this.proxy(function(b,c){var h=0;can.each(a,function(a){h=b[a.field]-
c[a.field];h=b[a.field]<c[a.field]?-1:b[a.field]>c[a.field]?1:0;"desc"==a.order&&(h*=-1);if(0!=h)return!1});return h}));[].splice.apply(this,[0,this.attr("length")].concat(c));return this}),scrub:function(a){var c=[],b=a.listObject instanceof Cohuman.Models.User?"owner.id":"project.id";this.each(function(f,h){("finished"==f.attr("state")||"tasks"==a.listName&&f.attr(b)!=a.listObject.attr("id"))&&c.push(h)},this);$.each(c.reverse(),this.proxy(function(a,b){this.splice(b,1)}));return c.length},insertTask:function(a,
c){var b=this.sorted(c),f=!1;$.each(b,function(b,g){g.score<=a.score&&(f||(a.silentAttr(c,g[c]),f=!0),g.silentAttr(c,g[c]+1))});this.push(a)},previous:function(a){return this[this.indexOf(a)-1]||!1},next:function(a){return this[this.indexOf(a)+1]||!1},proposed:new can.compute(function(){var a=0;this.attr("length");this.each(function(c){a+="proposed"==c.attr("state")?1:0});return a})})});steal.executed("app/models/task.js");
steal("can/construct/proxy","can/construct/super","can/model","can/model/list","can/observe/attributes",function(a){a.Model("Cohuman.Models.Database",{CACHE_THROTTLE:6E4,provisionalId:function(){for(var a="",c=0;8>c;c++)var b=Math.floor(51*Math.random()),a=a+"ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".substring(b,b+1);return a},addInvitedToConnections:function(a,c){a&&($.isArray(a)||(a=[a]),$.each(c,function(b,c){-1!=a.indexOf(c.email_address)&&(c=Cohuman.Models.User.model(c),c.favorite=
!0,Cohuman.observer.currentUser.connections.unshift(c))}))}},{init:function(){this.bind("change",function(a){a.target._saved=!1})},silentAttr:function(a,c){this[a]=c;void 0===this._data&&(this._data={});this._data[a]=c}});a.Model.List("Cohuman.Models.Database.List",{},{silentAttr:Cohuman.Models.Database.prototype.silentAttr,next:function(a){a=this.indexOf(a);return-1===a?void 0:this[a+1]},previous:function(a){a=this.indexOf(a);return-1===a?void 0:this[a-1]},pushNew:function(d){var c=[];$.each(d,a.proxy(function(a,
d){-1==this.indexOf(d)?c.push(d):console.log("ignoring "+d.id)},this));this.splice.apply(this,[this.length,0].concat(c))}})});steal.executed("app/models/database.js");
steal("can/util","can/observe",function(a){a.each([a.Observe,a.Model],function(c){if(void 0!==c){a.extend(c,{attributes:{},convert:{date:function(a){var b=typeof a;return"string"===b?isNaN(Date.parse(a))?null:Date.parse(a):"number"===b?new Date(a):a},number:function(a){return parseFloat(a)},"boolean":function(a){return Boolean("false"===a?0:a)},"default":function(b,c,d,i){var d=a.getObject(i),l=window;0<=i.indexOf(".")&&(i=i.substring(0,i.lastIndexOf(".")),l=a.getObject(i));return"function"==typeof d?
d.call(l,b,c):b}},serialize:{"default":function(a){return isObject(a)&&a.serialize?a.serialize():a},date:function(a){return a&&a.getTime()}}});var b=c.setup;c.setup=function(c,d,g){var i=this;b.call(i,c,d,g);a.each(["attributes"],function(a){if(!i[a]||c[a]===i[a])i[a]={}});a.each(["convert","serialize"],function(b){c[b]!=i[b]&&(i[b]=a.extend({},c[b],i[b]))})}}});var d=a.Observe.prototype.setup;a.Observe.prototype.setup=function(c){var b={};d.call(this,c);a.each(this.constructor.defaults,function(a,
c){this.hasOwnProperty(c)||(b[c]=a)},this);this._init=1;this.attr(b);delete this._init};a.Observe.prototype.__convert=function(a,b){var d=this.constructor,h=this.attr(a),g,i;d.attributes&&(g=d.attributes[a],i=d.convert[g]||d.convert["default"]);return null===b||!g?b:i.call(d,b,h,function(){},g)};a.Observe.prototype.serialize=function(c){var b={},d=this.constructor,h={};void 0!=c?h[c]=this[c]:h=this.__get();a.each(h,function(a,c){var h,j;h=d.attributes?d.attributes[c]:0;j=d.serialize?d.serialize[h]:
0;b[c]=a&&"function"==typeof a.serialize?a.serialize():j?j(a,h):a});return void 0!=c?b[c]:b};return a.Observe});steal.executed("can/observe/attributes/attributes.js");
steal("can/util","can/observe",function(a){var d=a.Observe.List.prototype,c=d._changes,b=d.setup;a.extend(d,{comparator:void 0,sortIndexes:[],sortedIndex:function(a){var b=a.attr(this.comparator),c=0,d;d=0;for(var l=this.length;d<l;d++)if(a===this[d])c=-1;else if(b<=this[d].attr(this.comparator))break;return d+c},sort:function(b,c){var d=this.comparator;[].sort.apply(this,d?[function(a,b){a=a[d];b=b[d];return a===b?0:a<b?-1:1}]:[]);!c&&a.trigger(this,"reset")}});a.each({push:"length",unshift:0},function(b,
c){var d=a.Observe.List.prototype,i=d[c];d[c]=function(){var b=arguments[0]&&a.isArray(arguments[0])?arguments[0]:a.makeArray(arguments),c=i.apply(this,arguments);this.comparator&&b.length&&(this.sort(null,!0),a.Observe.triggerBatch(this,"reset",[b]));return c}});d._changes=function(b,d,g,i,l){if(this.comparator&&/^\d+./.test(d)){var j=+/^\d+/.exec(d)[0],n=this[j],r=this.sortedIndex(n);if(r!==j){[].splice.call(this,j,1);[].splice.call(this,r,0,n);a.trigger(this,"move",[n,r,j]);b.stopImmediatePropagation();
a.trigger(this,"change",[d.replace(/^\d+/,r),g,i,l]);return}}c.apply(this,arguments)};d.setup=function(a,c){b.apply(this,arguments);this.comparator&&this.sort()};return a.Observe});steal.executed("can/observe/sort/sort.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Comment",{create:function(a){var d=new can.Deferred,c=this.model(a);d.resolve(c);$.ajax({type:"post",url:"api://task/"+a.task_id+"/comment",data:a,success:function(a){a.comment&&(c.attr(a.comment),delete Cohuman.Models.Comment.store[void 0])},failure:function(){}});return d},findAll:"GET api://task/{task_id}/comments",model:function(a){if(a instanceof Cohuman.Models.Comment)return a;a=$.extend({},a);a.text=can.EJS.Helpers.prototype.superformat(a.text);
return can.Model.model.call(this,a)},models:function(a){return can.Model.models.call(this,a&&a.comments||a)},attributes:{id:"number",user:"Cohuman.Models.User.model",activity:"Cohuman.Models.Activity.model"}},{init:function(){this.user_id&&!this.user&&this.attr("user",Cohuman.Models.User.model({id:this.user_id}));this.task_id&&!this.task&&this.attr("task",Cohuman.Models.Task.model({id:this.task_id}));this._super()},editable:function(a){return this.user.id==a.id},yayerNames:function(){var a=[];this.attr("activity")&&
this.attr("activity").attr("yayers")&&$.each(this.attr("activity").attr("yayers"),function(d,c){a.push(c.name)});return a},canYay:function(a){var d=!0;if(this.user.id==a.id||!this.attr("activity"))return!1;this.attr("activity.yayers")&&$.each(this.attr("activity").attr("yayers"),function(c,b){b.id==a.id&&(d=!1)});return d}});Cohuman.Models.Database.List("Cohuman.Models.Comment.List",{},{})});steal.executed("app/models/comment.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Attachment",{create:function(a){return this._super(a).done(function(d){$.ajax({type:"post",url:"api://task/"+a.task_id+"/attachment",data:a,success:function(a){a.attachment&&(d.id=a.attachment.id,d.updated(a.attachment),delete Cohuman.Models.Attachment.store[void 0],d.save())},failure:function(){}})})},destroy:function(a){return $.ajax({type:"delete",url:"api://task/"+a.task_id+"/attachment/"+a.attachment_id,success:function(){},
failure:function(){}})},findAll:"GET api://task/{task_id}/attachments",findAllProjectAttachments:function(a){var d=Cohuman.Models.Project.model({id:a.project_id}),c=new can.Deferred;new Date-d.attr("loadedAttachmentsFromServerAt")<Cohuman.Models.Database.CACHE_THROTTLE?c.resolve():$.ajax({url:"api://project/"+a.project_id+"/files",success:function(a){a&&d.attr({loadedAttachmentsFromServerAt:new Date,attachments:a});c.resolve()}});return c},models:function(a){return can.Model.models.call(this,a&&a.attachments||
a)},attributes:{id:"number",creator:"Cohuman.Models.User.model"}},{contentTypeClassName:function(){var a=this.attr("content_type");return-1<a.indexOf("image")?"image":-1<a.indexOf("pdf")?"pdf":-1<a.indexOf("document")?"document":-1<a.indexOf("powerpoint")?"powerpoint":-1<a.indexOf("map")?"map":"general"},contentIconClassName:function(){return this.contentTypeClassName()+"-attachment-icon"}});Cohuman.Models.Database.List("Cohuman.Models.Attachment.List",{},{})});steal.executed("app/models/attachment.js");
steal("./database","./post",function(){Cohuman.Models.Database("Cohuman.Models.Project",{PAGE_LENGTH:10,model:function(a){if(a.tasks instanceof Cohuman.Models.Task.List||a instanceof Cohuman.Models.Project)return a;var d=can.Model.model.call(this,a);d.attr("tasks.true_count",a.active_task_count);return d},models:function(a){var d=[];a&&a.projects&&(can.each({favorites:"favorite",others:"other"},can.proxy(function(c,b){can.each(a.projects[b],function(a){a.type=c;d.push(a)})},this)),a.projects=d);return can.Model.models.call(this,
a&&a.projects||a)},create:function(a){a.default_picture=!0;var d=this,c=new can.Deferred,b=Cohuman.Models.Project.model(a);c.resolve(b);$.ajax({type:"post",url:"api://project",data:a,success:function(a){d.createSuccess(a,b)},failure:function(){}});return c},createSuccess:function(a,d){a.project&&(a.project.provisional_id=null,d.attr(a.project),delete Cohuman.Models.Project.store[void 0])},destroy:function(a){return $.ajax({type:"delete",url:"api://project/"+a.id,data:{},success:function(){},failure:function(){}})},
findAll:"GET api://projects",findOne:function(a){var d=Cohuman.Models.Project.model({id:a.id}),c=new can.Deferred;0==a.id||new Date-d.loadedFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?c.resolve(d):$.ajax({url:"api://project/"+a.id,success:function(b){b=b.project;b.tasks=b.tasks.slice(0,10);0==d.members.length&&(b.members=Cohuman.Models.User.models(b.members));$.each(b.tasks,function(b,c){c.project={id:+a.id}});b.tasks={count:b.task_count,tasks:b.tasks};delete b.creator;b.loadedFromServerAt=
new Date;d.attr(b);c.resolve(d)}});return c},attributes:{id:"number",members:"Cohuman.Models.User.models",attachments:"Cohuman.Models.Attachment.models",tasks:"Cohuman.Models.Task.models",posts:"Cohuman.Models.Post.models",default_picture:"boolean"}},{init:function(){this.active_task_count||this.silentAttr("active_task_count",0);this.members||this.silentAttr("members",new Cohuman.Models.User.List);this.tasks||this.silentAttr("tasks",new Cohuman.Models.Task.List);this._super()},displayName:function(){return 0==
this.attr("id")?can.EJS.Helpers.prototype.message("none"):this.attr("name")},pictureUrl:function(a){return this.default_picture?"":0==this.id?75<a?"background-image: url(./images/icons/Tasks-and-Project/Retina/None-Retina.png);":"background-image: url(./images/icons/Tasks-and-Project/Retina/None-Small-Retina.png);":"background-image: url("+this.attr("pictures.size_"+a+"_px")+");"},sortField:function(){return"project_position"},percentComplete:can.compute(function(){return this.attr("total_task_count")?
Math.round(100*this.attr("finished_task_count")/this.attr("total_task_count")):0}),taskAttachments:new can.compute(function(){var a=this.attr("tasks"),d=new Cohuman.Models.Attachment.List;a&&can.each(a,function(a){(a=a.attr("attachments"))&&can.each(a,function(a){d.push(a)})});return d}),update:function(a){this.attr(a);return $.ajax({type:"put",url:"api://project/"+this.id,data:a,success:$.proxy(function(a){a.project&&this.attr(a.project)},this),failure:function(){}})}});Cohuman.Models.Database.List("Cohuman.Models.Project.List",
{},{init:function(){this.silentAttr("page",1)}})});steal.executed("app/models/project.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Post",{create:function(a){var d=new can.Deferred,c=this.model(a);d.resolve(c);$.ajax({type:"post",url:"api://project/"+a.project_id+"/post",data:a,success:function(a){a.posts&&(a.posts[0].provisional_id=null,c.attr(a.posts[0]),delete Cohuman.Models.Post.store[void 0])},failure:function(){}});return d},findAll:function(a){var d=Cohuman.Models.Project.model({id:a.project_id}),c=new can.Deferred;new Date-d.attr("loadedPostsFromServerAt")<
Cohuman.Models.Database.CACHE_THROTTLE?c.resolve():$.ajax({url:"api://project/"+a.project_id+"/posts",success:function(a){a.posts&&(d.attr({loadedPostsFromServerAt:new Date,posts:a.posts}),c.resolve())}});return c},model:function(a){if(a instanceof Cohuman.Models.Post)return a;a=$.extend({},a);a.text=can.EJS.Helpers.prototype.superformat(a.text);return can.Model.model.call(this,a)},models:function(a){return can.Model.models.call(this,a&&a.posts||a)},attributes:{id:"number",user:"Cohuman.Models.User.model",
activity:"Cohuman.Models.Activity.model"}},{init:function(){this.user_id&&!this.user&&this.attr("user",Cohuman.Models.User.model({id:this.user_id}));this._super()}});Cohuman.Models.Database.List("Cohuman.Models.Post.List",{},{})});steal.executed("app/models/post.js");
steal("./../database.js").then("./../project.js","./../activity.js","./../connection.js",function(){Cohuman.Models.Database("Cohuman.Models.User",{PAGE_LENGTH:12,model:function(a){return a.tasks instanceof Cohuman.Models.Task.List||a instanceof Cohuman.Models.User?a:can.Model.model.call(this,a)},models:function(a){if(a instanceof Cohuman.Models.User.List)return a;a=a&&a.cohumans||a;a=this.flattenConnections(a);return can.Model.models.call(this,a)},unwrapJSON:function(a){"string"==typeof a&&(a=JSON.parse(a));
a=a.user;if(a.active_tasks||a.just_added_tasks)a.tasks={count:a.task_count,tasks:a.active_tasks.concat(a.just_added_tasks)},delete a.active_tasks,delete a.just_added_tasks;a.connections=this.flattenConnections(a.connections);a.loadedFromServerAt=new Date;return a},flattenConnections:function(a){if(a&&(a.favorites||a.others)){var d=[];can.each(["favorite","other"],function(c){can.each(a[c+"s"],function(a){a.type=c;a.pictures.userId=a.id;d.push(a)})});return d}return a},signup:function(a,d,c){this.loginSignup(a,
d,c,"api://user")},login:function(a,d,c){this.loginSignup(a,d,c,"api://login/mobile")},loginSignup:function(a,d,c,b){$.ajax({url:b,type:"post",data:a}).success(function(b){var c={token:b.access_token.oauth_token,token_secret:b.access_token.oauth_token_secret},g=b.userRefId,i=b.mjSessionId;Cohuman.oauth.attr(c);window.localStorage.setItem("lastLogin",new Date);window.localStorage.setItem("loginEmail",a.email||a.name);window.localStorage.setItem("loginPassword",a.password);window.localStorage.setItem("currentUserId",
b.user.id);window.localStorage.setItem("token",c.token);window.localStorage.setItem("token_secret",c.token_secret);window.localStorage.setItem("userRefId",g);window.localStorage.setItem("mjSessionId",i);c=Cohuman.Models.User.model(Cohuman.Models.User.unwrapJSON(b));c.loadRelationships();d(c,b)}).error(function(a){a=$.parseJSON(a.responseText);c(a)})},findOne:function(a){var d=Cohuman.Models.User.model({id:a.id}),c=new can.Deferred;0==a.id||new Date-d.loadedFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?
c.resolve(d):$.ajax({url:"api://user"+(a.id?"/"+a.id:""),success:can.proxy(function(a){a=this.unwrapJSON(a);d.attr(a);c.resolve(d)},this)});return c},findAll:function(a){return $.ajax({type:"GET",url:"api://connections",data:$.extend(a,{limit:this.PAGE_LENGTH})})},attributes:{id:"number",active:"boolean",projects:"Cohuman.Models.Project.models",tasks:"Cohuman.Models.Task.models",activities:"Cohuman.Models.Activity.models",connections:"Cohuman.Models.User.models"}},{init:function(){this.tasks||this.silentAttr("tasks",
new Cohuman.Models.Task.List);this.projects||this.silentAttr("projects",new Cohuman.Models.Project.List);this.connections||this.silentAttr("connections",new Cohuman.Models.User.List);this.activities||this.silentAttr("activities",new Cohuman.Models.Activity.List);this._super()},colorClass:function(){return"color_"+(0==this.id%14?14:this.id%14)},displayName:function(){return 0==this.attr("id")?can.EJS.Helpers.prototype.message("nobody"):this.attr("name")},pictureUrl:function(a){return this.default_picture?
"":0==this.id?75<a?"background-image: url(./images/icons/Tasks-and-Project/Retina/Nobody-Retina.png);":"background-image: url(./images/icons/Tasks-and-Project/Retina/Nobody-Small-Retina.png);":"background-image: url("+this.attr("pictures.size_"+a+"_px")+");"},sortField:function(){return"owner_position"},loadProjects:function(){Cohuman.Models.Project.findAll().done(this.proxy(function(a){this.projects.splice.apply(this.projects,[0,this.projects.length].concat(can.makeArray(a)))}))},loadRelationships:function(){this.loadProjects();
Cohuman.Models.Activity.findAll().done(this.proxy(function(a){this.attr("activities",a)}))}});Cohuman.Models.Database.List("Cohuman.Models.User.List",{},{init:function(){this.silentAttr("page",1)},favorited:new can.compute(function(){return this.grep(function(a){return"favorite"==a.attr("type")})}),othered:new can.compute(function(){return this.grep(function(a){return"other"==a.attr("type")})})})});steal.executed("app/models/user/user.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Activity",{PAGE_LENGTH:10,model:function(a){if(a instanceof Cohuman.Models.Activity)return a;a.activity&&"SayYay"!=a.type&&(a=a.activity);a.comment&&(a.comment=can.EJS.Helpers.prototype.superformat(a.comment));a.post&&(a.post=can.EJS.Helpers.prototype.superformat(a.post));return can.Model.model.call(this,a)},models:function(a,d){var c=can.Model.models.call(this,a&&a.relevant_activities||a);d&&c.attr("count",d);return c},findOne:"GET api://activity/{id}",
findAll:function(a){var d={include_project_activity:!0,exclude_user_activity:!0,limit:this.PAGE_LENGTH},c=new can.Deferred;$.ajax({url:"api://activities/relevant",data:$.extend(d,a),success:function(a){c.resolve(Cohuman.Models.Activity.models(a.relevant_activities,a.count))}});return c},findAllSinceLastLogin:function(){var a=window.localStorage.getItem("newestActivityId")||Cohuman.observer.currentUser.attr("activities.0.id"),d={limit:10};a&&(d.newer=a);return this.findAll(d).done(function(a){Cohuman.observer.currentUser.attr("newActivities",
a.attr("count"));if(a.length){var b=Cohuman.observer.currentUser.attr("activities");a.length<d.limit/2?b.unshift(can.makeArray(a)):b.splice.apply(b,[0,b.length].concat(can.makeArray(a)))}})},yay:function(a){if(a.hasClass("disabled"))return!1;a.addClass("disabled");a=a.data("activity");a.yayers.push(Cohuman.observer.currentUser);$.ajax({url:"api://activity/say_yay",type:"POST",data:{activity_id:a.id}});return!1},attributes:{id:"number",actor:"Cohuman.Models.User.model",new_owner:"Cohuman.Models.User.model",
old_owner:"Cohuman.Models.User.model",yayers:"Cohuman.Models.User.models",followers:"Cohuman.Models.User.models",added_members:"Cohuman.Models.User.models",removed_member:"Cohuman.Models.User.models",related_users:"Cohuman.Models.User.models",message_recipients:"Cohuman.Models.User.models",task:"Cohuman.Models.Task.modelFromRecentActivity",project:"Cohuman.Models.Project.model",new_project:"Cohuman.Models.Project.model",old_project:"Cohuman.Models.Project.model",attachment:"Cohuman.Models.Attachment.model",
activity:"Cohuman.Models.Activity.model"}},{canYay:function(a){a||(a=Cohuman.observer.currentUser);return"SayYay"!=this.type&&this.attr("actor.id")!=a.id&&this.attr("yayers")&&-1==this.attr("yayers").indexOf(a)}});Cohuman.Models.Database.List("Cohuman.Models.Activity.List",{},{setup:function(a,d){this._super(a);d&&this.attr("count",d)}})});steal.executed("app/models/activity.js");
steal("./database").then("./task",function(){Cohuman.Models.Database("Cohuman.Models.Connection",{PAGE_LENGTH:12,create:function(a){return this._super(a).done(function(d){$.ajax({type:"post",url:"api://activity/add_cohuman",data:a,success:function(a){a.activity&&(d.updated(a.activity.cohumans[0]),d.save())},failure:function(){}})})},invite:function(a){var d=new can.Deferred,c=this,b=$.map(a,function(a){return{name:a,email_address:a,default_picture:!0,provisionalId:c.provisionalId()}}),f=Cohuman.Models.User.models(b);
d.resolve(f);$.ajax({type:"post",url:"api://invitation",data:{addresses:a,personalized_message:""},success:function(a){this.inviteSuccess(f,a.activity)},context:this});return d},inviteSuccess:function(a,d){d&&can.each(a,function(a){var b=$(d.invitees).filter(function(){return this.email_address==a.email_address}).get(0);b?a.attr(b):a.destroy()})},destroy:function(a){return $.ajax({type:"post",url:"api://activity/remove_cohuman",data:{cohuman_id:a.user_id},success:function(){},failure:function(){}})},
models:function(a){var d=[];a&&a.cohumans&&can.each({favorites:"favorite",others:"other"},function(c,b){can.each(a.cohumans[b],function(a){a.type=c;d.push(a)})});return can.Model.models.call(this,d)},findAll:"GET api://cohumans"},{});Cohuman.Models.Database.List("Cohuman.Models.Connection.List",{},{})});steal.executed("app/models/connection.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Following",{create:function(a){var d={task_id:a.task.id};a.follower_id?d.follower_id=a.follower_id:a.addresses&&(d.addresses=a.addresses);a.task_id=a.task.id;return $.ajax({type:"post",url:"api://task/"+d.task_id+"/follower",data:d,success:function(c){if(c.followers){var b=a.task.followers;b.splice.apply(b,[0,b.length].concat(can.makeArray(Cohuman.Models.User.models(c.followers))));this.addInvitedToConnections(a.addresses,c.followers)}},
failure:function(){},context:this})},destroy:function(a){return $.ajax({type:"delete",url:"api://task/"+a.task_id+"/follower",data:{follower_id:a.follower_id},success:function(){},failure:function(){}})},models:function(a){return Cohuman.Models.User.models(a.followers)},findAll:"GET api://task/{task_id}/followers",possibleFollowers:function(a){var d=new can.Deferred;$.ajax({type:"get",url:"api://task/"+a.task_id+"/users",data:a,success:function(a){a.followers&&d.resolve(new can.Observe({favorites:Cohuman.Models.User.models(a.followers.favorites),
members:Cohuman.Models.User.models(a.followers.members),others:Cohuman.Models.User.models(a.followers.others)}))},failure:function(){}});return d.promise()},primaryKeys:["task_id","user_id"]},{init:function(){this._super()}});Cohuman.Models.Database.List("Cohuman.Models.Following.List",{},{})});steal.executed("app/models/following.js");
steal("can/model","lib/2.5.3-crypto-sha1-hmac.js",function(){Cohuman.env={development:{actionUrl:"http://localhost:3000",xmpp:!1,api:{realm:"localhost:3000"}},dev:{visionUrl:"https://wildcat-dev.mindjet.net",actionUrl:"https://action-dev.mindjet.net",mindjetUrl:"https://www-dev.mindjet.net",openFireSuffix:":7070/http-bind/",api:{realm:"api.dev.cohuman.com",key:"0ba45a3ff3abdc81b332972868a235a82c00a910",secret:"19d6076b363c29d5ab47fcafa4cb6aeac029988e",token:"8gG1G8Py72pdkuMqPPeuakYX5QZCkj4N0mWW2OTh",
token_secret:"VYOcu3JxWFV4PSHza5MW3DtXAPWHUG5wFrjTdQNy"},xmpp:!0},qea:{visionUrl:"https://qe-visiona.mindjet.net",actionUrl:"https://action-qa.mindjet.net",mindjetUrl:"https://qe-wwwa.mindjet.net",openFireSuffix:"/xmpp-httpbind",api:{realm:"api.qa.cohuman.com",key:"95ea31dc21ce5d993d141a6dd6787ac31941a82c",secret:"8f741107de30b10e55bd90d80e105212e50b4974",token:"wQOY9wSG0eWJTPM5Ice35EbhdinzueZpDEg9cZuE",token_secret:"ZT3B8qAtl03nJVyIbzQmjMO0r03LFnNjV6TJjKrv"},xmpp:!1},qeb:{visionUrl:"https://qe-visionb.mindjet.net",
actionUrl:"https://action-qeb.mindjet.net",mindjetUrl:"https://qe-wwwb.mindjet.net",openFireSuffix:"/xmpp-httpbind",api:{realm:"api.qeb.cohuman.com",key:"99b8e5012b66ea74a1c5f75f007be0a77847f8ce",secret:"22fd1f4ceca9421286530c975dfecbde19f432d0",token:"GVgHWSJgQWgnvUQ5LPzzrX9VQgIQ1foOIfzEGXzp",token_secret:"ak81bw2LE9zwxpR9fN68YO964t1SpyeAwLlHe55X"},xmpp:!0},production:{visionUrl:"https://vision.mindjet.com",actionUrl:"https://action.mindjet.com",mindjetUrl:"https://www.mindjet.com",openFireSuffix:"/xmpp-httpbind",
api:{realm:"api.cohuman.com",key:"0ba45a3ff3abdc81b332972868a235a82c00a910",secret:"19d6076b363c29d5ab47fcafa4cb6aeac029988e",token:"8gG1G8Py72pdkuMqPPeuakYX5QZCkj4N0mWW2OTh",token_secret:"VYOcu3JxWFV4PSHza5MW3DtXAPWHUG5wFrjTdQNy"}}};can.Model("Cohuman.Models.OAuth",{encodeUTF8:function(a){return unescape(OAuth.percentEncode(a))},decodeUTF8:function(a){return OAuth.percentDecode(escape(a))},getTimestamp:function(){return+new Date/1E3|0},percentEncode:function(){var a=/[!'\(\)\*]/g;return function(d){return encodeURIComponent(d).replace(a,
function(a){return"%"+["0","0"].concat([a.charCodeAt(0).toString(16).toUpperCase()]).join("").slice(-2)})}}(),percentDecode:function(){var a=/%([A-Z0-9]){2}/g;return function c(b){return a.test(b)?c(b.replace(a,function(a){return String.fromCharCode(+("0x"+a.replace("%","")))})):b}}(),getNonce:function(){return can.map([1,1],function(){return Math.random().toString(36).slice(2)}).join("")},getBoundary:function(a){return a.match(/--(.+)(?:--)?(?:\n|\r|\r\n)?/).pop()},normalizeUri:function(){var a=
/[~]/g;return function(d){return d.replace(a,function(a){return"%"+["0","0"].concat([a.charCodeAt(0).toString(16).toUpperCase()]).join("").slice(-2)})}}(),deparam:function(a){if(a){var a=a.split("&"),d={};can.each(a,function(a){a=a.split("=");d[this.percentDecode(a[0])]=this.percentDecode(a[1])},this);return d}},param:function(a){var d=[];can.each(a,function(a,b){d.push(b+"="+encodeURIComponent(a))});return d.join("&")},createHmacSha1:function(a,d){return Crypto.HMAC(Crypto.SHA1,a,d,{asString:!0})},
apiTest:/^api:\//,protocol:"http://",signatureMethod:"HMAC-SHA1",version:"1.0"},{protocol:"http://",signatureMethod:"HMAC-SHA1",version:"1.0",apiTest:/^api:\//,init:function(){this._token=this.token;this._token_secret=this.token_secret},restoreKeys:function(){this.attr({token:this._token,token_secret:this._token_secret})},_getParameters:function(a,d,c,b){a=can.extend(a||{},{oauth_consumer_key:this.key,oauth_token:d,oauth_nonce:c,oauth_timestamp:b,oauth_signature_method:this.signatureMethod,oauth_version:this.version});
return can.map(a,can.proxy(function(a,b){return[b,this.constructor.percentEncode(a)].join("=")},this)).sort().join("&")},_createBaseString:function(a,d,c){return[a.toUpperCase(),this.constructor.percentEncode(d),this.constructor.percentEncode(c)].join("&")},_createKey:function(a){return[this.secret,a||this.token_secret].join("&")},_getAuthorizationHeader:function(a,d,c,b,f){a=can.extend({realm:this.protocol+this.realm+"/",oauth_token:a,oauth_consumer_key:this.key,oauth_signature_method:this.signatureMethod,
oauth_signature:d,oauth_timestamp:c,oauth_nonce:b,oauth_version:this.version},f);return"OAuth "+can.map(a,function(a,b){return[b,'"'+a+'"'].join("=")}).join(", ")},prefilter:function(){can.ajaxSetup({processData:!1});can.ajaxPrefilter(can.proxy(function(a,d,c){a.url&&this.constructor.apiTest.test(a.url)&&((a.data&&(a.data.timestamp=(new Date).getTime(),a.data.format||(a.data.format="json",a.dataType="json")),a.url="http://"+a.url.replace(this.constructor.apiTest,this.realm),Cohuman.config.mobile)?
(d=can.extend({},a.data),this.prepare(a,c),a.data=this.constructor.param(d)):(a.async=!0,a.data||(a.data=this.constructor.param({format:"json"}))))},this))},prepare:function(a,d){var c=this.constructor.getNonce(),b=this.constructor.getTimestamp();this.constructor.protocol.toUpperCase();var f=a.data,h=this.constructor.normalizeUri(a.url),f=this._getParameters(f,this.token,c,b),h=this._createBaseString(a.type||"GET",h,f),f=this._createKey(),h=this.constructor.createHmacSha1(h,f),c=this._getAuthorizationHeader(this.token,
this.constructor.percentEncode(btoa(h)),b,c);d.setRequestHeader("Authorization",c)}})});steal.executed("app/models/oauth.js");
("undefined"==typeof Crypto||!Crypto.util)&&function(){var a=window.Crypto={},d=a.util={rotl:function(a,c){return a<<c|a>>>32-c},rotr:function(a,c){return a<<32-c|a>>>c},endian:function(a){if(a.constructor==Number)return d.rotl(a,8)&16711935|d.rotl(a,24)&4278255360;for(var c=0;c<a.length;c++)a[c]=d.endian(a[c]);return a},randomBytes:function(a){for(var c=[];0<a;a--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(a){for(var c=[],d=0,g=0;d<a.length;d++,g+=8)c[g>>>5]|=(a[d]&255)<<
24-g%32;return c},wordsToBytes:function(a){for(var c=[],d=0;d<32*a.length;d+=8)c.push(a[d>>>5]>>>24-d%32&255);return c},bytesToHex:function(a){for(var c=[],d=0;d<a.length;d++)c.push((a[d]>>>4).toString(16)),c.push((a[d]&15).toString(16));return c.join("")},hexToBytes:function(a){for(var c=[],d=0;d<a.length;d+=2)c.push(parseInt(a.substr(d,2),16));return c},bytesToBase64:function(a){if("function"==typeof btoa)return btoa(c.bytesToString(a));for(var d=[],h=0;h<a.length;h+=3)for(var g=a[h]<<16|a[h+1]<<
8|a[h+2],i=0;4>i;i++)8*h+6*i<=8*a.length?d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>>6*(3-i)&63)):d.push("=");return d.join("")},base64ToBytes:function(a){if("function"==typeof atob)return c.stringToBytes(atob(a));for(var a=a.replace(/[^A-Z0-9+\/]/ig,""),d=[],h=0,g=0;h<a.length;g=++h%4)0!=g&&d.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(h-1))&Math.pow(2,-2*g+8)-1)<<2*g|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(h))>>>
6-2*g);return d}},a=a.charenc={};a.UTF8={stringToBytes:function(a){return c.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(c.bytesToString(a)))}};var c=a.Binary={stringToBytes:function(a){for(var c=[],d=0;d<a.length;d++)c.push(a.charCodeAt(d)&255);return c},bytesToString:function(a){for(var c=[],d=0;d<a.length;d++)c.push(String.fromCharCode(a[d]));return c.join("")}}}();
(function(){var a=Crypto,d=a.util,c=a.charenc,b=c.UTF8,f=c.Binary,h=a.SHA1=function(a,b){var c=d.wordsToBytes(h._sha1(a));return b&&b.asBytes?c:b&&b.asString?f.bytesToString(c):d.bytesToHex(c)};h._sha1=function(a){a.constructor==String&&(a=b.stringToBytes(a));var c=d.bytesToWords(a),f=8*a.length,a=[],h=1732584193,n=-271733879,r=-1732584194,o=271733878,q=-1009589776;c[f>>5]|=128<<24-f%32;c[(f+64>>>9<<4)+15]=f;for(f=0;f<c.length;f+=16){for(var v=h,x=n,s=r,A=o,t=q,w=0;80>w;w++){if(16>w)a[w]=c[f+w];else{var y=
a[w-3]^a[w-8]^a[w-14]^a[w-16];a[w]=y<<1|y>>>31}y=(h<<5|h>>>27)+q+(a[w]>>>0)+(20>w?(n&r|~n&o)+1518500249:40>w?(n^r^o)+1859775393:60>w?(n&r|n&o|r&o)-1894007588:(n^r^o)-899497514);q=o;o=r;r=n<<30|n>>>2;n=h;h=y}h+=v;n+=x;r+=s;o+=A;q+=t}return[h,n,r,o,q]};h._blocksize=16;h._digestsize=20})();
(function(){var a=Crypto,d=a.util,c=a.charenc,b=c.UTF8,f=c.Binary;a.HMAC=function(a,c,i,l){c.constructor==String&&(c=b.stringToBytes(c));i.constructor==String&&(i=b.stringToBytes(i));i.length>4*a._blocksize&&(i=a(i,{asBytes:!0}));for(var j=i.slice(0),i=i.slice(0),n=0;n<4*a._blocksize;n++)j[n]^=92,i[n]^=54;a=a(j.concat(a(i.concat(c),{asBytes:!0})),{asBytes:!0});return l&&l.asBytes?a:l&&l.asString?f.bytesToString(a):d.bytesToHex(a)}})();steal.executed("util/2.5.3-crypto-sha1-hmac.js");
steal("can/view/ejs",function(){$.extend(can.EJS.Helpers.prototype,{toolTip:function(a){a.qtip({position:{adjust:{screen:!0}},show:{effect:{type:"fade",length:0}},style:{padding:0,background:"#BED6DE",color:"#3d4148",border:{width:0,radius:0,color:"#BED6DE"},tip:!1},hide:{delay:0},api:{onRender:function(){$(this.elements.wrapper).prepend('<div class="ear"></div>').css("overflow","visible")},onPositionUpdate:function(){var a=$(this.elements.tooltip),c=a.offset().left+a.width()-$(window).width();0<
c&&(a.css("left","-="+(c+10)),a.find("div.ear").remove())}}});a.click(function(){$(this).qtip("hide")})},superformat:function(a){a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a=a.linkify();return a.replace(/\n/ig,"<br/>")}});String.linkify||(String.prototype.linkify=function(){return this.replace(/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,'<a target="_blank" href="$&">$&</a>').replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a target="_blank" href="http://$2">$2</a>').replace(/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,
'<a target="_blank" href="mailto:$1">$1</a>')})});steal.executed("app/models/helpers/viewHelpers.js");steal.popPending();
