steal.packages({});
steal.has("stealconfig.js","app/app.js","can/construct/proxy/proxy.js","can/util/jquery/jquery.js","jquery","can/util/can.js","can/util/array/each.js","can/construct/construct.js","can/util/string/string.js","can/construct/super/super.js","can/control/control.js","can/control/plugin/plugin.js","can/view/ejs/ejs.js","can/view/view.js","can/observe/compute/compute.js","can/view/scanner.js","can/view/render.js","can/view/modifiers/modifiers.js","ui/position/position.js","ui/datepicker/datepicker.js","ui/popover/popover.js",
"can/util/function/function.js","can/control/modifier/modifier.js","steal/less/less.js","ui/popover/views/init.ejs","ui/textinput/textinput.js","ui/picker/picker.js","ui/typeahead/typeahead.js","can/observe/elements/elements.js","can/observe/observe.js","ui/dropdown/dropdown.js","ui/typeahead/views/list.ejs","ui/slider/slider.js","util/cookie.js","util/json.js","app/views/login.ejs","app/views/signup.ejs","app/views/task.ejs","app/views/score_summary.ejs","app/models.js","can/model/model.js","can/model/list/list.js",
"app/models/task.js","app/models/database.js","can/observe/attributes/attributes.js","can/observe/sort/sort.js","app/models/comment.js","app/models/attachment.js","app/models/project.js","app/models/post.js","app/models/user/user.js","app/models/activity.js","app/models/connection.js","app/models/oauth.js","util/2.5.3-crypto-sha1-hmac.js","app/models/helpers/viewHelpers.js");steal({id:"app/production.css",waits:!0,has:"ui/datepicker/datepicker.css ui/popover/popover.less ui/textinput/textinput.css ui/dropdown/dropdown.less ui/typeahead/typeahead.css ui/picker/picker.css app/app.less".split(" ")});
steal.pushPending();
steal.config({map:{"*":{"jquery/jquery.js":"jquery","can/util/util.js":"can/util/jquery/jquery.js","lib/2.5.3-crypto-sha1-hmac.js":"util/2.5.3-crypto-sha1-hmac.js"}},paths:{jquery:"can/lib/jquery.1.8.3.js","mootools/mootools.js":"can/lib/mootools-core-1.4.3.js","dojo/dojo.js":"can/util/dojo/dojo-1.8.1.js","yui/yui.js":"can/lib/yui-3.7.3.js","zepto/zepto.js":"can/lib/zepto.1.0rc1.js"},shim:{jquery:{exports:"jQuery"}},ext:{js:"js",css:"css",less:"steal/less/less.js",coffee:"steal/coffee/coffee.js",ejs:"can/view/ejs/ejs.js",
mustache:"can/view/mustache/mustache.js"}});steal.executed("stealconfig.js");
steal("can/construct/proxy","can/construct/super","can/control","can/control/plugin","can/view/ejs","can/view/modifiers").then("ui/position","ui/datepicker","ui/popover","ui/textinput","ui/picker","ui/slider","util/cookie.js","./views/login.ejs","./views/signup.ejs","./views/task.ejs","./views/score_summary.ejs","./app.less","./models","./models/helpers/viewHelpers.js",function(){Cohuman.mode="dev";Cohuman.config=Cohuman.env[Cohuman.mode];Cohuman.config.mobile=!0;can.Control("OpenSocial",{setup:function(a,
e){e=e||{};this.opener=a;var d=$('<div class="splash tasks-app" />').appendTo(document.body);d.wrap('<div class="tasks-wrapper" />');e.wrapper=d.parent();this._super(d,e)},init:function(){Cohuman.oauth=new Cohuman.Models.OAuth(Cohuman.config.api);Cohuman.oauth.prefilter();var a=$.cookie("cohuman_sess");a?(Cohuman.oauth.attr(a),this.task()):this.login()},login:function(){this.element.append("app/views/login.ejs",{});this.element.find(".email").focus()},"form[name=login] submit":function(){Cohuman.Models.User.login({name:this.element.find(".email").val(),
password:this.element.find(".password").val()},this.proxy(function(a,e){$.cookie("cohuman_sess",$.toJSON({token:e.access_token.oauth_token,token_secret:e.access_token.oauth_token_secret}));this.task()}),function(){alert("Login failed!  Try again.")});return!1},task:function(){$.when.apply($,[Cohuman.Models.Task.findOne({id:this.options.id||"29389"}),Cohuman.Models.User.findOne({}),Cohuman.Models.Project.findAll()]).done(this.proxy(function(a,e,d){a.user=e;e.task=a;e.projects=d;this.task=a;this.user=
e;this.element.removeClass("splash");this.element.html("app/views/task.ejs",{task:a,user:e,project:d,parentDom:this.options.wrapper}).removeClass("loading");this.element.find("#progress").ui_slider({val:this.task.progress,range:!0,min:0,max:100});this.element.height(this.element.height());gadgets&&gadgets.window.adjustHeight(this.element.height()+75)}))},"#title change":function(a,e,d){this.task.update({name:d})},".finish click":function(){this.options.wrapper.remove()},".assign click":function(a,
e){e.stopPropagation();this.element.find("#assigned").focus()},".add-btn click":function(a,e){e.stopPropagation();var d=a.prev();d.toggle();a.closest("ul").find(".follower").toggle();d.is(":visible")&&d.children("input").focus()},"#assigned change":function(a,e,d){this.task.setOwner({id:d.id})},"#progress change":function(a,e,d){this.task.update({progress:d})},"#start_date changeDate":function(a,e){var d=new Date(e.timeStamp);this.task.update({start_date:d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate()})},
"#due_date changeDate":function(a,e){var d=new Date(e.timeStamp);this.task.update({due_date:d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate()})},"#project change":function(a,e,d){this.task.setProject({id:d.id})},".comment keydown":function(a,e){if(13===e.keyCode){var d=a.val();Cohuman.Models.Comment.create({task_id:this.task.id,text:d,user:this.user}).done(this.proxy(function(b){a.val("");this.task.comments.unshift(b);this.element.height("");this.element.height(this.element.height());gadgets&&gadgets.window.adjustHeight(this.element.height()+
75)}))}}})});steal.executed("app/app.js");steal("can/util","can/construct",function(a){var e=a.isArray,d=a.makeArray;a.Construct.proxy=a.Construct.prototype.proxy=function(a){var c=d(arguments),g,a=c.shift();e(a)||(a=[a]);g=this;return function(){for(var j=c.concat(d(arguments)),m,n=a.length,h=0,l;h<n;h++)if(l=a[h])m="string"==typeof l,j=(m?g[l]:l).apply(g,j||[]),h<n-1&&(j=!e(j)||j._use_call?[j]:j);return j}};return a});steal.executed("can/construct/proxy/proxy.js");
steal("jquery","can/util/can.js","can/util/array/each.js",function(a,e){a.extend(e,a,{trigger:function(b,e,d){b.trigger?b.trigger(e,d):a.event.trigger(e,d,b,!0)},addEvent:function(b,e){a([this]).bind(b,e);return this},removeEvent:function(b,e){a([this]).unbind(b,e);return this},buildFragment:function(b,e){var d=a.buildFragment([b],a(e));return d.cacheable?a.clone(d.fragment):d.fragment},$:a,each:e.each});a.each(["bind","unbind","undelegate","delegate"],function(b,c){e[c]=function(){var b=this[c]?
this:a([this]);b[c].apply(b,arguments);return this}});a.each("append filter addClass remove data get".split(" "),function(a,c){e[c]=function(a){return a[c].apply(a,e.makeArray(arguments).slice(1))}});var d=a.cleanData;a.cleanData=function(b){a.each(b,function(a,b){b&&e.trigger(b,"destroyed",[],!1)});d(b)};return e});steal.executed("can/util/jquery/jquery.js");
(function(a,e){function d(i){var a=Da[i]={};f.each(i.split(Z),function(i,f){a[f]=!0});return a}function b(i,a,k){if(k===e&&1===i.nodeType)if(k="data-"+a.replace(gb,"-$1").toLowerCase(),k=i.getAttribute(k),"string"===typeof k){try{k="true"===k?!0:"false"===k?!1:"null"===k?null:+k+""===k?+k:hb.test(k)?f.parseJSON(k):k}catch(b){}f.data(i,a,k)}else k=e;return k}function c(i){for(var a in i)if(!("data"===a&&f.isEmptyObject(i[a]))&&"toJSON"!==a)return!1;return!0}function g(){return!1}function j(){return!0}
function m(i){return!i||!i.parentNode||11===i.parentNode.nodeType}function n(i,a){do i=i[a];while(i&&1!==i.nodeType);return i}function h(i,a,k){a=a||0;if(f.isFunction(a))return f.grep(i,function(i,f){return!!a.call(i,f,i)===k});if(a.nodeType)return f.grep(i,function(i){return i===a===k});if("string"===typeof a){var b=f.grep(i,function(i){return 1===i.nodeType});if(ib.test(a))return f.filter(a,b,!k);a=f.filter(a,b)}return f.grep(i,function(i){return 0<=f.inArray(i,a)===k})}function l(i){var a=Ea.split("|"),
i=i.createDocumentFragment();if(i.createElement)for(;a.length;)i.createElement(a.pop());return i}function r(i,a){if(1===a.nodeType&&f.hasData(i)){var k,b,e;b=f._data(i);var c=f._data(a,b),d=b.events;if(d)for(k in delete c.handle,c.events={},d){b=0;for(e=d[k].length;b<e;b++)f.event.add(a,k,d[k][b])}c.data&&(c.data=f.extend({},c.data))}}function o(i,a){var k;if(1===a.nodeType){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(i);k=a.nodeName.toLowerCase();if("object"===k){if(a.parentNode&&
(a.outerHTML=i.outerHTML),f.support.html5Clone&&i.innerHTML&&!f.trim(a.innerHTML))a.innerHTML=i.innerHTML}else"input"===k&&Fa.test(i.type)?(a.defaultChecked=a.checked=i.checked,a.value!==i.value&&(a.value=i.value)):"option"===k?a.selected=i.defaultSelected:"input"===k||"textarea"===k?a.defaultValue=i.defaultValue:"script"===k&&a.text!==i.text&&(a.text=i.text);a.removeAttribute(f.expando)}}function q(i){return"undefined"!==typeof i.getElementsByTagName?i.getElementsByTagName("*"):"undefined"!==typeof i.querySelectorAll?
i.querySelectorAll("*"):[]}function u(i){Fa.test(i.type)&&(i.defaultChecked=i.checked)}function w(i,a){if(a in i)return a;for(var k=a.charAt(0).toUpperCase()+a.slice(1),f=a,b=Ga.length;b--;)if(a=Ga[b]+k,a in i)return a;return f}function p(i,a){i=a||i;return"none"===f.css(i,"display")||!f.contains(i.ownerDocument,i)}function B(i,a){for(var k,b,e=[],c=0,d=i.length;c<d;c++)k=i[c],k.style&&(e[c]=f._data(k,"olddisplay"),a?(!e[c]&&"none"===k.style.display&&(k.style.display=""),""===k.style.display&&p(k)&&
(e[c]=f._data(k,"olddisplay",C(k.nodeName)))):(b=M(k,"display"),!e[c]&&"none"!==b&&f._data(k,"olddisplay",b)));for(c=0;c<d;c++)if(k=i[c],k.style&&(!a||"none"===k.style.display||""===k.style.display))k.style.display=a?e[c]||"":"none";return i}function s(i,a,k){return(i=jb.exec(a))?Math.max(0,i[1]-(k||0))+(i[2]||"px"):a}function v(i,a,k,b){for(var a=k===(b?"border":"content")?4:"width"===a?1:0,e=0;4>a;a+=2)"margin"===k&&(e+=f.css(i,k+V[a],!0)),b?("content"===k&&(e-=parseFloat(M(i,"padding"+V[a]))||
0),"margin"!==k&&(e-=parseFloat(M(i,"border"+V[a]+"Width"))||0)):(e+=parseFloat(M(i,"padding"+V[a]))||0,"padding"!==k&&(e+=parseFloat(M(i,"border"+V[a]+"Width"))||0));return e}function y(i,a,k){var b="width"===a?i.offsetWidth:i.offsetHeight,e=!0,c=f.support.boxSizing&&"border-box"===f.css(i,"boxSizing");if(0>=b||null==b){b=M(i,a);if(0>b||null==b)b=i.style[a];if(la.test(b))return b;e=c&&(f.support.boxSizingReliable||b===i.style[a]);b=parseFloat(b)||0}return b+v(i,a,k||(c?"border":"content"),e)+"px"}
function C(i){if(ta[i])return ta[i];var a=f("<"+i+">").appendTo(t.body),k=a.css("display");a.remove();if("none"===k||""===k){W=t.body.appendChild(W||f.extend(t.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!da||!W.createElement)da=(W.contentWindow||W.contentDocument).document,da.write("<!doctype html><html><body>"),da.close();a=da.body.appendChild(da.createElement(i));k=M(a,"display");t.body.removeChild(W)}return ta[i]=k}function D(i,a,k,b){var e;if(f.isArray(a))f.each(a,function(a,
x){k||kb.test(i)?b(i,x):D(i+"["+("object"===typeof x?a:"")+"]",x,k,b)});else if(!k&&"object"===f.type(a))for(e in a)D(i+"["+e+"]",a[e],k,b);else b(i,a)}function E(i){return function(a,k){"string"!==typeof a&&(k=a,a="*");var b,e,c=a.toLowerCase().split(Z),d=0,h=c.length;if(f.isFunction(k))for(;d<h;d++)b=c[d],(e=/^\+/.test(b))&&(b=b.substr(1)||"*"),b=i[b]=i[b]||[],b[e?"unshift":"push"](k)}}function J(i,a,k,b,f,c){f=f||a.dataTypes[0];c=c||{};c[f]=!0;for(var d,f=i[f],h=0,g=f?f.length:0,l=i===ua;h<g&&
(l||!d);h++)d=f[h](a,k,b),"string"===typeof d&&(!l||c[d]?d=e:(a.dataTypes.unshift(d),d=J(i,a,k,b,d,c)));if((l||!d)&&!c["*"])d=J(i,a,k,b,"*",c);return d}function N(i,a){var k,b,c=f.ajaxSettings.flatOptions||{};for(k in a)a[k]!==e&&((c[k]?i:b||(b={}))[k]=a[k]);b&&f.extend(!0,i,b)}function K(){try{return new a.XMLHttpRequest}catch(i){}}function P(){setTimeout(function(){ea=e},0);return ea=f.now()}function z(i,a){f.each(a,function(a,x){for(var b=(ga[a]||[]).concat(ga["*"]),f=0,e=b.length;f<e&&!b[f].call(i,
a,x);f++);})}function G(i,a,k){var b=0,e=ma.length,c=f.Deferred().always(function(){delete d.elem}),d=function(){for(var a=ea||P(),a=Math.max(0,h.startTime+h.duration-a),x=1-(a/h.duration||0),k=0,b=h.tweens.length;k<b;k++)h.tweens[k].run(x);c.notifyWith(i,[h,x,a]);if(1>x&&b)return a;c.resolveWith(i,[h]);return!1},h=c.promise({elem:i,props:f.extend({},a),opts:f.extend(!0,{specialEasing:{}},k),originalProperties:a,originalOptions:k,startTime:ea||P(),duration:k.duration,tweens:[],createTween:function(a,
x){var k=f.Tween(i,h.opts,a,x,h.opts.specialEasing[a]||h.opts.easing);h.tweens.push(k);return k},stop:function(a){for(var x=0,k=a?h.tweens.length:0;x<k;x++)h.tweens[x].run(1);a?c.resolveWith(i,[h,a]):c.rejectWith(i,[h,a]);return this}}),k=h.props;for(ia(k,h.opts.specialEasing);b<e;b++)if(a=ma[b].call(h,i,k,h.opts))return a;z(h,k);f.isFunction(h.opts.start)&&h.opts.start.call(i,h);f.fx.timer(f.extend(d,{anim:h,queue:h.opts.queue,elem:i}));return h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}
function ia(i,a){var k,b,e,c,d;for(k in i)if(b=f.camelCase(k),e=a[b],c=i[k],f.isArray(c)&&(e=c[1],c=i[k]=c[0]),k!==b&&(i[b]=c,delete i[k]),(d=f.cssHooks[b])&&"expand"in d)for(k in c=d.expand(c),delete i[b],c)k in i||(i[k]=c[k],a[k]=e);else a[b]=e}function I(i,a,k,b,f){return new I.prototype.init(i,a,k,b,f)}function L(i,a){for(var k,b={height:i},f=0,a=a?1:0;4>f;f+=2-a)k=V[f],b["margin"+k]=b["padding"+k]=i;a&&(b.opacity=b.width=i);return b}function S(i){return f.isWindow(i)?i:9===i.nodeType?i.defaultView||
i.parentWindow:!1}var R,A,t=a.document,F=a.location,O=a.navigator,X=a.jQuery,T=a.$,na=Array.prototype.push,U=Array.prototype.slice,Ha=Array.prototype.indexOf,lb=Object.prototype.toString,va=Object.prototype.hasOwnProperty,wa=String.prototype.trim,f=function(i,a){return new f.fn.init(i,a,R)},oa=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,mb=/\S/,Z=/\s+/,nb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ob=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ia=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pb=/^[\],:{}\s]*$/,qb=/(?:^|:|,)(?:\s*\[)+/g,
rb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,sb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,tb=/^-ms-/,ub=/-([\da-z])/gi,vb=function(i,a){return(a+"").toUpperCase()},pa=function(){t.addEventListener?(t.removeEventListener("DOMContentLoaded",pa,!1),f.ready()):"complete"===t.readyState&&(t.detachEvent("onreadystatechange",pa),f.ready())},Ja={};f.fn=f.prototype={constructor:f,init:function(i,a,k){var b;if(!i)return this;if(i.nodeType)return this.context=this[0]=i,this.length=1,this;
if("string"===typeof i){if((b="<"===i.charAt(0)&&">"===i.charAt(i.length-1)&&3<=i.length?[null,i,null]:ob.exec(i))&&(b[1]||!a)){if(b[1])return i=(a=a instanceof f?a[0]:a)&&a.nodeType?a.ownerDocument||a:t,i=f.parseHTML(b[1],i,!0),Ia.test(b[1])&&f.isPlainObject(a)&&this.attr.call(i,a,!0),f.merge(this,i);if((a=t.getElementById(b[2]))&&a.parentNode){if(a.id!==b[2])return k.find(i);this.length=1;this[0]=a}this.context=t;this.selector=i;return this}return!a||a.jquery?(a||k).find(i):this.constructor(a).find(i)}if(f.isFunction(i))return k.ready(i);
i.selector!==e&&(this.selector=i.selector,this.context=i.context);return f.makeArray(i,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return U.call(this)},get:function(i){return null==i?this.toArray():0>i?this[this.length+i]:this[i]},pushStack:function(i,a,b){i=f.merge(this.constructor(),i);i.prevObject=this;i.context=this.context;"find"===a?i.selector=this.selector+(this.selector?" ":"")+b:a&&(i.selector=this.selector+"."+a+"("+b+")");return i},
each:function(i,a){return f.each(this,i,a)},ready:function(i){f.ready.promise().done(i);return this},eq:function(i){i=+i;return-1===i?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(U.apply(this,arguments),"slice",U.call(arguments).join(","))},map:function(i){return this.pushStack(f.map(this,function(a,b){return i.call(a,b,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:na,sort:[].sort,
splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var i,a,b,c,d,h=arguments[0]||{},g=1,l=arguments.length,j=!1;"boolean"===typeof h&&(j=h,h=arguments[1]||{},g=2);"object"!==typeof h&&!f.isFunction(h)&&(h={});for(l===g&&(h=this,--g);g<l;g++)if(null!=(i=arguments[g]))for(a in i)b=h[a],c=i[a],h!==c&&(j&&c&&(f.isPlainObject(c)||(d=f.isArray(c)))?(d?(d=!1,b=b&&f.isArray(b)?b:[]):b=b&&f.isPlainObject(b)?b:{},h[a]=f.extend(j,b,c)):c!==e&&(h[a]=c));return h};f.extend({noConflict:function(i){a.$===
f&&(a.$=T);i&&a.jQuery===f&&(a.jQuery=X);return f},isReady:!1,readyWait:1,holdReady:function(i){i?f.readyWait++:f.ready(!0)},ready:function(i){if(!(!0===i?--f.readyWait:f.isReady)){if(!t.body)return setTimeout(f.ready,1);f.isReady=!0;!0!==i&&0<--f.readyWait||(A.resolveWith(t,[f]),f.fn.trigger&&f(t).trigger("ready").off("ready"))}},isFunction:function(i){return"function"===f.type(i)},isArray:Array.isArray||function(i){return"array"===f.type(i)},isWindow:function(i){return null!=i&&i==i.window},isNumeric:function(i){return!isNaN(parseFloat(i))&&
isFinite(i)},type:function(i){return null==i?""+i:Ja[lb.call(i)]||"object"},isPlainObject:function(i){if(!i||"object"!==f.type(i)||i.nodeType||f.isWindow(i))return!1;try{if(i.constructor&&!va.call(i,"constructor")&&!va.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var b in i);return b===e||va.call(i,b)},isEmptyObject:function(i){for(var a in i)return!1;return!0},error:function(i){throw Error(i);},parseHTML:function(i,a,b){var e;if(!i||"string"!==typeof i)return null;
"boolean"===typeof a&&(b=a,a=0);a=a||t;if(e=Ia.exec(i))return[a.createElement(e[1])];e=f.buildFragment([i],a,b?null:[]);return f.merge([],(e.cacheable?f.clone(e.fragment):e.fragment).childNodes)},parseJSON:function(i){if(!i||"string"!==typeof i)return null;i=f.trim(i);if(a.JSON&&a.JSON.parse)return a.JSON.parse(i);if(pb.test(i.replace(rb,"@").replace(sb,"]").replace(qb,"")))return(new Function("return "+i))();f.error("Invalid JSON: "+i)},parseXML:function(i){var b,k;if(!i||"string"!==typeof i)return null;
try{a.DOMParser?(k=new DOMParser,b=k.parseFromString(i,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(i))}catch(c){b=e}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+i);return b},noop:function(){},globalEval:function(i){i&&mb.test(i)&&(a.execScript||function(i){a.eval.call(a,i)})(i)},camelCase:function(i){return i.replace(tb,"ms-").replace(ub,vb)},nodeName:function(i,a){return i.nodeName&&i.nodeName.toLowerCase()===
a.toLowerCase()},each:function(i,a,b){var c,d=0,h=i.length,g=h===e||f.isFunction(i);if(b)if(g)for(c in i){if(!1===a.apply(i[c],b))break}else for(;d<h&&!1!==a.apply(i[d++],b););else if(g)for(c in i){if(!1===a.call(i[c],c,i[c]))break}else for(;d<h&&!1!==a.call(i[d],d,i[d++]););return i},trim:wa&&!wa.call("\ufeff\u00a0")?function(i){return null==i?"":wa.call(i)}:function(i){return null==i?"":(i+"").replace(nb,"")},makeArray:function(i,a){var b,e=a||[];null!=i&&(b=f.type(i),null==i.length||"string"===
b||"function"===b||"regexp"===b||f.isWindow(i)?na.call(e,i):f.merge(e,i));return e},inArray:function(i,a,b){var f;if(a){if(Ha)return Ha.call(a,i,b);f=a.length;for(b=b?0>b?Math.max(0,f+b):b:0;b<f;b++)if(b in a&&a[b]===i)return b}return-1},merge:function(i,a){var b=a.length,f=i.length,c=0;if("number"===typeof b)for(;c<b;c++)i[f++]=a[c];else for(;a[c]!==e;)i[f++]=a[c++];i.length=f;return i},grep:function(i,a,b){for(var f,e=[],c=0,d=i.length,b=!!b;c<d;c++)f=!!a(i[c],c),b!==f&&e.push(i[c]);return e},map:function(i,
a,b){var c,d,h=[],g=0,l=i.length;if(i instanceof f||l!==e&&"number"===typeof l&&(0<l&&i[0]&&i[l-1]||0===l||f.isArray(i)))for(;g<l;g++)c=a(i[g],g,b),null!=c&&(h[h.length]=c);else for(d in i)c=a(i[d],d,b),null!=c&&(h[h.length]=c);return h.concat.apply([],h)},guid:1,proxy:function(a,b){var k,c;"string"===typeof b&&(k=a[b],b=a,a=k);if(!f.isFunction(a))return e;c=U.call(arguments,2);k=function(){return a.apply(b,c.concat(U.call(arguments)))};k.guid=a.guid=a.guid||f.guid++;return k},access:function(a,b,
k,c,d,h,g){var l,j=null==k,p=0,m=a.length;if(k&&"object"===typeof k){for(p in k)f.access(a,b,p,k[p],1,h,c);d=1}else if(c!==e){l=g===e&&f.isFunction(c);j&&(l?(l=b,b=function(a,i,b){return l.call(f(a),b)}):(b.call(a,c),b=null));if(b)for(;p<m;p++)b(a[p],k,l?c.call(a[p],p,b(a[p],k)):c,g);d=1}return d?a:j?b.call(a):m?b(a[0],k):h},now:function(){return(new Date).getTime()}});f.ready.promise=function(i){if(!A)if(A=f.Deferred(),"complete"===t.readyState)setTimeout(f.ready,1);else if(t.addEventListener)t.addEventListener("DOMContentLoaded",
pa,!1),a.addEventListener("load",f.ready,!1);else{t.attachEvent("onreadystatechange",pa);a.attachEvent("onload",f.ready);var b=!1;try{b=null==a.frameElement&&t.documentElement}catch(k){}b&&b.doScroll&&function ka(){if(!f.isReady){try{b.doScroll("left")}catch(a){return setTimeout(ka,50)}f.ready()}}()}return A.promise(i)};f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Ja["[object "+b+"]"]=b.toLowerCase()});R=f(t);var Da={};f.Callbacks=function(a){var a="string"===
typeof a?Da[a]||d(a):f.extend({},a),b,k,c,h,g,l,j=[],p=!a.once&&[],m=function(f){b=a.memory&&f;k=!0;l=h||0;h=0;g=j.length;for(c=!0;j&&l<g;l++)if(!1===j[l].apply(f[0],f[1])&&a.stopOnFalse){b=!1;break}c=!1;j&&(p?p.length&&m(p.shift()):b?j=[]:o.disable())},o={add:function(){if(j){var k=j.length;(function wb(b){f.each(b,function(b,k){var x=f.type(k);"function"===x?(!a.unique||!o.has(k))&&j.push(k):k&&k.length&&"string"!==x&&wb(k)})})(arguments);c?g=j.length:b&&(h=k,m(b))}return this},remove:function(){j&&
f.each(arguments,function(a,i){for(var b;-1<(b=f.inArray(i,j,b));)j.splice(b,1),c&&(b<=g&&g--,b<=l&&l--)});return this},has:function(a){return-1<f.inArray(a,j)},empty:function(){j=[];return this},disable:function(){j=p=b=e;return this},disabled:function(){return!j},lock:function(){p=e;b||o.disable();return this},locked:function(){return!p},fireWith:function(a,i){i=i||[];i=[a,i.slice?i.slice():i];if(j&&(!k||p))c?p.push(i):m(i);return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return!!k}};
return o};f.extend({Deferred:function(a){var b=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],k="pending",c={state:function(){return k},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return f.Deferred(function(i){f.each(b,function(b,k){var x=k[0],c=a[b];e[k[1]](f.isFunction(c)?function(){var a=c.apply(this,arguments);if(a&&f.isFunction(a.promise))a.promise().done(i.resolve).fail(i.reject).progress(i.notify);
else i[x+"With"](this===e?i:this,[a])}:i[x])});a=null}).promise()},promise:function(a){return null!=a?f.extend(a,c):c}},e={};c.pipe=c.then;f.each(b,function(a,i){var f=i[2],d=i[3];c[i[1]]=f.add;d&&f.add(function(){k=d},b[a^1][2].disable,b[2][2].lock);e[i[0]]=f.fire;e[i[0]+"With"]=f.fireWith});c.promise(e);a&&a.call(e,e);return e},when:function(a){var b=0,k=U.call(arguments),c=k.length,e=1!==c||a&&f.isFunction(a.promise)?c:0,d=1===e?a:f.Deferred(),h=function(a,i,b){return function(f){i[a]=this;b[a]=
1<arguments.length?U.call(arguments):f;b===g?d.notifyWith(i,b):--e||d.resolveWith(i,b)}},g,l,j;if(1<c){g=Array(c);l=Array(c);for(j=Array(c);b<c;b++)k[b]&&f.isFunction(k[b].promise)?k[b].promise().done(h(b,j,k)).fail(d.reject).progress(h(b,l,g)):--e}e||d.resolveWith(j,k);return d.promise()}});f.support=function(){var i,b,k,c,e,d,h,g=t.createElement("div");g.setAttribute("className","t");g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=g.getElementsByTagName("*");k=
g.getElementsByTagName("a")[0];if(!b||!k||!b.length)return{};c=t.createElement("select");e=c.appendChild(t.createElement("option"));b=g.getElementsByTagName("input")[0];k.style.cssText="top:1px;float:left;opacity:.5";i={leadingWhitespace:3===g.firstChild.nodeType,tbody:!g.getElementsByTagName("tbody").length,htmlSerialize:!!g.getElementsByTagName("link").length,style:/top/.test(k.getAttribute("style")),hrefNormalized:"/a"===k.getAttribute("href"),opacity:/^0.5/.test(k.style.opacity),cssFloat:!!k.style.cssFloat,
checkOn:"on"===b.value,optSelected:e.selected,getSetAttribute:"t"!==g.className,enctype:!!t.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==t.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===t.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;i.noCloneChecked=b.cloneNode(!0).checked;c.disabled=!0;i.optDisabled=
!e.disabled;try{delete g.test}catch(l){i.deleteExpando=!1}!g.addEventListener&&g.attachEvent&&g.fireEvent&&(g.attachEvent("onclick",k=function(){i.noCloneEvent=!1}),g.cloneNode(!0).fireEvent("onclick"),g.detachEvent("onclick",k));b=t.createElement("input");b.value="t";b.setAttribute("type","radio");i.radioValue="t"===b.value;b.setAttribute("checked","checked");b.setAttribute("name","t");g.appendChild(b);k=t.createDocumentFragment();k.appendChild(g.lastChild);i.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked;
i.appendChecked=b.checked;k.removeChild(b);k.appendChild(g);if(g.attachEvent)for(d in{submit:!0,change:!0,focusin:!0})b="on"+d,(h=b in g)||(g.setAttribute(b,"return;"),h="function"===typeof g[b]),i[d+"Bubbles"]=h;f(function(){var b,f,k,c=t.getElementsByTagName("body")[0];c&&(b=t.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",c.insertBefore(b,c.firstChild),f=t.createElement("div"),b.appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
k=f.getElementsByTagName("td"),k[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===k[0].offsetHeight,k[0].style.display="",k[1].style.display="none",i.reliableHiddenOffsets=h&&0===k[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",i.boxSizing=4===f.offsetWidth,i.doesNotIncludeMarginInBodyOffset=1!==c.offsetTop,a.getComputedStyle&&
(i.pixelPosition="1%"!==(a.getComputedStyle(f,null)||{}).top,i.boxSizingReliable="4px"===(a.getComputedStyle(f,null)||{width:"4px"}).width,k=t.createElement("div"),k.style.cssText=f.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",k.style.marginRight=k.style.width="0",f.style.width="1px",f.appendChild(k),i.reliableMarginRight=!parseFloat((a.getComputedStyle(k,null)||{}).marginRight)),"undefined"!==typeof f.style.zoom&&(f.innerHTML="",f.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",
i.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.style.overflow="visible",f.innerHTML="<div></div>",f.firstChild.style.width="5px",i.shrinkWrapBlocks=3!==f.offsetWidth,b.style.zoom=1),c.removeChild(b))});k.removeChild(g);b=k=c=e=b=k=g=null;return i}();var hb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gb=/([A-Z])/g;f.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},
hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!c(a)},data:function(a,b,k,c){if(f.acceptData(a)){var d=f.expando,h="string"===typeof b,g=a.nodeType,l=g?f.cache:a,j=g?a[d]:a[d]&&d;if(j&&l[j]&&(c||l[j].data)||!(h&&k===e)){j||(g?a[d]=j=f.deletedIds.pop()||f.guid++:j=d);l[j]||(l[j]={},g||(l[j].toJSON=f.noop));if("object"===typeof b||"function"===typeof b)c?l[j]=f.extend(l[j],b):l[j].data=f.extend(l[j].data,b);a=l[j];c||(a.data||(a.data={}),a=a.data);k!==e&&(a[f.camelCase(b)]=
k);h?(k=a[b],null==k&&(k=a[f.camelCase(b)])):k=a;return k}}},removeData:function(a,b,k){if(f.acceptData(a)){var e,d,h,g=a.nodeType,l=g?f.cache:a,j=g?a[f.expando]:f.expando;if(l[j]){if(b&&(e=k?l[j]:l[j].data)){f.isArray(b)||(b in e?b=[b]:(b=f.camelCase(b),b=b in e?[b]:b.split(" ")));d=0;for(h=b.length;d<h;d++)delete e[b[d]];if(!(k?c:f.isEmptyObject)(e))return}if(k||!(delete l[j].data,!c(l[j])))g?f.cleanData([a],!0):f.support.deleteExpando||l!=l.window?delete l[j]:l[j]=null}}},_data:function(a,b,k){return f.data(a,
b,k,!0)},acceptData:function(a){var b=a.nodeName&&f.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});f.fn.extend({data:function(a,c){var k,d,h,g,l,j=this[0],p=0,m=null;if(a===e){if(this.length&&(m=f.data(j),1===j.nodeType&&!f._data(j,"parsedAttrs"))){h=j.attributes;for(l=h.length;p<l;p++)g=h[p].name,g.indexOf("data-")||(g=f.camelCase(g.substring(5)),b(j,g,m[g]));f._data(j,"parsedAttrs",!0)}return m}if("object"===typeof a)return this.each(function(){f.data(this,a)});
k=a.split(".",2);k[1]=k[1]?"."+k[1]:"";d=k[1]+"!";return f.access(this,function(c){if(c===e)return m=this.triggerHandler("getData"+d,[k[0]]),m===e&&j&&(m=f.data(j,a),m=b(j,a,m)),m===e&&k[1]?this.data(k[0]):m;k[1]=c;this.each(function(){var b=f(this);b.triggerHandler("setData"+d,k);f.data(this,a,c);b.triggerHandler("changeData"+d,k)})},null,c,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}});f.extend({queue:function(a,b,k){var c;if(a)return b=
(b||"fx")+"queue",c=f._data(a,b),k&&(!c||f.isArray(k)?c=f._data(a,b,f.makeArray(k)):c.push(k)),c||[]},dequeue:function(a,b){var b=b||"fx",k=f.queue(a,b),c=k.length,e=k.shift(),d=f._queueHooks(a,b),h=function(){f.dequeue(a,b)};"inprogress"===e&&(e=k.shift(),c--);e&&("fx"===b&&k.unshift("inprogress"),delete d.stop,e.call(a,h,d));!c&&d&&d.empty.fire()},_queueHooks:function(a,b){var k=b+"queueHooks";return f._data(a,k)||f._data(a,k,{empty:f.Callbacks("once memory").add(function(){f.removeData(a,b+"queue",
!0);f.removeData(a,k,!0)})})}});f.fn.extend({queue:function(a,b){var k=2;"string"!==typeof a&&(b=a,a="fx",k--);return arguments.length<k?f.queue(this[0],a):b===e?this:this.each(function(){var k=f.queue(this,a,b);f._queueHooks(this,a);"fx"===a&&"inprogress"!==k[0]&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,f){var c=setTimeout(b,a);f.stop=function(){clearTimeout(c)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var k,c=1,d=f.Deferred(),h=this,g=this.length,l=function(){--c||d.resolveWith(h,[h])};"string"!==typeof a&&(b=a,a=e);for(a=a||"fx";g--;)if((k=f._data(h[g],a+"queueHooks"))&&k.empty)c++,k.empty.add(l);l();return d.promise(b)}});var Y,Ka,La,Ma=/[\t\r\n]/g,xb=/\r/g,yb=/^(?:button|input)$/i,zb=/^(?:button|input|object|select|textarea)$/i,Ab=/^a(?:rea|)$/i,Na=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
Oa=f.support.getSetAttribute;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,1<arguments.length)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=e,delete this[a]}catch(b){}})},addClass:function(a){var b,k,c,e,d,h,g;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});
if(a&&"string"===typeof a){b=a.split(Z);k=0;for(c=this.length;k<c;k++)if(e=this[k],1===e.nodeType)if(!e.className&&1===b.length)e.className=a;else{d=" "+e.className+" ";h=0;for(g=b.length;h<g;h++)0>d.indexOf(" "+b[h]+" ")&&(d+=b[h]+" ");e.className=f.trim(d)}}return this},removeClass:function(a){var b,k,c,d,h,g,l;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&"string"===typeof a||a===e){b=(a||"").split(Z);g=0;for(l=this.length;g<l;g++)if(c=
this[g],1===c.nodeType&&c.className){k=(" "+c.className+" ").replace(Ma," ");d=0;for(h=b.length;d<h;d++)for(;0<=k.indexOf(" "+b[d]+" ");)k=k.replace(" "+b[d]+" "," ");c.className=a?f.trim(k):""}}return this},toggleClass:function(a,b){var k=typeof a,c="boolean"===typeof b;return f.isFunction(a)?this.each(function(k){f(this).toggleClass(a.call(this,k,this.className,b),b)}):this.each(function(){if("string"===k)for(var e,d=0,h=f(this),g=b,l=a.split(Z);e=l[d++];)g=c?g:!h.hasClass(e),h[g?"addClass":"removeClass"](e);
else if("undefined"===k||"boolean"===k)this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===a?"":f._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,f=this.length;b<f;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ma," ").indexOf(a))return!0;return!1},val:function(a){var b,k,c,d=this[0];if(arguments.length)return c=f.isFunction(a),this.each(function(k){var d=f(this);if(1===this.nodeType&&(k=c?a.call(this,
k,d.val()):a,null==k?k="":"number"===typeof k?k+="":f.isArray(k)&&(k=f.map(k,function(a){return a==null?"":a+""})),b=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],!b||!("set"in b)||b.set(this,k,"value")===e))this.value=k});if(d){if((b=f.valHooks[d.type]||f.valHooks[d.nodeName.toLowerCase()])&&"get"in b&&(k=b.get(d,"value"))!==e)return k;k=d.value;return"string"===typeof k?k.replace(xb,""):null==k?"":k}}});f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||
b.specified?a.value:a.text}},select:{get:function(a){for(var b,k=a.options,c=a.selectedIndex,e=(a="select-one"===a.type||0>c)?null:[],d=a?c+1:k.length,h=0>c?d:a?c:0;h<d;h++)if(b=k[h],(b.selected||h===c)&&(f.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!f.nodeName(b.parentNode,"optgroup"))){b=f(b).val();if(a)return b;e.push(b)}return e},set:function(a,b){var k=f.makeArray(b);f(a).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),
k)});k.length||(a.selectedIndex=-1);return k}}},attrFn:{},attr:function(a,b,k,c){var d,h,g=a.nodeType;if(a&&!(3===g||8===g||2===g)){if(c&&f.isFunction(f.fn[b]))return f(a)[b](k);if("undefined"===typeof a.getAttribute)return f.prop(a,b,k);if(c=1!==g||!f.isXMLDoc(a))b=b.toLowerCase(),h=f.attrHooks[b]||(Na.test(b)?Ka:Y);if(k!==e)if(null===k)f.removeAttr(a,b);else{if(h&&"set"in h&&c&&(d=h.set(a,k,b))!==e)return d;a.setAttribute(b,k+"");return k}else{if(h&&"get"in h&&c&&null!==(d=h.get(a,b)))return d;
d=a.getAttribute(b);return null===d?e:d}}},removeAttr:function(a,b){var k,c,e,d,h=0;if(b&&1===a.nodeType)for(c=b.split(Z);h<c.length;h++)if(e=c[h])k=f.propFix[e]||e,(d=Na.test(e))||f.attr(a,e,""),a.removeAttribute(Oa?e:k),d&&k in a&&(a[k]=!1)},attrHooks:{type:{set:function(a,b){if(yb.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&"radio"===b&&f.nodeName(a,"input")){var k=a.value;a.setAttribute("type",b);k&&(a.value=k);return b}}},value:{get:function(a,
b){return Y&&f.nodeName(a,"button")?Y.get(a,b):b in a?a.value:null},set:function(a,b,k){if(Y&&f.nodeName(a,"button"))return Y.set(a,b,k);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,k){var c,d,h;h=a.nodeType;if(a&&!(3===h||8===h||2===h)){if(1!==
h||!f.isXMLDoc(a))b=f.propFix[b]||b,d=f.propHooks[b];return k!==e?d&&"set"in d&&(c=d.set(a,k,b))!==e?c:a[b]=k:d&&"get"in d&&null!==(c=d.get(a,b))?c:a[b]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&&a.href?0:e}}}});Ka={get:function(a,b){var k,c=f.prop(a,b);return!0===c||"boolean"!==typeof c&&(k=a.getAttributeNode(b))&&!1!==k.nodeValue?b.toLowerCase():e},set:function(a,b,k){!1===b?f.removeAttr(a,
k):(b=f.propFix[k]||k,b in a&&(a[b]=!0),a.setAttribute(k,k.toLowerCase()));return k}};Oa||(La={name:!0,id:!0,coords:!0},Y=f.valHooks.button={get:function(a,b){var f;return(f=a.getAttributeNode(b))&&(La[b]?""!==f.value:f.specified)?f.value:e},set:function(a,b,f){var c=a.getAttributeNode(f);c||(c=t.createAttribute(f),a.setAttributeNode(c));return c.value=b+""}},f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,i){if(""===i)return a.setAttribute(b,"auto"),
i}})}),f.attrHooks.contenteditable={get:Y.get,set:function(a,b,f){""===b&&(b="false");Y.set(a,b,f)}});f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return null===a?e:a}})});f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||e},set:function(a,b){return a.style.cssText=b+""}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,
{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=0<=f.inArray(f(a).val(),b)}})});var xa=/^(?:textarea|input|select)$/i,
Pa=/^([^\.]*|)(?:\.(.+)|)$/,Bb=/(?:^|\s)hover(\.\S+|)\b/,Cb=/^key/,Db=/^(?:mouse|contextmenu)|click/,Qa=/^(?:focusinfocus|focusoutblur)$/,Ra=function(a){return f.event.special.hover?a:a.replace(Bb,"mouseenter$1 mouseleave$1")};f.event={add:function(a,b,k,c,d){var h,g,l,j,p,m,o,u,n;if(!(3===a.nodeType||8===a.nodeType||!b||!k||!(h=f._data(a)))){k.handler&&(o=k,k=o.handler,d=o.selector);k.guid||(k.guid=f.guid++);l=h.events;l||(h.events=l={});g=h.handle;g||(h.handle=g=function(a){return typeof f!=="undefined"&&
(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(g.elem,arguments):e},g.elem=a);b=f.trim(Ra(b)).split(" ");for(h=0;h<b.length;h++){j=Pa.exec(b[h])||[];p=j[1];m=(j[2]||"").split(".").sort();n=f.event.special[p]||{};p=(d?n.delegateType:n.bindType)||p;n=f.event.special[p]||{};j=f.extend({type:p,origType:j[1],data:c,handler:k,guid:k.guid,selector:d,needsContext:d&&f.expr.match.needsContext.test(d),namespace:m.join(".")},o);u=l[p];if(!u&&(u=l[p]=[],u.delegateCount=0,!n.setup||!1===n.setup.call(a,
c,m,g)))a.addEventListener?a.addEventListener(p,g,!1):a.attachEvent&&a.attachEvent("on"+p,g);n.add&&(n.add.call(a,j),j.handler.guid||(j.handler.guid=k.guid));d?u.splice(u.delegateCount++,0,j):u.push(j);f.event.global[p]=!0}a=null}},global:{},remove:function(a,b,k,c,e){var d,h,g,l,j,p,m,o,u,n,q=f.hasData(a)&&f._data(a);if(q&&(m=q.events)){b=f.trim(Ra(b||"")).split(" ");for(d=0;d<b.length;d++)if(h=Pa.exec(b[d])||[],g=l=h[1],h=h[2],g){o=f.event.special[g]||{};g=(c?o.delegateType:o.bindType)||g;u=m[g]||
[];j=u.length;h=h?RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(p=0;p<u.length;p++)if(n=u[p],(e||l===n.origType)&&(!k||k.guid===n.guid)&&(!h||h.test(n.namespace))&&(!c||c===n.selector||"**"===c&&n.selector))u.splice(p--,1),n.selector&&u.delegateCount--,o.remove&&o.remove.call(a,n);0===u.length&&j!==u.length&&((!o.teardown||!1===o.teardown.call(a,h,q.handle))&&f.removeEvent(a,g,q.handle),delete m[g])}else for(g in m)f.event.remove(a,g+b[d],k,c,!0);f.isEmptyObject(m)&&
(delete q.handle,f.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,c,k,d){if(!k||!(3===k.nodeType||8===k.nodeType)){var h,g,l,j,p,m,o=b.type||b;l=[];if(!Qa.test(o+f.event.triggered)&&(0<=o.indexOf("!")&&(o=o.slice(0,-1),h=!0),0<=o.indexOf(".")&&(l=o.split("."),o=l.shift(),l.sort()),k&&!f.event.customEvent[o]||f.event.global[o]))if(b="object"===typeof b?b[f.expando]?b:new f.Event(o,b):new f.Event(o),b.type=o,b.isTrigger=!0,b.exclusive=h,b.namespace=
l.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0>o.indexOf(":")?"on"+o:"",k){if(b.result=e,b.target||(b.target=k),c=null!=c?f.makeArray(c):[],c.unshift(b),j=f.event.special[o]||{},!(j.trigger&&!1===j.trigger.apply(k,c))){m=[[k,j.bindType||o]];if(!d&&!j.noBubble&&!f.isWindow(k)){p=j.delegateType||o;h=Qa.test(p+o)?k:k.parentNode;for(g=k;h;h=h.parentNode)m.push([h,p]),g=h;if(g===(k.ownerDocument||t))m.push([g.defaultView||g.parentWindow||a,p])}for(g=
0;g<m.length&&!b.isPropagationStopped();g++)h=m[g][0],b.type=m[g][1],(p=(f._data(h,"events")||{})[b.type]&&f._data(h,"handle"))&&p.apply(h,c),(p=l&&h[l])&&f.acceptData(h)&&(p.apply&&!1===p.apply(h,c))&&b.preventDefault();b.type=o;if(!d&&!b.isDefaultPrevented()&&(!j._default||!1===j._default.apply(k.ownerDocument,c))&&!("click"===o&&f.nodeName(k,"a"))&&f.acceptData(k))if(l&&k[o]&&("focus"!==o&&"blur"!==o||0!==b.target.offsetWidth)&&!f.isWindow(k))(g=k[l])&&(k[l]=null),f.event.triggered=o,k[o](),f.event.triggered=
e,g&&(k[l]=g);return b.result}}else for(g in k=f.cache,k)k[g].events&&k[g].events[o]&&f.event.trigger(b,c,k[g].handle.elem,!0)}},dispatch:function(b){var b=f.event.fix(b||a.event),c,k,d,h,g,l,j=(f._data(this,"events")||{})[b.type]||[],p=j.delegateCount,o=U.call(arguments),m=!b.exclusive&&!b.namespace,u=f.event.special[b.type]||{},n=[];o[0]=b;b.delegateTarget=this;if(!(u.preDispatch&&!1===u.preDispatch.call(this,b))){if(p&&!(b.button&&"click"===b.type))for(k=b.target;k!=this;k=k.parentNode||this)if(!0!==
k.disabled||"click"!==b.type){h={};g=[];for(c=0;c<p;c++)d=j[c],l=d.selector,h[l]===e&&(h[l]=d.needsContext?0<=f(l,this).index(k):f.find(l,this,null,[k]).length),h[l]&&g.push(d);g.length&&n.push({elem:k,matches:g})}j.length>p&&n.push({elem:this,matches:j.slice(p)});for(c=0;c<n.length&&!b.isPropagationStopped();c++){h=n[c];b.currentTarget=h.elem;for(k=0;k<h.matches.length&&!b.isImmediatePropagationStopped();k++)if(d=h.matches[k],m||!b.namespace&&!d.namespace||b.namespace_re&&b.namespace_re.test(d.namespace))b.data=
d.data,b.handleObj=d,d=((f.event.special[d.origType]||{}).handle||d.handler).apply(h.elem,o),d!==e&&(b.result=d,!1===d&&(b.preventDefault(),b.stopPropagation()))}u.postDispatch&&u.postDispatch.call(this,b);return b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&
(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var f,c,d=b.button,h=b.fromElement;null==a.pageX&&null!=b.clientX&&(f=a.target.ownerDocument||t,c=f.documentElement,f=f.body,a.pageX=b.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&
f.clientTop||0));!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h);!a.which&&d!==e&&(a.which=d&1?1:d&2?3:d&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var b,c,e=a,d=f.event.fixHooks[a.type]||{},h=d.props?this.props.concat(d.props):this.props,a=f.Event(e);for(b=h.length;b;)c=h[--b],a[c]=e[c];a.target||(a.target=e.srcElement||t);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,e):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},
blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,e){a=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});e?f.event.trigger(a,null,b):f.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};f.event.handle=f.event.dispatch;f.removeEvent=t.removeEventListener?function(a,b,f){a.removeEventListener&&a.removeEventListener(b,
f,!1)}:function(a,b,f){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,f))};f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?j:g):this.type=a;b&&f.extend(this,b);this.timeStamp=a&&a.timeStamp||f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=
j;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=j;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,
bindType:b,handle:function(a){var i,c=a.relatedTarget,e=a.handleObj;if(!c||c!==this&&!f.contains(this,c))a.type=e.origType,i=e.handler.apply(this,arguments),a.type=b;return i}}});f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=f.nodeName(a,"input")||f.nodeName(a,"button")?a.form:e)&&!f._data(a,"_submit_attached"))f.event.add(a,"submit._submit",function(a){a._submit_bubble=
!0}),f._data(a,"_submit_attached",!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change={setup:function(){if(xa.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)f.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&
(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);f.event.simulate("change",this,a,!0)});return!1}f.event.add(this,"beforeactivate._change",function(a){a=a.target;xa.test(a.nodeName)&&!f._data(a,"_change_attached")&&(f.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),f._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;
if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return!xa.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){0===c++&&t.addEventListener(a,e,!0)},teardown:function(){0===--c&&t.removeEventListener(a,e,!0)}}});
f.fn.extend({on:function(a,b,c,d,h){var l,j;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=e);for(j in a)this.on(j,b,c,a[j],h);return this}null==c&&null==d?(d=b,c=b=e):null==d&&("string"===typeof b?(d=c,c=e):(d=c,c=b,b=e));if(!1===d)d=g;else if(!d)return this;1===h&&(l=d,d=function(a){f().off(a);return l.apply(this,arguments)},d.guid=l.guid||(l.guid=f.guid++));return this.each(function(){f.event.add(this,a,d,c,b)})},one:function(a,b,f,c){return this.on(a,b,f,c,1)},off:function(a,b,c){var d;
if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,f(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"===typeof a){for(d in a)this.off(d,b,a[d]);return this}if(!1===b||"function"===typeof b)c=b,b=e;!1===c&&(c=g);return this.each(function(){f.event.remove(this,a,c,b)})},bind:function(a,b,f){return this.on(a,null,b,f)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},
die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,f,c){return this.on(b,a,f,c)},undelegate:function(a,b,f){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",f)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,e=0,d=function(c){var k=(f._data(this,"lastToggle"+a.guid)||0)%e;
f._data(this,"lastToggle"+a.guid,k+1);c.preventDefault();return b[k].apply(this,arguments)||!1};for(d.guid=c;e<b.length;)b[e++].guid=c;return this.click(d)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,i){if(i==null){i=a;a=null}return arguments.length>
0?this.on(b,null,a,i):this.trigger(b)};if(Cb.test(b))f.event.fixHooks[b]=f.event.keyHooks;if(Db.test(b))f.event.fixHooks[b]=f.event.mouseHooks});(function(a,b){function c(a,b,i,f){var i=i||[],b=b||O,e,d,k,h,g=b.nodeType;if(!a||"string"!==typeof a)return i;if(1!==g&&9!==g)return[];k=y(b);if(!k&&!f&&(e=Z.exec(a)))if(h=e[1])if(9===g)if((d=b.getElementById(h))&&d.parentNode){if(d.id===h)return i.push(d),i}else return i;else{if(b.ownerDocument&&(d=b.ownerDocument.getElementById(h))&&C(b,d)&&d.id===h)return i.push(d),
i}else{if(e[2])return ja.apply(i,P.call(b.getElementsByTagName(a),0)),i;if((h=e[3])&&ca&&b.getElementsByClassName)return ja.apply(i,P.call(b.getElementsByClassName(h),0)),i}return q(a.replace(R,"$1"),b,i,f,k)}function e(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function d(a){return function(b){var i=b.nodeName.toLowerCase();return("input"===i||"button"===i)&&b.type===a}}function h(a){return T(function(b){b=+b;return T(function(i,f){for(var c,e=a([],i.length,b),d=
e.length;d--;)if(i[c=e[d]])i[c]=!(f[c]=i[c])})})}function g(a,b,i){if(a===b)return i;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function l(a,b){var i,f,e,d,h,g,j;if(h=ia[z][a+" "])return b?0:h.slice(0);h=a;g=[];for(j=s.preFilter;h;){if(!i||(f=na.exec(h)))f&&(h=h.slice(f[0].length)||h),g.push(e=[]);i=!1;if(f=Q.exec(h))e.push(i=new G(f.shift())),h=h.slice(i.length),i.type=f[0].replace(R," ");for(d in s.filter)if((f=W[d].exec(h))&&(!j[d]||(f=j[d](f))))e.push(i=new G(f.shift())),
h=h.slice(i.length),i.type=d,i.matches=f;if(!i)break}return b?h.length:h?c.error(a):ia(a,g).slice(0)}function j(a,b,i){var f=b.dir,c=i&&"parentNode"===b.dir,e=N++;return b.first?function(b,i,e){for(;b=b[f];)if(c||1===b.nodeType)return a(b,i,e)}:function(b,i,d){if(d)for(;b=b[f];){if((c||1===b.nodeType)&&a(b,i,d))return b}else for(var k,h=J+" "+e+" ",g=h+w;b=b[f];)if(c||1===b.nodeType){if((k=b[z])===g)return b.sizset;if("string"===typeof k&&0===k.indexOf(h)){if(b.sizset)return b}else{b[z]=g;if(a(b,
i,d))return b.sizset=!0,b;b.sizset=!1}}}}function p(a){return 1<a.length?function(b,i,f){for(var c=a.length;c--;)if(!a[c](b,i,f))return!1;return!0}:a[0]}function o(a,b,i,f,c){for(var e,d=[],k=0,h=a.length,g=null!=b;k<h;k++)if(e=a[k])if(!i||i(e,f,c))d.push(e),g&&b.push(k);return d}function m(a,b,i,f,e,d){f&&!f[z]&&(f=m(f));e&&!e[z]&&(e=m(e,d));return T(function(d,h,g,l){var j,x,p=[],m=[],u=h.length,n;if(!(n=d)){n=b||"*";for(var H=g.nodeType?[g]:g,q=[],r=0,ka=H.length;r<ka;r++)c(n,H[r],q);n=q}n=a&&
(d||!b)?o(n,p,a,g,l):n;H=i?e||(d?a:u||f)?[]:h:n;i&&i(n,H,g,l);if(f){j=o(H,m);f(j,[],g,l);for(g=j.length;g--;)if(x=j[g])H[m[g]]=!(n[m[g]]=x)}if(d){if(e||a){if(e){j=[];for(g=H.length;g--;)if(x=H[g])j.push(n[g]=x);e(null,H=[],j,l)}for(g=H.length;g--;)if((x=H[g])&&-1<(j=e?U.call(d,x):p[g]))d[j]=!(h[j]=x)}}else H=o(H===h?H.splice(u,H.length):H),e?e(null,h,H,l):ja.apply(h,H)})}function u(a){var b,i,f,c=a.length,e=s.relative[a[0].type];i=e||s.relative[" "];for(var d=e?1:0,k=j(function(a){return a===b},i,
!0),h=j(function(a){return-1<U.call(b,a)},i,!0),g=[function(a,i,f){return!e&&(f||i!==K)||((b=i).nodeType?k(a,i,f):h(a,i,f))}];d<c;d++)if(i=s.relative[a[d].type])g=[j(p(g),i)];else{i=s.filter[a[d].type].apply(null,a[d].matches);if(i[z]){for(f=++d;f<c&&!s.relative[a[f].type];f++);return m(1<d&&p(g),1<d&&a.slice(0,d-1).join("").replace(R,"$1"),i,d<f&&u(a.slice(d,f)),f<c&&u(a=a.slice(f)),f<c&&a.join(""))}g.push(i)}return p(g)}function n(a,b){var i=0<b.length,f=0<a.length,e=function(d,h,g,l,j){var x,p,
m=[],u=0,n="0",H=d&&[],q=null!=j,r=K,ka=d||f&&s.find.TAG("*",j&&h.parentNode||h),B=J+=null==r?1:Math.E;q&&(K=h!==O&&h,w=e.el);for(;null!=(j=ka[n]);n++){if(f&&j){for(x=0;p=a[x];x++)if(p(j,h,g)){l.push(j);break}q&&(J=B,w=++e.el)}i&&((j=!p&&j)&&u--,d&&H.push(j))}u+=n;if(i&&n!==u){for(x=0;p=b[x];x++)p(H,m,h,g);if(d){if(0<u)for(;n--;)!H[n]&&!m[n]&&(m[n]=I.call(l));m=o(m)}ja.apply(l,m);q&&!d&&(0<m.length&&1<u+b.length)&&c.uniqueSort(l)}q&&(J=B,K=r);return H};e.el=0;return i?T(e):e}function q(a,b,i,f,c){var e,
d,k,h,g=l(a);if(!f&&1===g.length){d=g[0]=g[0].slice(0);if(2<d.length&&"ID"===(k=d[0]).type&&9===b.nodeType&&!c&&s.relative[d[1].type]){b=s.find.ID(k.matches[0].replace(ha,""),b,c)[0];if(!b)return i;a=a.slice(d.shift().length)}for(e=W.POS.test(a)?-1:d.length-1;0<=e;e--){k=d[e];if(s.relative[h=k.type])break;if(h=s.find[h])if(f=h(k.matches[0].replace(ha,""),V.test(d[0].type)&&b.parentNode||b,c)){d.splice(e,1);a=f.length&&d.join("");if(!a)return ja.apply(i,P.call(f,0)),i;break}}}t(a,g)(f,b,c,i,V.test(a));
return i}function r(){}var w,B,s,v,y,C,t,D,E,K,A=!0,z=("sizcache"+Math.random()).replace(".",""),G=String,O=a.document,F=O.documentElement,J=0,N=0,I=[].pop,ja=[].push,P=[].slice,U=[].indexOf||function(a){for(var b=0,i=this.length;b<i;b++)if(this[b]===a)return b;return-1},T=function(a,b){a[z]=null==b||b;return a},X=function(){var a={},b=[];return T(function(i,f){b.push(i)>s.cacheLength&&delete a[b.shift()];return a[i+" "]=f},a)},L=X(),ia=X(),M=X(),X="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",S=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+X+")|[^:]|\\\\.)*|.*))\\)|)",R=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),na=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Q=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,Y=RegExp(S),Z=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,V=/[\x20\t\r\n\f]*[+~]/,aa=/h\d/i,ba=/input|select|textarea|button/i,
ha=/\\(?!\\)/g,W={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+X),PSEUDO:RegExp("^"+S),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},fa=function(a){var b=O.createElement("div");try{return a(b)}catch(i){return!1}finally{}},X=fa(function(a){a.appendChild(O.createComment(""));return!a.getElementsByTagName("*").length}),da=fa(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),
ea=fa(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),ca=fa(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),ga=fa(function(a){a.id=z+0;a.innerHTML="<a name='"+z+"'></a><div name='"+z+"'></div>";F.insertBefore(a,F.firstChild);var b=O.getElementsByName&&
O.getElementsByName(z).length===2+O.getElementsByName(z+0).length;B=!O.getElementById(z);F.removeChild(a);return b});try{P.call(F.childNodes,0)[0].nodeType}catch(la){P=function(a){for(var b,i=[];b=this[a];a++)i.push(b);return i}}c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){return 0<c(b,null,null,[a]).length};v=c.getText=function(a){var b,i="",f=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=
a.nextSibling)i+=v(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[f];f++)i+=v(b);return i};y=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};C=c.contains=F.contains?function(a,b){var i=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!(!f||!(1===f.nodeType&&i.contains&&i.contains(f)))}:F.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;
return!1};c.attr=function(a,b){var i,f=y(a);f||(b=b.toLowerCase());return(i=s.attrHandle[b])?i(a):f||ea?a.getAttribute(b):(i=a.getAttributeNode(b))?"boolean"===typeof a[b]?a[b]?b:null:i.specified?i.value:null:null};s=c.selectors={cacheLength:50,createPseudo:T,match:W,attrHandle:da?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:B?function(a,b,i){if("undefined"!==typeof b.getElementById&&!i)return(a=b.getElementById(a))&&a.parentNode?
[a]:[]}:function(a,i,f){if("undefined"!==typeof i.getElementById&&!f)return(i=i.getElementById(a))?i.id===a||"undefined"!==typeof i.getAttributeNode&&i.getAttributeNode("id").value===a?[i]:b:[]},TAG:X?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var i=b.getElementsByTagName(a);if("*"===a){for(var f,c=[],d=0;f=i[d];d++)1===f.nodeType&&c.push(f);return c}return i},NAME:ga&&function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},
CLASS:ca&&function(a,b,i){if("undefined"!==typeof b.getElementsByClassName&&!i)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ha,"");a[3]=(a[4]||a[5]||"").replace(ha,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===
a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]);return a},PSEUDO:function(a){var b,i;if(W.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4]){if(Y.test(b)&&(i=l(b,!0))&&(i=b.indexOf(")",b.length-i)-b.length))b=b.slice(0,i),a[0]=a[0].slice(0,i);a[2]=b}return a.slice(0,3)}},filter:{ID:B?function(a){a=a.replace(ha,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(ha,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&
b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(ha,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=L[z][a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&L(a,function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,i){return function(f){f=c.attr(f,a);if(null==f)return"!="===
b;if(!b)return!0;f+="";return"="===b?f===i:"!="===b?f!==i:"^="===b?i&&0===f.indexOf(i):"*="===b?i&&-1<f.indexOf(i):"$="===b?i&&f.substr(f.length-i.length)===i:"~="===b?-1<(" "+f+" ").indexOf(i):"|="===b?f===i||f.substr(0,i.length+1)===i+"-":!1}},CHILD:function(a,b,i,f){return"nth"===a?function(a){var b,c;b=a.parentNode;if(1===i&&0===f)return!0;if(b){c=0;for(b=b.firstChild;b&&!(1===b.nodeType&&(c++,a===b));b=b.nextSibling);}c-=f;return c===i||0===c%i&&0<=c/i}:function(b){var i=b;switch(a){case "only":case "first":for(;i=
i.previousSibling;)if(1===i.nodeType)return!1;if("first"===a)return!0;i=b;case "last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var i,f=s.pseudos[a]||s.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[z]?f(b):1<f.length?(i=[a,a,"",b],s.setFilters.hasOwnProperty(a.toLowerCase())?T(function(a,i){for(var c,d=f(a,b),e=d.length;e--;)c=U.call(a,d[e]),a[c]=!(i[c]=d[e])}):function(a){return f(a,0,i)}):f}},pseudos:{not:T(function(a){var b=[],i=
[],f=t(a.replace(R,"$1"));return f[z]?T(function(a,b,i,c){for(var c=f(a,null,c,[]),d=a.length;d--;)if(i=c[d])a[d]=!(b[d]=i)}):function(a,c,d){b[0]=a;f(b,null,d,i);return!i.pop()}}),has:T(function(a){return function(b){return 0<c(a,b).length}}),contains:T(function(a){return function(b){return-1<(b.textContent||b.innerText||v(b)).indexOf(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&
!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!s.pseudos.empty(a)},empty:function(a){for(var b,a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return aa.test(a.nodeName)},text:function(a){var b,i;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(i=a.getAttribute("type"))||i.toLowerCase()===b)},radio:e("radio"),
checkbox:e("checkbox"),file:e("file"),password:e("password"),image:e("image"),submit:d("submit"),reset:d("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return ba.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:h(function(){return[0]}),last:h(function(a,
b){return[b-1]}),eq:h(function(a,b,i){return[0>i?i+b:i]}),even:h(function(a,b){for(var i=0;i<b;i+=2)a.push(i);return a}),odd:h(function(a,b){for(var i=1;i<b;i+=2)a.push(i);return a}),lt:h(function(a,b,i){for(b=0>i?i+b:i;0<=--b;)a.push(b);return a}),gt:h(function(a,b,i){for(i=0>i?i+b:i;++i<b;)a.push(i);return a})}};D=F.compareDocumentPosition?function(a,b){return a===b?(E=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,
b){if(a===b)return E=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var i,f,c=[],d=[];i=a.parentNode;f=b.parentNode;var e=i;if(i===f)return g(a,b);if(i){if(!f)return 1}else return-1;for(;e;)c.unshift(e),e=e.parentNode;for(e=f;e;)d.unshift(e),e=e.parentNode;i=c.length;f=d.length;for(e=0;e<i&&e<f;e++)if(c[e]!==d[e])return g(c[e],d[e]);return e===i?g(a,d[e],-1):g(c[e],b,1)};[0,0].sort(D);A=!E;c.uniqueSort=function(a){var b,i=[],f=1,c=0;E=A;a.sort(D);if(E){for(;b=a[f];f++)b===
a[f-1]&&(c=i.push(f));for(;c--;)a.splice(i[c],1)}return a};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};t=c.compile=function(a,b){var i,f=[],c=[],e=M[z][a+" "];if(!e){b||(b=l(a));for(i=b.length;i--;)e=u(b[i]),e[z]?f.push(e):c.push(e);e=M(a,n(c,f))}return e};O.querySelectorAll&&function(){var a,b=q,i=/'|\\/g,f=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[":focus"],d=[":active"],h=F.matchesSelector||F.mozMatchesSelector||F.webkitMatchesSelector||F.oMatchesSelector||
F.msMatchesSelector;fa(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||e.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||e.push(":checked")});fa(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&e.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||e.push(":enabled",
":disabled")});e=RegExp(e.join("|"));q=function(a,f,c,d,k){if(!d&&!k&&!e.test(a)){var h,g,j=!0,x=z;g=f;h=9===f.nodeType&&a;if(1===f.nodeType&&"object"!==f.nodeName.toLowerCase()){h=l(a);(j=f.getAttribute("id"))?x=j.replace(i,"\\$&"):f.setAttribute("id",x);x="[id='"+x+"'] ";for(g=h.length;g--;)h[g]=x+h[g].join("");g=V.test(a)&&f.parentNode||f;h=h.join(",")}if(h)try{return ja.apply(c,P.call(g.querySelectorAll(h),0)),c}catch(p){}finally{j||f.removeAttribute("id")}}return b(a,f,c,d,k)};h&&(fa(function(b){a=
h.call(b,"div");try{h.call(b,"[test!='']:sizzle"),d.push("!=",S)}catch(i){}}),d=RegExp(d.join("|")),c.matchesSelector=function(b,i){i=i.replace(f,"='$1']");if(!y(b)&&!d.test(i)&&!e.test(i))try{var g=h.call(b,i);if(g||a||b.document&&11!==b.document.nodeType)return g}catch(j){}return 0<c(i,null,null,[b]).length})}();s.pseudos.nth=s.pseudos.eq;s.filters=r.prototype=s.pseudos;s.setFilters=new r;c.attr=f.attr;f.find=c;f.expr=c.selectors;f.expr[":"]=f.expr.pseudos;f.unique=c.uniqueSort;f.text=c.getText;
f.isXMLDoc=c.isXML;f.contains=c.contains})(a);var Eb=/Until$/,Fb=/^(?:parents|prev(?:Until|All))/,ib=/^.[^:#\[\.,]*$/,Sa=f.expr.match.needsContext,Gb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b,c,e,d,h,g,j=this;if("string"!==typeof a)return f(a).filter(function(){b=0;for(c=j.length;b<c;b++)if(f.contains(j[b],this))return!0});g=this.pushStack("","find",a);b=0;for(c=this.length;b<c;b++)if(e=g.length,f.find(a,this[b],g),0<b)for(d=e;d<g.length;d++)for(h=0;h<e;h++)if(g[h]===
g[d]){g.splice(d--,1);break}return g},has:function(a){var b,c=f(a,this),e=c.length;return this.filter(function(){for(b=0;b<e;b++)if(f.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(h(this,a,!1),"not",a)},filter:function(a){return this.pushStack(h(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?Sa.test(a)?0<=f(a,this.context).index(this[0]):0<f.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,e=0,d=this.length,h=[],g=Sa.test(a)||
"string"!==typeof a?f(a,b||this.context):0;e<d;e++)for(c=this[e];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?-1<g.index(c):f.find.matchesSelector(c,a)){h.push(c);break}c=c.parentNode}h=1<h.length?f.unique(h):h;return this.pushStack(h,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"===typeof a?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),e=f.merge(this.get(),
c);return this.pushStack(m(c[0])||m(e[0])?e:f.unique(e))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});f.fn.andSelf=f.fn.addBack;f.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return n(a,"nextSibling")},prev:function(a){return n(a,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},
prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.merge([],a.childNodes)}},function(a,b){f.fn[a]=function(c,e){var d=f.map(this,b,c);Eb.test(a)||(e=c);e&&
"string"===typeof e&&(d=f.filter(e,d));d=1<this.length&&!Gb[a]?f.unique(d):d;1<this.length&&Fb.test(a)&&(d=d.reverse());return this.pushStack(d,a,U.call(arguments).join(","))}});f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,b,c){for(var d=[],a=a[b];a&&9!==a.nodeType&&(c===e||1!==a.nodeType||!f(a).is(c));)1===a.nodeType&&d.push(a),a=a[b];return d},sibling:function(a,b){for(var f=[];a;a=a.nextSibling)1===
a.nodeType&&a!==b&&f.push(a);return f}});var Ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Hb=/ jQuery\d+="(?:null|\d+)"/g,ya=/^\s+/,Ta=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ua=/<([\w:]+)/,Ib=/<tbody/i,Jb=/<|&#?\w+;/,Kb=/<(?:script|style|link)/i,Lb=/<(?:script|object|embed|option|style)/i,za=RegExp("<(?:"+Ea+")[\\s/>]","i"),Fa=/^(?:checkbox|radio)$/,
Va=/checked\s*(?:[^=]|=\s*.checked.)/i,Mb=/\/(java|ecma)script/i,Nb=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Q={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Wa=l(t),Aa=Wa.appendChild(t.createElement("div"));Q.optgroup=
Q.option;Q.tbody=Q.tfoot=Q.colgroup=Q.caption=Q.thead;Q.th=Q.td;f.support.htmlSerialize||(Q._default=[1,"X<div>","</div>"]);f.fn.extend({text:function(a){return f.access(this,function(a){return a===e?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);
b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||
f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!m(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return this.pushStack(f.merge(a,
this),"before",this.selector)}},after:function(){if(!m(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=f.clean(arguments);return this.pushStack(f.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,e=0;null!=(c=this[e]);e++)if(!a||f.filter(a,[c]).length)!b&&1===c.nodeType&&(f.cleanData(c.getElementsByTagName("*")),f.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,
b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&f.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var b=this[0]||{},c=0,i=this.length;if(a===e)return 1===b.nodeType?b.innerHTML.replace(Hb,""):e;if("string"===typeof a&&!Kb.test(a)&&(f.support.htmlSerialize||!za.test(a))&&(f.support.leadingWhitespace||!ya.test(a))&&
!Q[(Ua.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ta,"<$1></$2>");try{for(;c<i;c++)b=this[c]||{},1===b.nodeType&&(f.cleanData(b.getElementsByTagName("*")),b.innerHTML=a);b=0}catch(d){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(!m(this[0])){if(f.isFunction(a))return this.each(function(b){var c=f(this),e=c.html();c.replaceWith(a.call(this,b,e))});"string"!==typeof a&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove();
b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){var a=[].concat.apply([],a),d,h,g,j=0,l=a[0],p=[],m=this.length;if(!f.support.checkClone&&1<m&&"string"===typeof l&&Va.test(l))return this.each(function(){f(this).domManip(a,b,c)});if(f.isFunction(l))return this.each(function(d){var h=f(this);a[0]=l.call(this,d,b?h.html():e);h.domManip(a,b,c)});if(this[0]){d=f.buildFragment(a,
this,p);g=d.fragment;h=g.firstChild;1===g.childNodes.length&&(g=h);if(h){b=b&&f.nodeName(h,"tr");for(d=d.cacheable||m-1;j<m;j++)c.call(b&&f.nodeName(this[j],"table")?this[j].getElementsByTagName("tbody")[0]||this[j].appendChild(this[j].ownerDocument.createElement("tbody")):this[j],j===d?g:f.clone(g,!0,!0))}g=h=null;p.length&&f.each(p,function(a,b){b.src?f.ajax?f.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):f.error("no ajax"):f.globalEval((b.text||b.textContent||b.innerHTML||
"").replace(Nb,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});f.buildFragment=function(a,b,c){var d,h,g,j=a[0],b=b||t,b=!b.nodeType&&b[0]||b,b=b.ownerDocument||b;if(1===a.length&&"string"===typeof j&&512>j.length&&b===t&&"<"===j.charAt(0)&&!Lb.test(j)&&(f.support.checkClone||!Va.test(j))&&(f.support.html5Clone||!za.test(j)))h=!0,d=f.fragments[j],g=d!==e;d||(d=b.createDocumentFragment(),f.clean(a,b,d,c),h&&(f.fragments[j]=g&&d));return{fragment:d,cacheable:h}};f.fragments={};f.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d,e=0,h=[],c=f(c),g=c.length;d=1===this.length&&this[0].parentNode;if((null==d||d&&11===d.nodeType&&1===d.childNodes.length)&&1===g)return c[b](this[0]),this;for(;e<g;e++)d=(0<e?this.clone(!0):this).get(),f(c[e])[b](d),h=h.concat(d);return this.pushStack(h,a,c.selector)}});f.extend({clone:function(a,b,c){var d,e,h,g;f.support.html5Clone||f.isXMLDoc(a)||!za.test("<"+a.nodeName+
">")?g=a.cloneNode(!0):(Aa.innerHTML=a.outerHTML,Aa.removeChild(g=Aa.firstChild));if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!f.isXMLDoc(a)){o(a,g);d=q(a);e=q(g);for(h=0;d[h];++h)e[h]&&o(d[h],e[h])}if(b&&(r(a,g),c)){d=q(a);e=q(g);for(h=0;d[h];++h)r(d[h],e[h])}return g},clean:function(a,b,c,d){var e,h,g,j,p,m,o=b===t&&Wa,n=[];if(!b||"undefined"===typeof b.createDocumentFragment)b=t;for(e=0;null!=(g=a[e]);e++)if("number"===typeof g&&(g+=""),g){if("string"===
typeof g)if(Jb.test(g)){o=o||l(b);m=b.createElement("div");o.appendChild(m);g=g.replace(Ta,"<$1></$2>");h=(Ua.exec(g)||["",""])[1].toLowerCase();j=Q[h]||Q._default;p=j[0];for(m.innerHTML=j[1]+g+j[2];p--;)m=m.lastChild;if(!f.support.tbody){p=Ib.test(g);j="table"===h&&!p?m.firstChild&&m.firstChild.childNodes:"<table>"===j[1]&&!p?m.childNodes:[];for(h=j.length-1;0<=h;--h)f.nodeName(j[h],"tbody")&&!j[h].childNodes.length&&j[h].parentNode.removeChild(j[h])}!f.support.leadingWhitespace&&ya.test(g)&&m.insertBefore(b.createTextNode(ya.exec(g)[0]),
m.firstChild);g=m.childNodes;m.parentNode.removeChild(m)}else g=b.createTextNode(g);g.nodeType?n.push(g):f.merge(n,g)}m&&(g=m=o=null);if(!f.support.appendChecked)for(e=0;null!=(g=n[e]);e++)f.nodeName(g,"input")?u(g):"undefined"!==typeof g.getElementsByTagName&&f.grep(g.getElementsByTagName("input"),u);if(c){a=function(a){if(!a.type||Mb.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(e=0;null!=(g=n[e]);e++)if(!f.nodeName(g,"script")||!a(g))c.appendChild(g),
"undefined"!==typeof g.getElementsByTagName&&(g=f.grep(f.merge([],g.getElementsByTagName("script")),a),n.splice.apply(n,[e+1,0].concat(g)),e+=g.length)}return n},cleanData:function(a,b){for(var c,e,d,h,g=0,j=f.expando,l=f.cache,p=f.support.deleteExpando,m=f.event.special;null!=(d=a[g]);g++)if(b||f.acceptData(d))if(c=(e=d[j])&&l[e]){if(c.events)for(h in c.events)m[h]?f.event.remove(d,h):f.removeEvent(d,h,c.handle);l[e]&&(delete l[e],p?delete d[j]:d.removeAttribute?d.removeAttribute(j):d[j]=null,f.deletedIds.push(e))}}});
(function(){var a,b;f.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=f.uaMatch(O.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);f.browser=b;f.sub=function(){function a(b,c){return new a.fn.init(b,
c)}f.extend(true,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,i){i&&i instanceof f&&!(i instanceof a)&&(i=a(i));return f.fn.init.call(this,c,i,b)};a.fn.init.prototype=a.fn;var b=a(t);return a}})();var M,W,da,Ba=/alpha\([^)]*\)/i,Ob=/opacity=([^)]*)/,Pb=/^(top|right|bottom|left)$/,Qb=/^(none|table(?!-c[ea]).+)/,Xa=/^margin/,jb=RegExp("^("+oa+")(.*)$","i"),la=RegExp("^("+oa+")(?!px)[a-z%]+$","i"),Rb=RegExp("^([-+])=("+oa+")","i"),ta={BODY:"block"},
Sb={position:"absolute",visibility:"hidden",display:"block"},Ya={letterSpacing:0,fontWeight:400},V=["Top","Right","Bottom","Left"],Ga=["Webkit","O","Moz","ms"],Tb=f.fn.toggle;f.fn.extend({css:function(a,b){return f.access(this,function(a,b,c){return c!==e?f.style(a,b,c):f.css(a,b)},a,b,1<arguments.length)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a,b){var c="boolean"===typeof a;return f.isFunction(a)&&f.isFunction(b)?Tb.apply(this,arguments):this.each(function(){(c?
a:p(this))?f(this).show():f(this).hide()})}});f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=M(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var h,g,j,l=f.camelCase(b),p=a.style,b=f.cssProps[l]||(f.cssProps[l]=w(p,l));j=f.cssHooks[b]||f.cssHooks[l];if(c!==e){g=
typeof c;if("string"===g&&(h=Rb.exec(c)))c=(h[1]+1)*h[2]+parseFloat(f.css(a,b)),g="number";if(!(null==c||"number"===g&&isNaN(c)))if("number"===g&&!f.cssNumber[l]&&(c+="px"),!j||!("set"in j)||(c=j.set(a,c,d))!==e)try{p[b]=c}catch(m){}}else return j&&"get"in j&&(h=j.get(a,!1,d))!==e?h:p[b]}},css:function(a,b,c,d){var h,g;g=f.camelCase(b);b=f.cssProps[g]||(f.cssProps[g]=w(a.style,g));(g=f.cssHooks[b]||f.cssHooks[g])&&"get"in g&&(h=g.get(a,!0,d));h===e&&(h=M(a,b));"normal"===h&&b in Ya&&(h=Ya[b]);return c||
d!==e?(a=parseFloat(h),c||f.isNumeric(a)?a||0:h):h},swap:function(a,b,c){var f,d={};for(f in b)d[f]=a.style[f],a.style[f]=b[f];c=c.call(a);for(f in b)a.style[f]=d[f];return c}});a.getComputedStyle?M=function(b,c){var d,e,h,g,j=a.getComputedStyle(b,null),l=b.style;j&&(d=j.getPropertyValue(c)||j[c],""===d&&!f.contains(b.ownerDocument,b)&&(d=f.style(b,c)),la.test(d)&&Xa.test(c)&&(e=l.width,h=l.minWidth,g=l.maxWidth,l.minWidth=l.maxWidth=l.width=d,d=j.width,l.width=e,l.minWidth=h,l.maxWidth=g));return d}:
t.documentElement.currentStyle&&(M=function(a,b){var c,f,d=a.currentStyle&&a.currentStyle[b],e=a.style;null==d&&e&&e[b]&&(d=e[b]);if(la.test(d)&&!Pb.test(b)){c=e.left;if(f=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;e.left="fontSize"===b?"1em":d;d=e.pixelLeft+"px";e.left=c;f&&(a.runtimeStyle.left=f)}return""===d?"auto":d});f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&Qb.test(M(a,"display"))?f.swap(a,Sb,function(){return y(a,
b,d)}):y(a,b,d)},set:function(a,c,d){return s(a,c,d?v(a,b,d,f.support.boxSizing&&"border-box"===f.css(a,"boxSizing")):0)}}});f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+100*b+")":"",h=d&&d.filter||c.filter||"";c.zoom=1;if(1<=b&&(""===f.trim(h.replace(Ba,""))&&c.removeAttribute)&&(c.removeAttribute("filter"),
d&&!d.filter))return;c.filter=Ba.test(h)?h.replace(Ba,e):h+" "+e}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){if(b)return M(a,"marginRight")})}});!f.support.pixelPosition&&f.fn.position&&f.each(["top","left"],function(a,b){f.cssHooks[b]={get:function(a,c){if(c){var d=M(a,b);return la.test(d)?f(a).position()[b]+"px":d}}}})});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){return 0===a.offsetWidth&&
0===a.offsetHeight||!f.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||M(a,"display"))},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){for(var f="string"===typeof c?c.split(" "):[c],d={},c=0;4>c;c++)d[a+V[c]+b]=f[c]||f[c-2]||f[0];return d}};Xa.test(a)||(f.cssHooks[a+b].set=s)});var Ub=/%20/g,kb=/\[\]$/,Za=/\r?\n/g,Vb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Wb=/^(?:select|textarea)/i;f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Wb.test(this.nodeName)||Vb.test(this.type))}).map(function(a,b){var c=f(this).val();return null==c?null:f.isArray(c)?f.map(c,function(a){return{name:b.name,value:a.replace(Za,"\r\n")}}):{name:b.name,value:c.replace(Za,"\r\n")}}).get()}});
f.param=function(a,b){var c,d=[],h=function(a,b){b=f.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===e&&(b=f.ajaxSettings&&f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){h(this.name,this.value)});else for(c in a)D(c,a[c],b,h);return d.join("&").replace(Ub,"+")};var aa,ba,Xb=/#.*$/,Yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Zb=/^(?:GET|HEAD)$/,$b=/^\/\//,$a=/\?/,ac=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
bc=/([?&])_=[^&]*/,ab=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,bb=f.fn.load,ua={},cb={},db=["*/"]+["*"];try{ba=F.href}catch(ic){ba=t.createElement("a"),ba.href="",ba=ba.href}aa=ab.exec(ba.toLowerCase())||[];f.fn.load=function(a,b,c){if("string"!==typeof a&&bb)return bb.apply(this,arguments);if(!this.length)return this;var d,h,g,j=this,l=a.indexOf(" ");0<=l&&(d=a.slice(l,a.length),a=a.slice(0,l));f.isFunction(b)?(c=b,b=e):b&&"object"===typeof b&&(h="POST");f.ajax({url:a,type:h,dataType:"html",
data:b,complete:function(a,b){c&&j.each(c,g||[a.responseText,b,a])}}).done(function(a){g=arguments;j.html(d?f("<div>").append(a.replace(ac,"")).find(d):a)});return this};f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}});f.each(["get","post"],function(a,b){f[b]=function(a,c,d,i){f.isFunction(c)&&(i=i||d,d=c,c=e);return f.ajax({type:b,url:a,data:c,success:d,dataType:i})}});f.extend({getScript:function(a,b){return f.get(a,
e,b,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?N(a,f.ajaxSettings):(b=a,a=f.ajaxSettings);N(a,b);return a},ajaxSettings:{url:ba,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(aa[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":db},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:E(ua),ajaxTransport:E(cb),ajax:function(a,b){function c(a,b,i,g){var k,p,o,B,x=b;if(2!==y){y=2;l&&clearTimeout(l);j=e;h=g||"";t.readyState=0<a?4:0;if(i){B=n;var g=t,v,C,D,sa,E=B.contents,z=B.dataTypes,K=B.responseFields;for(C in K)C in i&&(g[K[C]]=i[C]);for(;"*"===z[0];)z.shift(),v===
e&&(v=B.mimeType||g.getResponseHeader("content-type"));if(v)for(C in E)if(E[C]&&E[C].test(v)){z.unshift(C);break}if(z[0]in i)D=z[0];else{for(C in i){if(!z[0]||B.converters[C+" "+z[0]]){D=C;break}sa||(sa=C)}D=D||sa}D?(D!==z[0]&&z.unshift(D),B=i[D]):B=void 0}if(200<=a&&300>a||304===a)if(n.ifModified&&((i=t.getResponseHeader("Last-Modified"))&&(f.lastModified[d]=i),(i=t.getResponseHeader("Etag"))&&(f.etag[d]=i)),304===a)x="notmodified",k=!0;else{a:{p=n;o=B;var F,O,x=p.dataTypes.slice();v=x[0];C={};D=
0;p.dataFilter&&(o=p.dataFilter(o,p.dataType));if(x[1])for(F in p.converters)C[F.toLowerCase()]=p.converters[F];for(;i=x[++D];)if("*"!==i){if("*"!==v&&v!==i){F=C[v+" "+i]||C["* "+i];if(!F)for(O in C)if(k=O.split(" "),k[1]===i&&(F=C[v+" "+k[0]]||C["* "+k[0]])){!0===F?F=C[O]:!0!==C[O]&&(i=k[0],x.splice(D--,0,i));break}if(!0!==F)if(F&&p["throws"])o=F(o);else try{o=F(o)}catch(A){k={state:"parsererror",error:F?A:"No conversion from "+v+" to "+i};break a}}v=i}k={state:"success",data:o}}x=k.state;p=k.data;
o=k.error;k=!o}else if(o=x,!x||a)x="error",0>a&&(a=0);t.status=a;t.statusText=(b||x)+"";k?r.resolveWith(u,[p,x,t]):r.rejectWith(u,[t,x,o]);t.statusCode(s);s=e;m&&q.trigger("ajax"+(k?"Success":"Error"),[t,n,k?p:o]);w.fireWith(u,[t,x]);m&&(q.trigger("ajaxComplete",[t,n]),--f.active||f.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=e);var b=b||{},d,h,g,j,l,p,m,o,n=f.ajaxSetup({},b),u=n.context||n,q=u!==n&&(u.nodeType||u instanceof f)?f(u):f.event,r=f.Deferred(),w=f.Callbacks("once memory"),
s=n.statusCode||{},B={},v={},y=0,C="canceled",t={readyState:0,setRequestHeader:function(a,b){if(!y){var c=a.toLowerCase(),a=v[c]=v[c]||a;B[a]=b}return this},getAllResponseHeaders:function(){return y===2?h:null},getResponseHeader:function(a){var b;if(y===2){if(!g)for(g={};b=Yb.exec(h);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return b===e?null:b},overrideMimeType:function(a){if(!y)n.mimeType=a;return this},abort:function(a){a=a||C;j&&j.abort(a);c(0,a);return this}};r.promise(t);t.success=t.done;
t.error=t.fail;t.complete=w.add;t.statusCode=function(a){if(a){var b;if(y<2)for(b in a)s[b]=[s[b],a[b]];else{b=a[t.status];t.always(b)}}return this};n.url=((a||n.url)+"").replace(Xb,"").replace($b,aa[1]+"//");n.dataTypes=f.trim(n.dataType||"*").toLowerCase().split(Z);null==n.crossDomain&&(p=ab.exec(n.url.toLowerCase()),n.crossDomain=!(!p||!(p[1]!==aa[1]||p[2]!==aa[2]||(p[3]||("http:"===p[1]?80:443))!=(aa[3]||("http:"===aa[1]?80:443)))));n.data&&(n.processData&&"string"!==typeof n.data)&&(n.data=f.param(n.data,
n.traditional));J(ua,n,b,t);if(2===y)return t;m=n.global;n.type=n.type.toUpperCase();n.hasContent=!Zb.test(n.type);m&&0===f.active++&&f.event.trigger("ajaxStart");if(!n.hasContent&&(n.data&&(n.url+=($a.test(n.url)?"&":"?")+n.data,delete n.data),d=n.url,!1===n.cache)){p=f.now();var D=n.url.replace(bc,"$1_="+p);n.url=D+(D===n.url?($a.test(n.url)?"&":"?")+"_="+p:"")}(n.data&&n.hasContent&&!1!==n.contentType||b.contentType)&&t.setRequestHeader("Content-Type",n.contentType);n.ifModified&&(d=d||n.url,f.lastModified[d]&&
t.setRequestHeader("If-Modified-Since",f.lastModified[d]),f.etag[d]&&t.setRequestHeader("If-None-Match",f.etag[d]));t.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+db+"; q=0.01":""):n.accepts["*"]);for(o in n.headers)t.setRequestHeader(o,n.headers[o]);if(n.beforeSend&&(!1===n.beforeSend.call(u,t,n)||2===y))return t.abort();C="abort";for(o in{success:1,error:1,complete:1})t[o](n[o]);if(j=J(cb,n,b,t)){t.readyState=1;m&&q.trigger("ajaxSend",
[t,n]);n.async&&0<n.timeout&&(l=setTimeout(function(){t.abort("timeout")},n.timeout));try{y=1,j.send(B,c)}catch(E){if(2>y)c(-1,E);else throw E;}}else c(-1,"No Transport");return t},active:0,lastModified:{},etag:{}});var eb=[],cc=/\?/,qa=/(=)\?(?=&|$)|\?\?/,dc=f.now();f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=eb.pop()||f.expando+"_"+dc++;this[a]=!0;return a}});f.ajaxPrefilter("json jsonp",function(b,c,d){var h,g,j,l=b.data,p=b.url,n=!1!==b.jsonp,m=n&&qa.test(p),o=n&&!m&&"string"===
typeof l&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&qa.test(l);if("jsonp"===b.dataTypes[0]||m||o)return h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,g=a[h],m?b.url=p.replace(qa,"$1"+h):o?b.data=l.replace(qa,"$1"+h):n&&(b.url+=(cc.test(p)?"&":"?")+b.jsonp+"="+h),b.converters["script json"]=function(){j||f.error(h+" was not called");return j[0]},b.dataTypes[0]="json",a[h]=function(){j=arguments},d.always(function(){a[h]=g;if(b[h]){b.jsonpCallback=
c.jsonpCallback;eb.push(h)}j&&f.isFunction(g)&&g(j[0]);j=g=e}),"script"});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}});f.ajaxPrefilter("script",function(a){a.cache===e&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});f.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=t.head||t.getElementsByTagName("head")[0]||
t.documentElement;return{send:function(f,d){b=t.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,f){if(f||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;c&&b.parentNode&&c.removeChild(b);b=e;f||d(200,"success")}};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var ca,Ca=a.ActiveXObject?function(){for(var a in ca)ca[a](0,1)}:!1,ec=0;f.ajaxSettings.xhr=
a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&K()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:K;(function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(f.ajaxSettings.xhr());f.support.ajax&&f.ajaxTransport(function(b){if(!b.crossDomain||f.support.cors){var c;return{send:function(d,h){var g,j,l=b.xhr();b.username?l.open(b.type,b.url,b.async,b.username,b.password):l.open(b.type,b.url,b.async);if(b.xhrFields)for(j in b.xhrFields)l[j]=
b.xhrFields[j];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);!b.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{for(j in d)l.setRequestHeader(j,d[j])}catch(p){}l.send(b.hasContent&&b.data||null);c=function(a,d){var j,k,p,n,m;try{if(c&&(d||4===l.readyState))if(c=e,g&&(l.onreadystatechange=f.noop,Ca&&delete ca[g]),d)4!==l.readyState&&l.abort();else{j=l.status;p=l.getAllResponseHeaders();n={};if((m=l.responseXML)&&m.documentElement)n.xml=m;try{n.text=
l.responseText}catch(o){}try{k=l.statusText}catch(u){k=""}!j&&b.isLocal&&!b.crossDomain?j=n.text?200:404:1223===j&&(j=204)}}catch(q){d||h(-1,q)}n&&h(j,k,n,p)};b.async?4===l.readyState?setTimeout(c,0):(g=++ec,Ca&&(ca||(ca={},f(a).unload(Ca)),ca[g]=c),l.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}});var ea,ra,fc=/^(?:toggle|show|hide)$/,gc=RegExp("^(?:([-+])=|)("+oa+")([a-z%]*)$","i"),hc=/queueHooks$/,ma=[function(a,b,c){var d,e,h,g,j,l,n=this,m=a.style,o={},u=[],q=a.nodeType&&p(a);c.queue||
(j=f._queueHooks(a,"fx"),null==j.unqueued&&(j.unqueued=0,l=j.empty.fire,j.empty.fire=function(){j.unqueued||l()}),j.unqueued++,n.always(function(){n.always(function(){j.unqueued--;f.queue(a,"fx").length||j.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===f.css(a,"display")&&"none"===f.css(a,"float")&&(!f.support.inlineBlockNeedsLayout||"inline"===C(a.nodeName)?m.display="inline-block":m.zoom=1);c.overflow&&(m.overflow="hidden",
f.support.shrinkWrapBlocks||n.done(function(){m.overflow=c.overflow[0];m.overflowX=c.overflow[1];m.overflowY=c.overflow[2]}));for(d in b)h=b[d],fc.exec(h)&&(delete b[d],e=e||"toggle"===h,h!==(q?"hide":"show")&&u.push(d));if(b=u.length){h=f._data(a,"fxshow")||f._data(a,"fxshow",{});"hidden"in h&&(q=h.hidden);e&&(h.hidden=!q);q?f(a).show():n.done(function(){f(a).hide()});n.done(function(){var b;f.removeData(a,"fxshow",true);for(b in o)f.style(a,b,o[b])});for(d=0;d<b;d++)e=u[d],g=n.createTween(e,q?h[e]:
0),o[e]=h[e]||f.style(a,e),e in h||(h[e]=g.start,q&&(g.end=g.start,g.start="width"===e||"height"===e?1:0))}}],ga={"*":[function(a,b){var c,d,e=this.createTween(a,b),h=gc.exec(b),g=e.cur(),j=+g||0,l=1,p=20;if(h){c=+h[2];d=h[3]||(f.cssNumber[a]?"":"px");if("px"!==d&&j){j=f.css(e.elem,a,!0)||c||1;do l=l||".5",j/=l,f.style(e.elem,a,j+d);while(l!==(l=e.cur()/g)&&1!==l&&--p)}e.unit=d;e.start=j;e.end=h[1]?j+(h[1]+1)*c:c}return e}]};f.Animation=f.extend(G,{tweener:function(a,b){f.isFunction(a)?(b=a,a=["*"]):
a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],ga[c]=ga[c]||[],ga[c].unshift(b)},prefilter:function(a,b){b?ma.unshift(a):ma.push(a)}});f.Tween=I;I.prototype={constructor:I,init:function(a,b,c,d,e,h){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=h||(f.cssNumber[c]?"":"px")},cur:function(){var a=I.propHooks[this.prop];return a&&a.get?a.get(this):I.propHooks._default.get(this)},run:function(a){var b,c=I.propHooks[this.prop];
this.pos=this.options.duration?b=f.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):I.propHooks._default.set(this);return this}};I.prototype.init.prototype=I.prototype;I.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=f.css(a.elem,a.prop,!1,"");return!a||"auto"===
a?0:a},set:function(a){if(f.fx.step[a.prop])f.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[f.cssProps[a.prop]]||f.cssHooks[a.prop])?f.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};f.each(["toggle","show","hide"],function(a,b){var c=f.fn[b];f.fn[b]=function(d,e,h){return null==d||"boolean"===typeof d||!a&&f.isFunction(d)&&f.isFunction(e)?c.apply(this,arguments):
this.animate(L(b,!0),d,e,h)}});f.fn.extend({fadeTo:function(a,b,c,f){return this.filter(p).css("opacity",0).show().end().animate({opacity:b},a,c,f)},animate:function(a,b,c,d){var e=f.isEmptyObject(a),h=f.speed(b,c,d),b=function(){var b=G(this,f.extend({},a),h);e&&b.stop(!0)};return e||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=e);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=
true,e=a!=null&&a+"queueHooks",h=f.timers,g=f._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&hc.test(e)&&d(g[e]);for(e=h.length;e--;)if(h[e].elem===this&&(a==null||h[e].queue===a)){h[e].anim.stop(c);b=false;h.splice(e,1)}(b||!c)&&f.dequeue(this,a)})}});f.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,f){return this.animate(b,a,c,f)}});
f.speed=function(a,b,c){var d=a&&"object"===typeof a?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){f.isFunction(d.old)&&d.old.call(this);d.queue&&f.dequeue(this,d.queue)};return d};f.easing={linear:function(a){return a},swing:function(a){return 0.5-
Math.cos(a*Math.PI)/2}};f.timers=[];f.fx=I.prototype.init;f.fx.tick=function(){var a,b=f.timers,c=0;for(ea=f.now();c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop();ea=e};f.fx.timer=function(a){a()&&f.timers.push(a)&&!ra&&(ra=setInterval(f.fx.tick,f.fx.interval))};f.fx.interval=13;f.fx.stop=function(){clearInterval(ra);ra=null};f.fx.speeds={slow:600,fast:200,_default:400};f.fx.step={};f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===
b.elem}).length});var fb=/^(?:body|html)$/i;f.fn.offset=function(a){if(arguments.length)return a===e?this:this.each(function(b){f.offset.setOffset(this,a,b)});var b,c,d,h,g,j={top:0,left:0};if(d=(h=this[0])&&h.ownerDocument){if((c=d.body)===h)return f.offset.bodyOffset(h);b=d.documentElement;if(!f.contains(b,h))return j;"undefined"!==typeof h.getBoundingClientRect&&(j=h.getBoundingClientRect());d=S(d);h=b.clientTop||c.clientTop||0;c=b.clientLeft||c.clientLeft||0;g=d.pageYOffset||b.scrollTop;b=d.pageXOffset||
b.scrollLeft;return{top:j.top+g-h,left:j.left+b-c}}};f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");"static"===d&&(a.style.position="relative");var e=f(a),h=e.offset(),g=f.css(a,"top"),j=f.css(a,"left"),l={},p={};("absolute"===d||"fixed"===d)&&-1<f.inArray("auto",[g,j])?(p=e.position(),
d=p.top,j=p.left):(d=parseFloat(g)||0,j=parseFloat(j)||0);f.isFunction(b)&&(b=b.call(a,c,h));null!=b.top&&(l.top=b.top-h.top+d);null!=b.left&&(l.left=b.left-h.left+j);"using"in b?b.using.call(a,l):e.css(l)}};f.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=fb.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0;c.left-=parseFloat(f.css(a,"marginLeft"))||0;d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0;d.left+=
parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||t.body;a&&!fb.test(a.nodeName)&&"static"===f.css(a,"position");)a=a.offsetParent;return a||t.body})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);f.fn[a]=function(d){return f.access(this,function(a,d,h){var g=S(a);if(h===e)return g?b in g?g[b]:g.document.documentElement[d]:a[d];g?g.scrollTo(!c?
h:f(g).scrollLeft(),c?h:f(g).scrollTop()):a[d]=h},a,d,arguments.length,null)}});f.each({Height:"height",Width:"width"},function(a,b){f.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){f.fn[d]=function(d,h){var g=arguments.length&&(c||"boolean"!==typeof d),j=c||(!0===d||!0===h?"margin":"border");return f.access(this,function(b,c,d){return f.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],
c["offset"+a],c["client"+a])):d===e?f.css(b,c,d,j):f.style(b,c,d,j)},b,g?d:e,g,null)}})});a.jQuery=a.$=f;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);steal.executed("jquery");steal(function(){var a=window.can||{};if("undefined"===typeof GLOBALCAN||!1!==GLOBALCAN)window.can=a;a.isDeferred=function(a){var d=this.isFunction;return a&&d(a.then)&&d(a.pipe)};return a});steal.executed("can/util/can.js");
steal("can/util/can.js",function(a){a.each=function(a,d,b){var c=0,g;if(a)if("number"===typeof a.length&&a.pop){a.attr&&a.attr("length");for(g=a.length;c<g&&!1!==d.call(b||a[c],a[c],c,a);c++);}else if(a.hasOwnProperty)for(g in a)if(a.hasOwnProperty(g)&&!1===d.call(b||a[g],a[g],g,a))break;return a};return a});steal.executed("can/util/array/each.js");
steal("can/util/string",function(a){var e=0;a.Construct=function(){if(arguments.length)return a.Construct.extend.apply(a.Construct,arguments)};a.extend(a.Construct,{newInstance:function(){var a=this.instance(),b;a.setup&&(b=a.setup.apply(a,arguments));a.init&&a.init.apply(a,b||arguments);return a},_inherit:function(d,b,c){a.extend(c||d,d||{})},_overwrite:function(a,b,c,e){a[c]=e},setup:function(d){this.defaults=a.extend(!0,{},d.defaults,this.defaults)},instance:function(){e=1;var a=new this;e=0;return a},
extend:function(d,b,c){function g(){if(!e)return this.constructor!==g&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.constructor.newInstance.apply(this.constructor,arguments)}"string"!=typeof d&&(c=b,b=d,d=null);c||(c=b,b=null);var c=c||{},j=this.prototype,m,n,h,l;l=this.instance();a.Construct._inherit(c,j,l);for(m in this)this.hasOwnProperty(m)&&(g[m]=this[m]);a.Construct._inherit(b,this,g);if(d){h=d.split(".");n=h.pop();h=j=a.getObject(h.join("."),window,!0);var r=
a.underscore(d.replace(/\./g,"_")),o=a.underscore(n);j[n]=g}a.extend(g,{constructor:g,prototype:l,namespace:h,shortName:n,_shortName:o,fullName:d,_fullName:r});g.prototype.constructor=g;n=[this].concat(a.makeArray(arguments));l=g.setup.apply(g,n);g.init&&g.init.apply(g,l||n);return g}});return a.Construct});steal.executed("can/construct/construct.js");
steal("can/util",function(a){var e=/\=\=/,d=/([A-Z]+)([A-Z][a-z])/g,b=/([a-z\d])([A-Z])/g,c=/([a-z\d])([A-Z])/g,g=/\{([^\}]+)\}/g,j=/"/g,m=/'/g;a.extend(a,{esc:function(a){return(""+(null===a||void 0===a||isNaN(a)&&"NaN"===""+a?"":a)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(j,"&#34;").replace(m,"&#39;")},getObject:function(b,c,d){var b=b?b.split("."):[],e=b.length,g,j=0,m,w,c=a.isArray(c)?c:[c||window];if(!e)return c[0];for(;c[j];){g=c[j];for(w=0;w<e-1&&/^f|^o/.test(typeof g);w++)g=
b[w]in g?g[b[w]]:d&&(g[b[w]]={});if(/^f|^o/.test(typeof g)&&(m=b[w]in g?g[b[w]]:d&&(g[b[w]]={}),void 0!==m))return!1===d&&delete g[b[w]],m;j++}},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},underscore:function(a){return a.replace(e,"/").replace(d,"$1_$2").replace(b,"$1_$2").replace(c,"_").toLowerCase()},sub:function(b,c,d){var e=[];e.push(b.replace(g,function(b,g){var j=a.getObject(g,c,void 0===d?d:!d);return void 0===j?(e=null,""):/^f|^o/.test(typeof j)&&e?(e.push(j),""):""+
j}));return null===e?e:1>=e.length?e[0]:e},replacer:g,undHash:/_|-/});return a});steal.executed("can/util/string/string.js");
steal("can/util","can/construct",function(a){var e=a.isFunction,d=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;a.Construct._overwrite=function(a,c,g,j){a[g]=e(j)&&e(c[g])&&d.test(j)?function(a,b){return function(){var d=this._super,e;this._super=c[a];e=b.apply(this,arguments);this._super=d;return e}}(g,j):j};a.Construct._inherit=function(b,c,d){var d=d||b,e;for(e in b)a.Construct._overwrite(d,c,e,b[e])};return a});steal.executed("can/construct/super/super.js");
steal("can/util","can/construct",function(a){var e=function(b,c,d){a.bind.call(b,c,d);return function(){a.unbind.call(b,c,d)}},d=a.isFunction,b=a.extend,c=a.each,g=[].slice,j=/\{([^\}]+)\}/g,m=a.getObject("$.event.special")||{},n=function(b,c,d,e){a.delegate.call(b,c,d,e);return function(){a.undelegate.call(b,c,d,e)}},h,l=a.Control=a.Construct({setup:function(){a.Construct.setup.apply(this,arguments);if(a.Control){var b;this.actions={};for(b in this.prototype)this._isAction(b)&&(this.actions[b]=this._action(b))}},
_shifter:function(b,c){var e="string"==typeof c?b[c]:c;d(e)||(e=b[e]);return function(){b.called=c;return e.apply(b,[this.nodeName?a.$(this):this].concat(g.call(arguments,0)))}},_isAction:function(a){var b=this.prototype[a],c=typeof b;return"constructor"!==a&&("function"==c||"string"==c&&d(this.prototype[b]))&&!(!m[a]&&!r[a]&&!/[^\w]/.test(a))},_action:function(b,c){j.lastIndex=0;if(c||!j.test(b)){var d=c?a.sub(b,[c,window]):b;if(!d)return null;var e=a.isArray(d),g=e?d[1]:d,l=g.split(/\s+/g),m=l.pop();
return{processor:r[m]||h,parts:[g,l.join(" "),m],delegate:e?d[0]:void 0}}},processors:{},defaults:{}},{setup:function(c,d){var e=this.constructor,h=e.pluginName||e._fullName;this.element=a.$(c);h&&"can_control"!==h&&this.element.addClass(h);(h=a.data(this.element,"controls"))||a.data(this.element,"controls",h=[]);h.push(this);this.options=b({},e.defaults,d);this.on();return[this.element,this.options]},on:function(b,c,d,h){if(!b){this.off();var b=this.constructor,c=this._bindings,d=b.actions,h=this.element,
g=a.Control._shifter(this,"destroy"),j,l;for(j in d)if(d.hasOwnProperty(j)&&(l=d[j]||b._action(j,this.options)))c.push(l.processor(l.delegate||h,l.parts[2],l.parts[1],j,this));a.bind.call(h,"destroyed",g);c.push(function(b){a.unbind.call(b,"destroyed",g)});return c.length}"string"==typeof b&&(h=d,d=c,c=b,b=this.element);void 0===h&&(h=d,d=c,c=null);"string"==typeof h&&(h=a.Control._shifter(this,h));this._bindings.push(c?n(b,a.trim(c),d,h):e(b,d,h));return this._bindings.length},off:function(){var a=
this.element[0];c(this._bindings||[],function(b){b(a)});this._bindings=[]},destroy:function(){var b=this.constructor,b=b.pluginName||b._fullName;this.off();b&&"can_control"!==b&&this.element.removeClass(b);b=a.data(this.element,"controls");b.splice(a.inArray(this,b),1);a.trigger(this,"destroyed");this.element=null}}),r=a.Control.processors;h=function(b,c,d,h,g){h=a.Control._shifter(g,h);return d?n(b,a.trim(d),c,h):e(b,c,h)};c("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave touchstart touchmove touchcancel touchend touchleave".split(" "),
function(a){r[a]=h});return l});steal.executed("can/control/control.js");
steal("jquery","can/util","can/control",function(a,e){var d,b=e.makeArray,c=e.Control.setup;e.Control.setup=function(){if(this!==e.Control){var a=this.pluginName||this._fullName;"can_control"!==a&&this.plugin(a);c.apply(this,arguments)}};a.fn.extend({controls:function(){var a=b(arguments),c=[],m,n;this.each(function(){if(m=e.$(this).data("controls"))for(var b=0;b<m.length;b++){n=m[b];var l;if(!(l=!a.length))a:{l=n;var r=a;for(d=0;d<r.length;d++)if("string"==typeof r[d]?l.constructor._shortName==r[d]:
l instanceof r[d]){l=!0;break a}l=!1}l&&c.push(n)}});return c},control:function(a){return this.controls.apply(this,arguments)[0]}});e.Control.plugin=function(c){var d=this;a.fn[c]||(a.fn[c]=function(c){var g=b(arguments),h="string"==typeof c&&a.isFunction(d.prototype[c]),l=g[0],r;this.each(function(){var a=e.$(this).control(d);a?h?r=a[l].apply(a,g.slice(1)):a.update.apply(a,g):d.newInstance.apply(d,[this].concat(g))});return void 0!==r?r:this})};e.Control.prototype.update=function(a){e.extend(this.options,
a);this.on()};return e});steal.executed("can/control/plugin/plugin.js");
steal("can/util","can/view","can/util/string","can/observe/compute","can/view/scanner.js","can/view/render.js",function(a){var e=a.extend,d=function(a){if(this.constructor!=d){var c=new d(a);return function(a,b){return c.render(a,b)}}"function"==typeof a?this.template={fn:a}:(e(this,a),this.template=this.scanner.scan(this.text,this.name))};a.EJS=d;d.prototype.render=function(a,c){a=a||{};return this.template.fn.call(a,a,new d.Helpers(a,c||{}))};e(d.prototype,{scanner:new a.view.Scanner({tokens:[["templateLeft",
"<%%"],["templateRight","%>"],["returnLeft","<%=="],["escapeLeft","<%="],["commentLeft","<%#"],["left","<%"],["right","%>"],["returnRight","%>"]]})});d.Helpers=function(a,c){this._data=a;this._extras=c;e(this,c)};d.Helpers.prototype={list:function(b,c){a.each(b,function(a,d){c(a,d,b)})}};a.view.register({suffix:"ejs",script:function(a,c){return"can.EJS(function(_CONTEXT,_VIEW) { "+(new d({text:c,name:a})).template.out+" })"},renderer:function(a,c){return d({text:c,name:a})}});return a});steal.executed("can/view/ejs/ejs.js");
steal("can/util",function(a){var e=a.isFunction,d=a.makeArray,b=1,c=a.view=function(b,d,g,j){b=c.render(b,d,g,j);return e(b)?b:a.isDeferred(b)?b.pipe(function(a){return c.frag(a)}):c.frag(b)};a.extend(c,{frag:function(a,b){return c.hookup(c.fragment(a),b)},fragment:function(b){b=a.buildFragment(b,document.body);b.childNodes.length||b.appendChild(document.createTextNode(""));return b},toId:function(b){return a.map(b.toString().split(/\/|\./g),function(a){if(a)return a}).join("_")},hookup:function(b,
d){var e=[],g,j;a.each(b.childNodes?a.makeArray(b.childNodes):b,function(b){1===b.nodeType&&(e.push(b),e.push.apply(e,a.makeArray(b.getElementsByTagName("*"))))});a.each(e,function(a){if(a.getAttribute&&(g=a.getAttribute("data-view-id"))&&(j=c.hookups[g]))j(a,d,g),delete c.hookups[g],a.removeAttribute("data-view-id")});return b},hookups:{},hook:function(a){c.hookups[++b]=a;return" data-view-id='"+b+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(a){this.types["."+a.suffix]=a},types:{},
ext:".ejs",registerScript:function(){},preload:function(){},render:function(b,g,r,o){e(r)&&(o=r,r=void 0);var q=m(g);if(q.length){var u=new a.Deferred;q.push(j(b,!0));a.when.apply(a,q).then(function(b){var c=d(arguments),e=c.pop();if(a.isDeferred(g))g=n(b);else for(var h in g)a.isDeferred(g[h])&&(g[h]=n(c.shift()));c=e(g,r);u.resolve(c);o&&o(c)});return u}var w,q=e(o),u=j(b,q);if(q)w=u,u.then(function(a){o(g?a(g,r):a)});else{if("resolved"===u.state()&&u.__view_id)return b=c.cachedRenderers[u.__view_id],
g?b(g,r):b;u.then(function(a){w=g?a(g,r):a})}return w},registerView:function(b,d,e,g){d=(e||c.types[c.ext]).renderer(b,d);g=g||new a.Deferred;c.cache&&(c.cached[b]=g,g.__view_id=b,c.cachedRenderers[b]=d);return g.resolve(d)}});var g=function(a,b){if(!a.length)throw"can.view: No template or empty template:"+b;},j=function(b,d){var e=b.match(/\.[\w\d]+$/),j,m,n;b.match(/^#/)&&(b=b.substr(1));if(m=document.getElementById(b))e="."+m.type.match(/\/(x\-)?(.+)/)[2];!e&&!c.cached[b]&&(b+=e=c.ext);a.isArray(e)&&
(e=e[0]);n=c.toId(b);if(b.match(/^\/\//))var w=b.substr(2),b=!window.steal?w:steal.config().root.mapJoin(w);j=c.types[e];if(c.cached[n])return c.cached[n];if(m)return c.registerView(n,m.innerHTML,j);var p=new a.Deferred;a.ajax({async:d,url:b,dataType:"text",error:function(a){g("",b);p.reject(a)},success:function(a){g(a,b);c.registerView(n,a,j,p)}});return p},m=function(b){var c=[];if(a.isDeferred(b))return[b];for(var d in b)a.isDeferred(b[d])&&c.push(b[d]);return c},n=function(b){return a.isArray(b)&&
"success"===b[1]?b[0]:b};window.steal&&steal.type("view js",function(a,b){var d=c.types["."+a.type],e=c.toId(a.id);a.text="steal('"+(d.plugin||"can/view/"+a.type)+"',function(can){return can.view.preload('"+e+"',"+a.text+");\n})";b()});a.extend(c,{register:function(b){this.types["."+b.suffix]=b;window.steal&&steal.type(b.suffix+" view js",function(a,b){var d=c.types["."+a.type],e=c.toId(a.id+"");a.text=d.script(e,a.text);b()});c[b.suffix]=function(d,e){if(!e)return b.renderer(null,d);c.preload(d,
b.renderer(d,e));return a.view(d)}},registerScript:function(a,b,d){return"can.view.preload('"+b+"',"+c.types["."+a].script(b,d)+");"},preload:function(b,d){c.cached[b]=(new a.Deferred).resolve(function(a,b){return d.call(a,a,b)});return function(){return c.frag(d.apply(this,arguments))}}});return a});steal.executed("can/view/view.js");
steal("can/util",function(a){var e=function(b,c){var d;a.Observe&&(d=a.Observe.__reading,a.Observe.__reading=function(a,b){e.push({obj:a,attr:b})});var e=[],m=b.call(c);a.Observe&&(a.Observe.__reading=d);return{value:m,observed:e}},d=function(b,c,d){var j={},m=!0,n={value:void 0,teardown:function(){for(var a in j){var b=j[a];b.observe.obj.unbind(b.observe.attr,l);delete j[a]}}},h,l=function(a){if(void 0===a.batchNum||a.batchNum!==h){var b=n.value,c=r();n.value=c;c!==b&&d(c,b);h=h=a.batchNum}},r=function(){var d=
e(b,c),h=d.observed,d=d.value;m=!m;a.each(h,function(a){j[a.obj._cid+"|"+a.attr]?j[a.obj._cid+"|"+a.attr].matched=m:(j[a.obj._cid+"|"+a.attr]={matched:m,observe:a},a.obj.bind(a.attr,l))});for(var g in j)h=j[g],h.matched!==m&&(h.observe.obj.unbind(h.observe.attr,l),delete j[g]);return d};n.value=r();n.isListening=!a.isEmptyObject(j);return n};a.compute=function(b,c){if(b&&b.isComputed)return b;var e,j=0,m,n=!0;"function"===typeof b?m=function(d){return void 0===d?e?(j&&a.Observe.__reading&&a.Observe.__reading(m,
"change"),e.value):b.call(c||this):b.apply(c||this,arguments)}:(m=function(c){if(void 0===c)return a.Observe.__reading&&a.Observe.__reading(m,"change"),b;var d=b;b=c;d!==c&&a.Observe.triggerBatch(m,"change",[c,d]);return c},n=!1);m.isComputed=!0;m.bind=function(h,l){a.addEvent.apply(m,arguments);0===j&&n&&(e=d(b,c||this,function(b,c){a.Observe.triggerBatch(m,"change",[b,c])}));j++};m.unbind=function(b,c){a.removeEvent.apply(m,arguments);j--;0===j&&n&&e.teardown()};return m};a.compute.binder=d;return a.compute});
steal.executed("can/observe/compute/compute.js");
steal("can/view",function(a){var e=/(\r|\n)+/g,d={option:"textContent",textarea:"value"},b={tr:"tbody",option:"select",td:"tr",li:"ul"},c=function(a,c,d){if(a)return a;for(;d<c.length;){if("<"==c[d]&&b[c[d+1]])return b[c[d+1]];d++}},g=function(a){eval(a)},j=/([^\s]+)[\s]*=[\s]*$/,m=null,n=null,h=null,l=null,r=function(){return n?"'"+h.match(j)[1]+"'":m?1:0};a.view.Scanner=Scanner=function(b){a.extend(this,{text:{},tokens:[]},b);this.tokenReg=[];this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"};this.tokenComplex=
[];this.tokenMap={};for(var b=0,c;c=this.tokens[b];b++)c[2]?(this.tokenReg.push(c[2]),this.tokenComplex.push({abbr:c[1],re:RegExp(c[2]),rescan:c[3]})):(this.tokenReg.push(c[1]),this.tokenSimple[c[1]]=c[0]),this.tokenMap[c[0]]=c[1];this.tokenReg=RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")};Scanner.prototype={helpers:[{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(a){a=a.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);return"function(__){var "+a[1]+"=can.$(__);"+a[2]+"}"}}],
scan:function(a,b){var j=[],w=0,p=this.tokenSimple,B=this.tokenComplex,a=a.replace(e,"\n");a.replace(this.tokenReg,function(b,c){var d=arguments[arguments.length-2];d>w&&j.push(a.substring(w,d));if(p[b])j.push(b);else for(var e=0,h;h=B[e];e++)if(h.re.test(b)){j.push(h.abbr);h.rescan&&j.push(h.rescan(c));break}w=d+c.length});w<a.length&&j.push(a.substr(w));var s="",v=["var ___v1ew = [];"+(this.text.start||"")],y=function(a,b){v.push("___v1ew.push(",'"',a.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t"),
'"'+(b||"")+");")},C=[],D,E=null,J=!1,N="",K=[],P=0,z,G=this.tokenMap;for(m=n=h=null;void 0!==(z=j[P++]);){if(null===E)switch(z){case G.left:case G.escapeLeft:case G.returnLeft:J=m&&1;case G.commentLeft:E=z;s.length&&y(s);s="";break;case G.escapeFull:J=m&&1;l=1;E=G.escapeLeft;s.length&&y(s);l=j[P++];s=l.content||l;l.before&&y(l.before);j.splice(P,0,G.right);break;case G.commentFull:break;case G.templateLeft:s+=G.left;break;case "<":0!==j[P].indexOf("!--")&&(m=1,J=0);s+=z;break;case ">":m=0;D="/"==
s.substr(s.length-1);J||d[K[K.length-1]]?(D?y(s.substr(0,s.length-1),',can.view.pending(),"/>"'):y(s,',can.view.pending(),">"'),s=""):s+=z;D&&(K.pop(),N=K[K.length-1]);break;case "'":case '"':m&&(n&&n===z?n=null:null===n&&(n=z,h=D));default:"<"===D&&(N=z.split(/\s/)[0],0===N.indexOf("/")&&K.pop()===N.substr(1)?N=K[K.length-1]:K.push(N)),s+=z}else switch(z){case G.right:case G.returnRight:switch(E){case G.left:D=--s.split("{").length- --s.split("}").length;1==D?(v.push("___v1ew.push(","can.view.txt(0,'"+
c(N,j,P)+"',"+r()+",this,function(){","var ___v1ew = [];",s),C.push({before:"",after:"return ___v1ew.join('')}));\n"})):(w=C.length&&-1==D?C.pop():{after:";"},w.before&&v.push(w.before),v.push(s,";",w.after));break;case G.escapeLeft:case G.returnLeft:(D=--s.split("{").length- --s.split("}").length)&&C.push({before:"return ___v1ew.join('')",after:"}));"});for(var E=E===G.escapeLeft?1:0,ia={insert:"___v1ew.push(",tagName:N,status:r()},I=0;I<this.helpers.length;I++){var L=this.helpers[I];if(L.name.test(s)){s=
L.fn(s,ia);L.name.source==/^>[\s|\w]\w*/.source&&(E=0);break}}"object"==typeof s?s.raw&&v.push(s.raw):v.push("___v1ew.push(","can.view.txt("+E+",'"+N+"',"+r()+",this,function(){ "+(this.text.escape||"")+"return ",s,D?"var ___v1ew = [];":"}));");l&&l.after&&l.after.length&&(y(l.after.length),l=null)}E=null;s="";break;case G.templateLeft:s+=G.left;break;default:s+=z}D=z}s.length&&y(s);v.push(";");s={out:"with(_VIEW) { with (_CONTEXT) {"+v.join("")+" return ___v1ew.join('')}}"};g.call(s,"this.fn = (function(_CONTEXT,_VIEW){"+
s.out+"});\r\n//@ sourceURL="+b+".js");return s}};return Scanner});steal.executed("can/view/scanner.js");
steal("can/view","can/util/string",function(a){var e=!0;try{document.createTextNode()._=0}catch(d){e=!1}var b={"class":"className",value:"value",textContent:"textContent"},c={"":"span",table:"tr",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},g=/__!!__/g,j={option:"textContent",textarea:"value"},m=a.each(["checked","disabled","readonly","required"],function(a){b[a]=a}),n=function(c,d,e){var h=c.nodeName.toString().toLowerCase(),g=b[d];g?(c[g]=-1<a.inArray(d,
m)?!0:e,"value"===g&&"input"===h&&(c.defaultValue=e)):c.setAttribute(d,e)},h=[],l=function(a){if("string"==typeof a)return a;if(!a&&0!==a)return"";var b=a.hookup&&function(b,c){a.hookup.call(a,b,c)}||"function"==typeof a&&a;return b?(h.push(b),""):""+a},r=function(b){return"string"==typeof b||"number"==typeof b?a.esc(b):l(b)},o={},q={},u={},w="ejs_"+Math.random(),p=0,B=function(a){if(e||3!==a.nodeType)return a[w]?a[w]:a[w]=(a.nodeName?"element_":"obj_")+ ++p;for(var b in q)if(q[b]===a)return b;q["text_"+
++p]=a;return"text_"+p},s=function(b,c){var d=o[B(b)];if(d){var e=a.inArray(c,d);0<=e&&d.splice(e,1);d.length||delete o[B(b)]}},v=function(a,b){var c=o[B(a)];c||(c=o[B(a)]=[]);c.push(b)},y=function(a){a=c[a]||"span";return"span"===a?"@@!!@@":"<"+a+">"+y(a)+"</"+a+">"};a.extend(a.view,{pending:function(){var b=h.slice(0);lastHookups=b;h=[];return a.view.hook(function(c){a.each(b,function(a){a(c)})})},registerNode:function(b){var c=B(b);u[c]=b;a.each(b,function(a){v(a,c)})},unregisterNode:function(b){var c=
B(b);a.each(b,function(a){s(a,c)});delete u[c]},txt:function(d,e,p,u,o){var s=a.compute.binder(o,u,function(a,b){L(a,b)});if(!s.isListening)return(d||0!==p?r:l)(s.value);var B,w,q=function(){s.teardown();w&&a.view.unregisterNode(w)},v=function(b){a.bind.call(b,"destroyed",q);B=b},I=function(b){b||(q(),a.unbind.call(B,"destroyed",q))},u=c[e]||"span",L,S=j[e];if(0===p&&!S)return"<"+u+a.view.hook(d?function(a,b){L=function(a){d.nodeValue=""+a;I(d.parentNode)};var c=b&&11===a.parentNode.nodeType?b:a.parentNode,
d=document.createTextNode(s.value);c.insertBefore(d,a);c.removeChild(a);v(c)}:function(b,c){L=function(a){d[0].parentNode&&e(a);I(d[0].parentNode)};var c=c&&11===b.parentNode.nodeType?c:b.parentNode,d,e=function(e){var e=a.view.frag(e,c),h=a.makeArray(e.childNodes),g=d?d[d.length-1]:b;g.nextSibling?g.parentNode.insertBefore(e,g.nextSibling):g.parentNode.appendChild(e);d?(a.remove(a.$(d)),a.view.replace(d,h)):(a.remove(a.$(b)),w=d=h,a.view.registerNode(d))};e(s.value,[b]);v(c)})+">"+y(u)+"</"+u+">";
if(1===p){var R=s.value.replace(/['"]/g,"").split("=")[0];h.push(function(b){L=function(c){var c=(c||"").replace(/['"]/g,"").split("="),d=c[0];if(d!=R&&R){var e=R;-1<a.inArray(e,m)?b[e]=!1:b.removeAttribute(e)}d&&(n(b,d,c[1]),R=d)};v(b)});return s.value}var A=0===p?S:p;(0===p?lastHookups:h).push(function(c){L=function(){n(c,A,p.render(),S)};var d=a.$(c),e;(e=a.data(d,"hooks"))||a.data(d,"hooks",e={});var h=(b[A]?c[b[A]]:c.getAttribute(A))||"",d=h.split("__!!__"),j=[],p;j.push(d.shift(),d.join("__!!__"));
e[A]?e[A].bindings.push(s):e[A]={render:function(){var a=0;return h.replace(g,function(){return l(p.bindings[a++].value)})},bindings:[s],batchNum:void 0};p=e[A];j.splice(1,0,s.value);n(c,A,j.join(""),S);v(c)});return"__!!__"},replace:function(b,c){b=a.makeArray(b);a.each(b,function(d){a.each(a.makeArray(o[B(d)]),function(e){var h=u[e],g=a.inArray(d,h),j=a.inArray(b[b.length-1],h);if(0<=g&&0<=j){for(var l=g;l<=j;l++)s(h[l],e);h.splice.apply(h,[g,j-g+1].concat(c));a.each(c,function(a){v(a,e)})}else a.view.unregisterNode(h)})})},
canExpando:e,textNodeMap:q,nodeMap:o,nodeListMap:u});return a});steal.executed("can/view/render.js");
steal("jquery","can/view",function(a,e){var d,b,c,g,j,m,n={val:!0,text:!0};d=function(d){var g=a.fn[d];a.fn[d]=function(){var a=e.makeArray(arguments),j,q,u=this;if(e.isDeferred(a[0]))return a[0].done(function(a){b.call(u,[a],g)}),this;if(c(a)){if(j=m(a))return q=a[j],a[j]=function(a){b.call(u,[a],g);q.call(u,a)},e.view.apply(e.view,a),this;a=e.view.apply(e.view,a);if(e.isDeferred(a))return a.done(function(a){b.call(u,[a],g)}),this;a=[a]}return n[d]?g.apply(this,a):b.call(this,a,g)}};b=function(a,
b){for(var c in e.view.hookups)break;c&&a[0]&&g(a[0])&&(a[0]=e.view.frag(a[0]).childNodes);return b.apply(this,a)};c=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"==b||"function"==b)&&!j(a[1])};j=function(a){return a.nodeType||a[0]&&a[0].nodeType};g=function(a){return j(a)?!0:"string"===typeof a?(a=e.trim(a),"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)&&3<=a.length):!1};m=function(a){return"function"===typeof a[3]?3:"function"===typeof a[2]&&2};a.fn.hookup=function(){e.view.frag(this);
return this};e.each("prepend append after before text html replaceWith val".split(" "),function(a){d(a)});return e});steal.executed("can/view/modifiers/modifiers.js");
(function(a,e){function d(a,b,c){return[parseInt(a[0],10)*(o.test(a[0])?b/100:1),parseInt(a[1],10)*(o.test(a[1])?c/100:1)]}function b(b,c){return parseInt(a.css(b,c),10)||0}a.ui=a.ui||{};var c,g=Math.max,j=Math.abs,m=Math.round,n=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+%?/,r=/^\w+/,o=/%$/,q=a.fn.position;a.position={scrollbarWidth:function(){if(c!==e)return c;var b,d,g=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
d=g.children()[0];a("body").append(g);b=d.offsetWidth;g.css("overflow","scroll");d=d.offsetWidth;b===d&&(d=g[0].clientWidth);g.remove();return c=b-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),d="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:"scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth?a.position.scrollbarWidth():0,height:d?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var b=
a(b||window),c=a.isWindow(b[0]);return{element:b,isWindow:c,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=function(c){if(!c||!c.of)return q.apply(this,arguments);var c=a.extend({},c),e,p,o,s,v,y=a(c.of),C=a.position.getWithinInfo(c.within),D=a.position.getScrollInfo(C),E=y[0],J=(c.collision||"flip").split(" "),N={};9===E.nodeType?(p=y.width(),o=y.height(),s={top:0,left:0}):a.isWindow(E)?
(p=y.width(),o=y.height(),s={top:y.scrollTop(),left:y.scrollLeft()}):E.preventDefault?(c.at="left top",p=o=0,s={top:E.pageY,left:E.pageX}):(p=y.outerWidth(),o=y.outerHeight(),s=y.offset());v=a.extend({},s);a.each(["my","at"],function(){var a=(c[this]||"").split(" "),b,d;1===a.length&&(a=n.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]);a[0]=n.test(a[0])?a[0]:"center";a[1]=h.test(a[1])?a[1]:"center";b=l.exec(a[0]);d=l.exec(a[1]);N[this]=[b?b[0]:0,d?d[0]:0];c[this]=
[r.exec(a[0])[0],r.exec(a[1])[0]]});1===J.length&&(J[1]=J[0]);"right"===c.at[0]?v.left+=p:"center"===c.at[0]&&(v.left+=p/2);"bottom"===c.at[1]?v.top+=o:"center"===c.at[1]&&(v.top+=o/2);e=d(N.at,p,o);v.left+=e[0];v.top+=e[1];return this.each(function(){var h,l,n=a(this),q=n.outerWidth(),r=n.outerHeight(),E=b(this,"marginLeft"),L=b(this,"marginTop"),S=q+E+b(this,"marginRight")+D.width,R=r+L+b(this,"marginBottom")+D.height,A=a.extend({},v),t=d(N.my,n.outerWidth(),n.outerHeight());"right"===c.my[0]?A.left-=
q:"center"===c.my[0]&&(A.left-=q/2);"bottom"===c.my[1]?A.top-=r:"center"===c.my[1]&&(A.top-=r/2);A.left+=t[0];A.top+=t[1];a.support.offsetFractions||(A.left=m(A.left),A.top=m(A.top));h={marginLeft:E,marginTop:L};a.each(["left","top"],function(b,d){if(a.ui.position[J[b]])a.ui.position[J[b]][d](A,{targetWidth:p,targetHeight:o,elemWidth:q,elemHeight:r,collisionPosition:h,collisionWidth:S,collisionHeight:R,offset:[e[0]+t[0],e[1]+t[1]],my:c.my,at:c.at,within:C,elem:n})});a.fn.bgiframe&&n.bgiframe();c.using&&
(l=function(a){var b=s.left-A.left,d=b+p-q,e=s.top-A.top,h=e+o-r,l={target:{element:y,left:s.left,top:s.top,width:p,height:o},element:{element:n,left:A.left,top:A.top,width:q,height:r},horizontal:d<0?"left":b>0?"right":"center",vertical:h<0?"top":e>0?"bottom":"middle"};if(p<q&&j(b+d)<p)l.horizontal="center";if(o<r&&j(e+h)<o)l.vertical="middle";l.important=g(j(b),j(d))>g(j(e),j(h))?"horizontal":"vertical";c.using.call(this,a,l)});n.offset(a.extend(A,{using:l}))})};a.ui.position={fit:{left:function(a,
b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,e=c.width,h=a.left-b.collisionPosition.marginLeft,c=d-h,j=h+b.collisionWidth-e-d;b.collisionWidth>e?0<c&&0>=j?(d=a.left+c+b.collisionWidth-e-d,a.left+=c-d):a.left=0<j&&0>=c?d:c>j?d+e-b.collisionWidth:d:a.left=0<c?a.left+c:0<j?a.left-j:g(a.left-h,a.left)},top:function(a,b){var c=b.within,d=c.isWindow?c.scrollTop:c.offset.top,e=b.within.height,h=a.top-b.collisionPosition.marginTop,c=d-h,j=h+b.collisionHeight-e-d;b.collisionHeight>e?0<c&&0>=j?
(d=a.top+c+b.collisionHeight-e-d,a.top+=c-d):a.top=0<j&&0>=c?d:c>j?d+e-b.collisionHeight:d:a.top=0<c?a.top+c:0<j?a.top-j:g(a.top-h,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,e=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,c=h-g,l=h+b.collisionWidth-e-g,h="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,m="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,n=-2*b.offset[0];if(0>c){if(d=a.left+h+
m+n+b.collisionWidth-e-d,0>d||d<j(c))a.left+=h+m+n}else if(0<l&&(d=a.left-b.collisionPosition.marginLeft+h+m+n-g,0<d||j(d)<l))a.left+=h+m+n},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,e=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,c=h-g,l=h+b.collisionHeight-e-g,h="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,n=-2*b.offset[1];if(0>c){if(d=a.top+h+m+n+b.collisionHeight-
e-d,a.top+h+m+n>c&&(0>d||d<j(c)))a.top+=h+m+n}else if(0<l&&(d=a.top-b.collisionPosition.marginTop+h+m+n-g,a.top+h+m+n>l&&(0<d||j(d)<l)))a.top+=h+m+n}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,d,e,g=document.getElementsByTagName("body")[0];d=document.createElement("div");b=document.createElement(g?
"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};g&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in c)b.style[e]=c[e];b.appendChild(d);c=g||document.documentElement;c.insertBefore(b,c.firstChild);d.style.cssText="position: absolute; left: 10.7432222px;";d=a(d).offset().left;a.support.offsetFractions=10<d&&11>d;b.innerHTML="";c.removeChild(b)})();!1!==a.uiBackCompat&&function(a){var b=a.fn.position;a.fn.position=function(c){if(!c||!c.offset)return b.call(this,
c);var d=c.offset.split(" "),g=c.at.split(" ");1===d.length&&(d[1]=d[0]);/^\d/.test(d[0])&&(d[0]="+"+d[0]);/^\d/.test(d[1])&&(d[1]="+"+d[1]);1===g.length&&(/left|center|right/.test(g[0])?g[1]="center":(g[1]=g[0],g[0]="center"));return b.call(this,a.extend(c,{at:g[0]+d[0]+" "+g[1]+d[1],offset:e}))}}(jQuery)})(jQuery);steal.executed("ui/position/position.js");
steal("./datepicker.css",function(){!function(a){var e=function(b,c){this.element=a(b);this.format=d.parseFormat(c.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=a(d.template).appendTo(c.parent||"body").on({click:a.proxy(this.click,this),mousedown:a.proxy(this.mousedown,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):!1;if(this.isInput)this.element.on({focus:a.proxy(this.show,this),blur:a.proxy(this.hide,this),
keyup:a.proxy(this.update,this)});else if(this.component)this.component.on("click",a.proxy(this.show,this));else this.element.on("click",a.proxy(this.show,this));this.minViewMode=c.minViewMode||this.element.data("date-minviewmode")||0;if("string"===typeof this.minViewMode)switch(this.minViewMode){case "months":this.minViewMode=1;break;case "years":this.minViewMode=2;break;default:this.minViewMode=0}this.viewMode=c.viewMode||this.element.data("date-viewmode")||0;if("string"===typeof this.viewMode)switch(this.viewMode){case "months":this.viewMode=
1;break;case "years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode;this.weekStart=c.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=0===this.weekStart?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update();this.showMode()};e.prototype={constructor:e,show:function(b){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();a(window).on("resize",a.proxy(this.place,this));b&&(b.stopPropagation(),
b.preventDefault());if(!this.isInput)a(document).on("mousedown",a.proxy(this.hide,this));this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();a(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();this.isInput||a(document).off("mousedown",this.hide);this.element.trigger({type:"hide",date:this.date})},set:function(){var a=d.formatDate(this.date,this.format);this.isInput?this.element.prop("value",a):(this.component&&this.element.find("input").prop("value",
a),this.element.data("date",a))},setValue:function(a){this.date="string"===typeof a?d.parseDate(a,this.format):new Date(a);this.set();this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},place:function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left})},update:function(a){this.date=d.parseDate("string"===typeof a?a:this.isInput?this.element.prop("value"):this.element.data("date"),this.format);
this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},fillDow:function(){for(var a=this.weekStart,c="<tr>";a<this.weekStart+7;)c+='<th class="dow">'+d.dates.daysMin[a++%7]+"</th>";this.picker.find(".datepicker-days thead").append(c+"</tr>")},fillMonths:function(){for(var a="",c=0;12>c;)a+='<span class="month">'+d.dates.monthsShort[c++]+"</span>";this.picker.find(".datepicker-months td").append(a)},fill:function(){var a=new Date(this.viewDate),c=a.getFullYear(),
a=a.getMonth(),e=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(d.dates.months[a]+" "+c);var j=new Date(c,a-1,28,0,0,0,0),m=d.getDaysInMonth(j.getFullYear(),j.getMonth());j.setDate(m);j.setDate(m-(j.getDay()-this.weekStart+7)%7);m=new Date(j);m.setDate(m.getDate()+42);m=m.valueOf();html=[];for(var n;j.valueOf()<m;)j.getDay()===this.weekStart&&html.push("<tr>"),n="",j.getMonth()<a?n+=" old":j.getMonth()>a&&(n+=" new"),j.valueOf()===e&&(n+=" active"),html.push('<td class="day'+
n+'">'+j.getDate()+"</td>"),j.getDay()===this.weekEnd&&html.push("</tr>"),j.setDate(j.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(html.join(""));a=this.date.getFullYear();e=this.picker.find(".datepicker-months").find("th:eq(1)").text(c).end().find("span").removeClass("active");a===c&&e.eq(this.date.getMonth()).addClass("active");html="";c=10*parseInt(c/10,10);e=this.picker.find(".datepicker-years").find("th:eq(1)").text(c+"-"+(c+9)).end().find("td");c-=1;for(j=-1;11>j;j++)html+=
'<span class="year'+(-1===j||10===j?" old":"")+(a===c?" active":"")+'">'+c+"</span>",c+=1;e.html(html)},click:function(b){b.stopPropagation();b.preventDefault();var c=a(b.target).closest("span, td, th");if(1===c.length)switch(c[0].nodeName.toLowerCase()){case "th":switch(c[0].className){case "switch":this.showMode(1);break;case "prev":case "next":this.viewDate["set"+d.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+d.modes[this.viewMode].navFnc].call(this.viewDate)+d.modes[this.viewMode].navStep*
("prev"===c[0].className?-1:1)),this.fill(),this.set()}break;case "span":c.is(".month")?(b=c.parent().find("span").index(c),this.viewDate.setMonth(b)):(c=parseInt(c.text(),10)||0,this.viewDate.setFullYear(c));0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:d.modes[this.viewMode].clsName}));this.showMode(-1);this.fill();this.set();this.hide();break;case "td":if(c.is(".day")){var e=parseInt(c.text(),10)||1,b=this.viewDate.getMonth();
c.is(".old")?b-=1:c.is(".new")&&(b+=1);c=this.viewDate.getFullYear();this.date=new Date(c,b,e,0,0,0,0);this.viewDate=new Date(c,b,Math.min(28,e),0,0,0,0);this.fill();this.set();this.element.trigger({type:"changeDate",date:this.date,viewMode:d.modes[this.viewMode].clsName});this.hide()}}},mousedown:function(a){a.stopPropagation();a.preventDefault()},showMode:function(a){a&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find(">div").hide().filter(".datepicker-"+d.modes[this.viewMode].clsName).show()}};
a.fn.datepicker=function(b,c){return this.each(function(){var d=a(this),j=d.data("datepicker"),m="object"===typeof b&&b;j||d.data("datepicker",j=new e(this,a.extend({},a.fn.datepicker.defaults,m)));if("string"===typeof b)j[b](c)})};a.fn.datepicker.defaults={};a.fn.datepicker.Constructor=e;var d={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,c){return[31,d.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][c]},parseFormat:function(a){var c=a.match(/[.\/\-\s].*?/),a=a.split(/\W+/);
if(!c||!a||0===a.length)throw Error("Invalid date format.");return{separator:c,parts:a}},parseDate:function(a,c){var d=a.split(c.separator),a=new Date,e;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);if(d.length===c.parts.length)for(var m=0,n=c.parts.length;m<n;m++)switch(e=parseInt(d[m],10)||1,c.parts[m]){case "dd":case "d":a.setDate(e);break;case "mm":case "m":a.setMonth(e-1);break;case "yy":a.setFullYear(2E3+e);break;case "yyyy":a.setFullYear(e)}return a},formatDate:function(a,
c){var d={d:a.getDate(),m:a.getMonth()+1,yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear()};d.dd=(10>d.d?"0":"")+d.d;d.mm=(10>d.m?"0":"")+d.m;for(var a=[],e=0,m=c.parts.length;e<m;e++)a.push(d[c.parts[e]]);return a.join(c.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};d.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+
d.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+d.headTemplate+d.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+d.headTemplate+d.contTemplate+"</table></div></div>"}(window.jQuery)});steal.executed("ui/datepicker/datepicker.js");
steal("can/util/function","can/construct/super","can/control","can/control/plugin","can/control/modifier","can/view/ejs","can/view/modifiers").then("ui/position","./popover.less","./views/init.ejs",function(){can.Control("ui.Popover",{defaults:{placement:"top",showDelay:100,hideDelay:500,showEvent:"mouseenter",hideEvent:"mouseleave",collision:"flip",template:"//ui/popover/views/init.ejs",parent:document.body},positions:{top:{my:"bottom",at:"top"},left:{my:"right",at:"left"},right:{my:"left",at:"right"},
bottom:{my:"top",at:"bottom"}}},{init:function(){this.tooltip=$(can.view.render(this.options.template,{})).appendTo(this.options.parent)},attr:function(a){return this.options[a]||this.element.attr("data-"+a)},show:function(){clearTimeout(this.hideTimeout);this.showTimeout=setTimeout(this.proxy(function(){var a=this.attr("title");this.tooltip.find(".popover-title").html(a)[a?"show":"hide"]();this.tooltip.find(".popover-content").html(this.attr("content"));a=this.constructor.positions[this.options.placement];
this.tooltip.css({left:0,top:0});this.tooltip.position({my:a.my,at:a.at,of:this.element});this.tooltip.fadeIn("fast");a=(a=this.tooltip.attr("class").match(/\bui-flipped-\S+/g))?a[0].replace("ui-flipped-",""):this.options.placement;this.tooltip.removeClass(function(a,d){return(d.match(/\bpos-\S+/g)||[]).join(" ")}).addClass("pos-"+a);this.element.trigger("shown")}),this.options.showDelay)},hide:function(){clearTimeout(this.showTimeout);this.hideTimeout=setTimeout(this.proxy(function(){this.tooltip.fadeOut("fast");
this.element.trigger("hidden")}),this.options.hideDelay)}," {showEvent}":"show"," {hideEvent}":"hide"," move":"move"})});steal.executed("ui/popover/popover.js");
steal("can/util",function(a){a.extend(a,{debounce:function(a,d,b){var c;return function(){var g=arguments;b=b||this;clearTimeout(c);c=setTimeout(function(){a.apply(b,g)},d)}},throttle:function(a,d,b){var c;return function(){var g=arguments;b=b||this;c||(c=!0,setTimeout(function(){a.apply(b,g);c=!1},d))}},defer:function(a,d){var b=arguments,d=d||this;setTimeout(function(){a.apply(d,b)},0)}});return a});steal.executed("can/util/function/function.js");
steal("can/util","can/control","can/util/function",function(a){var e=a.Control.setup,d=a.Control.processors,b={delim:":",hasModifier:function(a){return-1!==a.indexOf(b.delim)},modify:function(b,d,e){var m=b.match(/([\w]+)\((.+)\)/);m&&(b=a.getObject(m[1],[e||{},a,window]),e=a.sub(m[2],[e||{},a,window]).split(","),b&&(e.unshift(d),d=b.apply(null,e)));return d},addProcessor:function(c,e){var j=[c,e].join(b.delim);d[j]=function(d,j,h,l,r){var o=b.modify(e,a.Control._shifter(r,l),r.options);r[c]=o;if(h)return a.bind(d,
c,o),function(){a.unbind(d,c,o)};h=a.trim(h);a.delegate.call(d,h,c,o);return function(){a.undelegate.call(d,h,c,o)}}}};a.extend(a.Control,{modifier:b,setup:function(c,g){a.each(this.prototype,function(c,e){var g,h;b.hasModifier(e)&&(g=e.split(b.delim),h=g.shift().split(" ").pop(),g=g.join(""),a.trim(e)in d||b.addProcessor(h,g))});e.apply(this,arguments)}});return a});steal.executed("can/control/modifier/modifier.js");
steal({id:"./less_engine.js",ignore:!0},function(){steal.isRhino&&window.less&&function(a){var e=a.URL.prototype;a.URL=function(a,b){a.data?this.attrs=a:(this.value=a,this.paths=b)};a.URL.prototype=e}(less.tree);steal.type("less css",function(a,e){var d=(a.src+"").split("/");d[d.length-1]="";steal.isRhino||(d=(a.src+"").split("/"),d[d.length-1]="",d.join("/"));(new less.Parser({optimization:less.optimization,paths:[d.join("/")]})).parse(a.text,function(b,c){a.text=c.toCSS();e()})})});steal.executed("steal/less/less.js");
steal("can/view/ejs",function(a){return a.view.preload("ui_popover_views_init_ejs",a.EJS(function(a,d){with(d)with(a){var b=[];b.push('<div class="popover">\n\t<div class="arrow"></div>\n\t<h3 class="popover-title"></h3>\n\t<div class="popover-content"></div>\n</div>');return b.join("")}}))});steal.executed("ui/popover/views/init.ejs");
steal("can/control","can/control/plugin","./textinput.css",function(){can.Control("ui.Textinput",{init:function(){this.element.attr("title","Click to edit")}," click":function(a){var e=a.text(),d=a.width();this.prevText=e;a.addClass("focused");a.html('<input type="text" value="'+e+'" style="width:'+d+'" />');a.children("input").focus()}," keyup":function(a,e){27===e.keyCode?(this.element.removeClass("focused"),this.element.html(this.prevText)):13===e.keyCode&&this.element.find("input").blur()},"input blur":function(a){a=
a.val();this.element.removeClass("focused");this.element.html(a);a!=this.prevText&&this.element.trigger("change",a)}})});steal.executed("ui/textinput/textinput.js");
steal("can/construct/super","ui/typeahead","./picker.css",function(){ui.Typeahead("ui.Picker",{init:function(){this._super.apply(this,arguments);this.element.wrap('<div class="ui_picker_wrap" />');this.element.after('<button type="button" class="add-email">Add</button>');this.element.addClass("ui_typeahead")},hide:function(){this._super.apply(this,arguments);this.element.next().hide()}," keyup":function(a,e){var d=a.val(),b=this.element.next();this.validateEmail(d)?b.show():b.hide();this._super.apply(this,
arguments)},".add-email click":function(){this.query=this.element.val()},validateEmail:function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)}})});steal.executed("ui/picker/picker.js");
steal("can/construct/proxy","can/observe/elements","can/control","can/control/plugin","can/view/ejs","ui/dropdown","./typeahead.css","./views/list.ejs",function(){can.Control("ui.Typeahead",{defaults:{model:void 0,params:void 0,items:[],parent:document.body,selected:void 0}},{init:function(){this.options.dropdown=this.dropdown=$('<ul class="typeahead-menu" />').appendTo(this.options.parent);this.options.selected&&this.element.val(this.options.selected.name);this.element.attr("autocomplete","off");
this.dropdown.ui_dropdown();this.on()}," keyup":function(a){this.filter(a.val())}," keydown":function(a,e){27===e.keyCode&&this.hide()}," change":function(){},"{dropdown} hidden":"hide","{dropdown} button click":function(a){a.not("disabled")&&(a=$(a).instance(),this.query!=a.name&&(this.query=a.name,this.element.trigger("change",a)),this.hide())},show:function(a){this.dropdown.children().length?this.dropdown.children(":not(.no-items)").show():this.dropdown.html(can.view("//ui/typeahead/views/list.ejs",
{items:this.sorter(a),selected:this.options.selected}));this.dropdown.outerWidth(this.element.outerWidth());this.dropdown.trigger("show",this.element)},hide:function(){this.element.val(this.query);this.element.removeClass("opened");this.dropdown.hide();this.filter();this.element.blur()},focus:function(){this.query=this.element.val();this.element.val("");this.element.addClass("opened");!this.options.items.length&&this.options.model?(this.dropdown.html("<li><button disabled>Loading...</button></li>"),
this.options.model.findAll(this.options.params).done(this.proxy("show"))):this.show(this.options.items)},filter:function(a){var e=""===a||void 0===a,d=0,b=this.dropdown.find(".no-items"),c=this.dropdown.find("button:not(:disabled)").each(this.proxy(function(b,c){var c=$(c),m=c.instance().name,n=c.parent(),h=n.parent(),l=h.hasClass("group-list");e||this.matcher(a,m)?(e?c.html(m):c.html(this.highlighter(a,m)),n.show(),l&&h.parent().show()):(n.hide(),d++,l&&(h.children("li:visible").length||h.parent().hide()))}));
b[c.length===d?"show":"hide"]()},matcher:function(a,e){return~e.toLowerCase().indexOf(a.toLowerCase())},highlighter:function(a,e){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(RegExp("("+a+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},sorter:function(a){for(var e={},d=0;d<a.length;d++)e[a[d].group]||(e[a[d].group]=d);return a.sort(function(a,c){return e[a.group]-e[c.group]})}})});steal.executed("ui/typeahead/typeahead.js");
steal("can/util","can/observe",function(a){var e=function(d){var b=[];a.each(d,function(a){a["__u Nique"]||(b.push(a),a["__u Nique"]=1)});return a.each(b,function(a){delete a["__u Nique"]})};a.extend(a.Observe.prototype,{identity:function(){var a=this.constructor,b=this[a.id]||this._cid.replace(/./,"");return((a._fullName?a._fullName+"_":"")+(a.escapeIdentity?encodeURIComponent(b):b)).replace(/ /g,"_")},elements:function(d){var b=this.identity();this.constructor.escapeIdentity&&(b=b.replace(/([ #;&,.+*~\'%:"!^$[\]()=>|\/])/g,
"\\$1"));return a.$("."+b,d)},hookup:function(d){var b=this.constructor._shortName||"",d=a.$(d),c;(c=a.data(d,"instances"))||a.data(d,"instances",c={});a.addClass(d,b+" "+this.identity());c[b]=this}});$.fn.instances=function(){var d=[],b,c;this.each(function(){a.each($.data(this,"instances")||{},function(a){b=void 0===b?a.constructor.List||null:a.constructor.List===b?b:null;d.push(a)})});c=b?new b:new a.Observe.List;c.push.apply(c,e(d));return c};$.fn.instance=function(d){return d&&d instanceof a.Observe?
(d.hookup(this[0]),this):this.instances.apply(this,arguments)[0]};return a.Observe});steal.executed("can/observe/elements/elements.js");
steal("can/util","can/construct",function(a){var e=function(b){return b&&(a.isArray(b)||a.isPlainObject(b)||b instanceof a.Observe)},d=function(b,c){return a.each(b,function(a){a&&a.unbind&&a.unbind("change"+c)})},b=function(b,c,e,h,g){h=h||q;g=g||q.List;b instanceof q?d([b],e._cid):b=a.isArray(b)?new g(b):new h(b);b.bind("change"+e._cid,function(){var d=a.makeArray(arguments),h=d.shift();d[0]=("*"===c?[e.indexOf(b),d[0]]:[c,d[0]]).join(".");h.triggeredNS=h.triggeredNS||{};h.triggeredNS[e._cid]||
(h.triggeredNS[e._cid]=!0,a.trigger(e,h,d))});return b},c=function(b,c,d){b.each(function(b,h){d[h]=e(b)&&a.isFunction(b[c])?b[c]():b});return d},g=function(b){return function(){return a[b].apply(this,arguments)}},j=g("addEvent"),g=g("removeEvent"),m=function(b){return a.isArray(b)?b:(""+b).split(".")},n=1,h=0,l=[],r=[],o=0;a.cid=function(a,b){return a._cid?a._cid:a._cid=(b||"")+ ++o};var q=a.Observe=a.Construct({bind:j,unbind:g,id:"id",canMakeObserve:e,startBatch:function(a){h++;a&&r.push(a)},stopBatch:function(b,
c){b?h=0:h--;if(0==h){var d=l.slice(0),e=r.slice(0);l=[];r=[];n++;c&&this.startBatch();a.each(d,function(b){a.trigger.apply(a,b)});a.each(e,function(a){a})}},triggerBatch:function(b,c,d){if(!b._init){if(0==h)return a.trigger(b,c,d);l.push([b,{type:c,batchNum:n},d])}},keys:function(a){var b=[];q.__reading&&q.__reading(a,"__keys");for(var c in a._data)b.push(c);return b}},{setup:function(b){this._data={};a.cid(this,".observe");this._init=1;this.attr(b);this.bind("change"+this._cid,a.proxy(this._changes,
this));delete this._init},_changes:function(a,b,c,d,e){q.triggerBatch(this,{type:b,batchNum:a.batchNum},[d,e])},attr:function(a,b){var c=typeof a;if("string"!==c&&"number"!==c)return this._attrs(a,b);if(void 0===b)return q.__reading&&q.__reading(this,a),this._get(a);this._set(a,b);return this},each:function(){q.__reading&&q.__reading(this,"__keys");return a.each.apply(void 0,[this.__get()].concat(a.makeArray(arguments)))},removeAttr:function(a){var a=m(a),b=a.shift(),c=this._data[b];if(a.length)return c.removeAttr(a);
b in this._data&&(delete this._data[b],b in this.constructor.prototype||delete this[b],q.triggerBatch(this,"__keys",void 0),q.triggerBatch(this,"change",[b,"remove",void 0,c]),q.triggerBatch(this,b,[void 0,c]));return c},_get:function(a){var a=m(a),b=this.__get(a.shift());return a.length?b?b._get(a):void 0:b},__get:function(a){return a?this._data[a]:this._data},_set:function(a,b){var c=m(a),d=c.shift(),h=this.__get(d);if(e(h)&&c.length)h._set(c,b);else{if(c.length)throw"can.Observe: Object does not exist";
this.__convert&&(b=this.__convert(d,b));h||q.triggerBatch(this,"__keys",void 0);this.__set(d,b,h)}},__set:function(a,c,h){if(c!==h){var g=this.__get().hasOwnProperty(a)?"set":"add";this.___set(a,e(c)?b(c,a,this):c);q.triggerBatch(this,"change",[a,g,c,h]);h&&d([h],this._cid)}},___set:function(a,b){this._data[a]=b;a in this.constructor.prototype||(this[a]=b)},bind:j,unbind:g,serialize:function(){return c(this,"serialize",{})},_attrs:function(b,h){if(void 0===b)return c(this,"attr",{});var b=a.extend(!0,
{},b),g,j=this,l;q.startBatch();this.each(function(c,g,m){l=b[g];void 0===l?h&&j.removeAttr(g):(j.__convert&&(l=j.__convert(g,l)),c!==l&&(c instanceof a.Observe&&l instanceof a.Observe&&d([c],j._cid),l instanceof a.Observe?j._set(g,l):e(c)&&e(l)?c.attr(l,m):c!=l&&j._set(g,l)),delete b[g])});for(g in b)l=b[g],this._set(g,l);q.stopBatch();return this}}),u=[].splice,w=q({setup:function(b,c){this.length=0;a.cid(this,".observe");this._init=1;this.push.apply(this,a.makeArray(b||[]));this.bind("change"+
this._cid,a.proxy(this._changes,this));a.extend(this,c);delete this._init},_changes:function(a,b,c,d,e){~b.indexOf(".")||("add"===c?(q.triggerBatch(this,c,[d,+b]),q.triggerBatch(this,"length",[this.length])):"remove"===c?(q.triggerBatch(this,c,[e,+b]),q.triggerBatch(this,"length",[this.length])):q.triggerBatch(this,c,[d,+b]));q.prototype._changes.apply(this,arguments)},__get:function(a){return a?this[a]:this},___set:function(a,b){this[a]=b;+a>=this.length&&(this.length=+a+1)},serialize:function(){return c(this,
"serialize",[])},splice:function(c,h){var g=a.makeArray(arguments),j;for(j=2;j<g.length;j++){var l=g[j];e(l)&&(g[j]=b(l,"*",this))}void 0===h&&(h=g[1]=this.length-c);j=u.apply(this,g);0<h&&(q.triggerBatch(this,"change",[""+c,"remove",void 0,j]),d(j,this._cid));2<g.length&&q.triggerBatch(this,"change",[""+c,"add",g.slice(2),j]);return j},_attrs:function(b,d){if(void 0===b)return c(this,"attr",[]);b=a.makeArray(b);q.startBatch();this._updateAttrs(b,d);q.stopBatch()},_updateAttrs:function(a,b){for(var c=
Math.min(a.length,this.length),d=0;d<c;d++){var h=this[d],g=a[d];e(h)&&e(g)?h.attr(g,b):h!=g&&this._set(d,g)}a.length>this.length?this.push.apply(this,a.slice(this.length)):a.length<this.length&&b&&this.splice(a.length)}});a.each({push:"length",unshift:0},function(c,d){w.prototype[d]=function(){for(var h=a.makeArray(arguments),g=c?this.length:0,j=0;j<h.length;j++){var l=h[j];e(l)&&(h[j]=b(l,"*",this,this.constructor.Observe,this.constructor))}j=[][d].apply(this,h);(!this.comparator||!h.length)&&q.triggerBatch(this,
"change",[""+g,"add",h,void 0]);return j}});a.each({pop:"length",shift:0},function(b,c){w.prototype[c]=function(){var d=arguments[0]&&a.isArray(arguments[0])?arguments[0]:a.makeArray(arguments),e=b&&this.length?this.length-1:0,d=[][c].apply(this,d);q.triggerBatch(this,"change",[""+e,"remove",void 0,[d]]);d&&d.unbind&&d.unbind("change"+this._cid);return d}});a.extend(w.prototype,{indexOf:function(b){this.attr("length");return a.inArray(b,this)},join:[].join,slice:function(){return new this.constructor(Array.prototype.slice.apply(this,
arguments))},concat:function(){var b=[];a.each(a.makeArray(arguments),function(c,d){b[d]=c instanceof a.Observe.List?c.serialize():c});return new this.constructor(Array.prototype.concat.apply(this.serialize(),b))},forEach:function(b,c){a.each(this,b,c||this)}});q.List=w;q.setup=function(){a.Construct.setup.apply(this,arguments);this.List=q.List({Observe:this},{})};return q});steal.executed("can/observe/observe.js");
steal("can/control","can/control/plugin","ui/position","./dropdown.less",function(){can.Control("ui.Dropdown",{defaults:{position:{my:"left top",at:"left bottom"}}},{init:function(){this.element.addClass("dropdown-menu")},show:function(a){this.element.css({left:0,top:0});this.element.position({my:this.options.position.my,at:this.options.position.at,of:a}).show();this._opener=a;this.element.trigger("shown")},hide:function(){this.element.hide();this.element.trigger("hidden")},toggle:function(a){this.element.is(":visible")?
this.hide():this.show(a)}," hide":"hide"," toggle":function(a,e,d){this.toggle(d)}," show":function(a,e,d){this.show(d)},"{window} click":function(a,e){this._opener&&!$.contains(this.element[0],e.target)&&(!$.contains(this._opener,e.target)&&this._opener!=e.target)&&this.hide()}})});steal.executed("ui/dropdown/dropdown.js");
steal("can/view/ejs",function(a){return a.view.preload("ui_typeahead_views_list_ejs",a.EJS(function(e,d){with(d)with(e){var b=[];b.push(a.view.txt(0,"ul",0,this,function(){var b=[];items.length&&(b.push("\n\t"),b.push(a.view.txt(0,"ul",0,this,function(){for(var b=[],c=0;c<items.length;c++){b.push("\n\t\t");var d=items[c],e=d.group&&(0===c||items[c-1].group!==d.group);b.push("\n\t\t");b.push(a.view.txt(0,"ul",0,this,function(){var b=[];e&&(b.push('\n\t\t\t<li><button disabled class="group">'),b.push(a.view.txt(0,
"button",0,this,function(){return d.group})),b.push('</button><ul class="group-list">\n\t\t'));return b.join("")}));b.push('\n\t\t\t<li><button tab-index="0" class="');b.push(a.view.txt(0,"button","class",this,function(){return d.id}));b.push(" ");b.push(a.view.txt(0,"button","class",this,function(){return selected&&d.id===selected.id?"selected":""}));b.push('" ');b.push(a.view.txt(0,"button",1,this,function(){return d}));b.push("",a.view.pending(),">");b.push(a.view.txt(0,"button",0,this,function(){return d.name}));
b.push("</button></li>\n\t\t");b.push(a.view.txt(0,"ul",0,this,function(){var a=[];e&&a.push("\n\t\t\t</ul></li>\n\t\t");return a.join("")}));b.push("\n\t")}return b.join("")})),b.push("\n"));return b.join("")}));b.push('\n<li class="no-items" style="display:');b.push(a.view.txt(1,"li","style",this,function(){return!items.length?"block":"none"}));b.push('"',a.view.pending(),">");b.push("<button disabled>No items</button></li>\n");return b.join("")}}))});steal.executed("ui/typeahead/views/list.ejs");
module={_orig:window.module,_define:window.define};module.jquery=jQuery;module["can/util"]=can;define=function(a,e,d){module[a]=d()};define.amd={jQuery:!0};
module["jquery/lang/vector/vector.js"]=function(a){var e=function(a){return void 0!==a?this.array[0]=a:this.array[0]},d=function(a){return void 0!==a?this.array[1]=a:this.array[1]};a.Vector=function(b){this.update(a.isArray(b)?b:a.makeArray(arguments))};a.Vector.prototype={app:function(b){var c,d=[];for(c=0;c<this.array.length;c++)d.push(b(this.array[c],c));return new a.Vector(d)},plus:function(){var b,c=arguments[0]instanceof a.Vector?arguments[0].array:a.makeArray(arguments),d=this.array.slice(0),
e=new a.Vector;for(b=0;b<c.length;b++)d[b]=(d[b]?d[b]:0)+c[b];return e.update(d)},minus:function(){var b,c=arguments[0]instanceof a.Vector?arguments[0].array:a.makeArray(arguments),d=this.array.slice(0),e=new a.Vector;for(b=0;b<c.length;b++)d[b]=(d[b]?d[b]:0)-c[b];return e.update(d)},equals:function(){var b,c=arguments[0]instanceof a.Vector?arguments[0].array:a.makeArray(arguments),d=this.array.slice(0),e=new a.Vector;for(b=0;b<c.length;b++)if(d[b]!=c[b])return null;return e.update(d)},x:e,left:e,
width:e,y:d,top:d,height:d,toString:function(){return"("+this.array.join(", ")+")"},update:function(a){var c;if(this.array)for(c=0;c<this.array.length;c++)delete this.array[c];this.array=a;for(c=0;c<a.length;c++)this[c]=this.array[c];return this}};a.Event.prototype.vector=function(){var b="ontouchend"in document&&this.originalEvent.touches&&this.originalEvent.touches.length?this.originalEvent.changedTouches[0]:this;if(this.originalEvent.synthetic){var c=document.documentElement,d=document.body;return new a.Vector(b.clientX+
(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c.clientLeft||0),b.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c.clientTop||0))}return new a.Vector(b.pageX,b.pageY)};a.fn.offsetv=function(){if(this[0]==window)return new a.Vector(window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop);var b=this.offset();return new a.Vector(b.left,b.top)};a.fn.dimensionsv=function(b){return this[0]==window||!b?new a.Vector(this.width(),
this.height()):new a.Vector(this[b+"Width"](),this[b+"Height"]())};return a}(module.jquery);
module["jquery/event/livehack/livehack.js"]=function(a){var e=jQuery.event,d=function(a,c,d,e){var m,n,h,l,r,o,q;for(m=0;m<c.length;m++){n=c[m];(l=0>n.indexOf("."))||(h=n.split("."),n=h.shift(),q=RegExp("(^|\\.)"+h.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)"));h=(a[n]||[]).slice(0);for(r=0;r<h.length;r++)o=h[r],(l||q.test(o.namespace))&&(e?o.selector===e&&d(n,o.origHandler||o.handler):null===e?d(n,o.origHandler||o.handler,o.selector):o.selector||d(n,o.origHandler||o.handler))}};e.find=function(b,
c,e){var b=(a._data(b)||{}).events,j=[];if(!b)return j;d(b,c,function(a,b){j.push(b)},e);return j};e.findBySelector=function(b,c){var e=a._data(b).events,j={};if(!e)return j;d(e,c,function(a,b,c){c=c||"";c=j[c]||(j[c]={});(c[a]||(c[a]=[])).push(b)},null);return j};e.supportTouch="ontouchend"in document;a.fn.respondsTo=function(b){return this.length?0<e.find(this[0],a.isArray(b)?b:[b]).length:!1};a.fn.triggerHandled=function(b,c){b="string"==typeof b?a.Event(b):b;this.trigger(b,c);return b.handled};
e.setupHelper=function(b,c,d){d||(d=c,c=null);var j=function(j){var h=j.selector||"",l=j.namespace?"."+j.namespace:"";h?(j=e.find(this,b,h),j.length||a(this).delegate(h,c+l,d)):e.find(this,b,h).length||e.add(this,c+l,d,{selector:h,delegate:this})},m=function(j){var h=j.selector||"";h?(j=e.find(this,b,h),j.length||a(this).undelegate(h,c,d)):e.find(this,b,h).length||e.remove(this,c,d,{selector:h,delegate:this})};a.each(b,function(){e.special[this]={add:j,remove:m,setup:function(){},teardown:function(){}}})};
return a}(module.jquery);
module["jquery/event/reverse/reverse.js"]=function(a){a.event.reverse=function(e,d){var b=a(),c=0;a.event.special[e]={setup:function(){this!==window&&(b.push(this),a.unique(b));return this!==window},teardown:function(){b=b.not(this);return this!==window},add:function(e){e.origHandler=e.handler;e.handler=function(j,m){var n=this===window;if(!d||!(d.handler&&!0===d.handler.apply(this,arguments)))if(0===c){c++;var h=!1===m?j.target:this;a.event.handle.call(h,j,m);if(!j.isPropagationStopped()){for(var l=b.index(this),
r=b.length,o,q;++l<r&&(o=b[l])&&(n||a.contains(h,o));)if(a.event.handle.call(o,j,m),j.isPropagationStopped())for(;++l<r&&(q=b[l]);)if(!a.contains(o,q)){l--;break}j.stopImmediatePropagation()}c--}else e.origHandler.call(this,j,m)}}};a([document,window]).bind(e,function(){});return a.event.special[e]};return a}(module.jquery);
module["jquery/event/drag/drag.js"]=function(a){a.event.special.move||a.event.reverse("move");var e=function(b,c){var d=Array.prototype.slice.call(arguments,2);return function(){var e=[this].concat(d,a.makeArray(arguments));return c.apply(b,e)}},d=a.event,b=window.getSelection?function(){window.getSelection().removeAllRanges()}:function(){},c="ontouchend"in document,g=c?"touchstart":"mousedown",j=c?"touchend":"mouseup",m=c?"touchmove":"mousemove",n=function(a){a.preventDefault()};a.Drag=function(){};
a.extend(a.Drag,{lowerName:"drag",current:null,distance:0,mousedown:function(b,e){if(!(!(0===b.button||1==b.button)&&!c||this.current)){var g=new a.Drag,j=b.delegateTarget||e,m=b.handleObj.selector,n=this;this.current=g;g.setup({element:e,delegate:b.delegateTarget||e,selector:b.handleObj.selector,moved:!1,_distance:this.distance,callbacks:{dragdown:d.find(j,["dragdown"],m),draginit:d.find(j,["draginit"],m),dragover:d.find(j,["dragover"],m),dragmove:d.find(j,["dragmove"],m),dragout:d.find(j,["dragout"],
m),dragend:d.find(j,["dragend"],m),dragcleanup:d.find(j,["dragcleanup"],m)},destroyed:function(){n.current=null}},b)}}});a.extend(a.Drag.prototype,{setup:function(d,g){a.extend(this,d);this.element=a(this.element);this.event=g;this.allowOtherDrags=this.moved=!1;var r=e(this,this.mousemove),o=e(this,this.mouseup);this._mousemove=r;this._mouseup=o;this._distance=d.distance?d.distance:0;this.mouseStartPosition=g.vector();a(document).bind(m,r);a(document).bind(j,o);c&&a(document).bind(m,n);this.callEvents("down",
this.element,g)||(this.noSelection(this.delegate),b())},destroy:function(){a(document).unbind(m,this._mousemove);a(document).unbind(j,this._mouseup);c&&a(document).unbind(m,n);this.moved||(this.event=this.element=null);c||this.selection(this.delegate);this.destroyed()},mousemove:function(a,b){if(!this.moved){if(Math.sqrt(Math.pow(b.pageX-this.event.pageX,2)+Math.pow(b.pageY-this.event.pageY,2))<this._distance)return!1;this.init(this.element,b);this.moved=!0}this.element.trigger("move",this);var c=
b.vector();(!this._start_position||!this._start_position.equals(c))&&this.draw(c,b)},mouseup:function(a,b){this.moved&&this.end(b);this.destroy()},noSelection:function(b){b=b||this.delegate;document.documentElement.onselectstart=function(){return!1};document.documentElement.unselectable="on";this.selectionDisabled=this.selectionDisabled?this.selectionDisabled.add(b):a(b);this.selectionDisabled.css("-moz-user-select","-moz-none")},selection:function(){this.selectionDisabled&&(document.documentElement.onselectstart=
function(){},document.documentElement.unselectable="off",this.selectionDisabled.css("-moz-user-select",""))},init:function(b,c){var b=a(b),d=this.movingElement=this.element=a(b);this._cancelled=!1;this.event=c;this.mouseElementPosition=this.mouseStartPosition.minus(this.element.offsetv());this.callEvents("init",b,c);!0!==this._cancelled&&(this.startPosition=d!=this.movingElement?this.movingElement.offsetv():this.currentDelta(),this.makePositioned(this.movingElement),this.oldZIndex=this.movingElement.css("zIndex"),
this.movingElement.css("zIndex",1E3),!this._only&&this.constructor.responder&&this.constructor.responder.compile(c,this))},makePositioned:function(a){var b;b=a.css("position");if(!b||"static"==b)b={position:"relative"},window.opera&&(b.top="0px",b.left="0px"),a.css(b)},callEvents:function(a,b,c,d){for(var e=this.callbacks[this.constructor.lowerName+a],a=0;a<e.length;a++)e[a].call(b,c,this,d);return e.length},currentDelta:function(){return new a.Vector(parseInt(this.movingElement.css("left"),10)||
0,parseInt(this.movingElement.css("top"),10)||0)},draw:function(a,c){this._cancelled||(b(),this.location=a.minus(this.mouseElementPosition),this.move(c),this._cancelled||(c.isDefaultPrevented()||this.position(this.location),!this._only&&this.constructor.responder&&this.constructor.responder.show(a,this,c)))},position:function(a){var b=this.currentDelta(),b=this.movingElement.offsetv().minus(b);this.required_css_position=a.minus(b);this.offsetv=a;a=this.movingElement[0].style;!this._cancelled&&!this._horizontal&&
(a.top=this.required_css_position.top()+"px");!this._cancelled&&!this._vertical&&(a.left=this.required_css_position.left()+"px")},move:function(a){this.callEvents("move",this.element,a)},over:function(a,b){this.callEvents("over",this.element,a,b)},out:function(a,b){this.callEvents("out",this.element,a,b)},end:function(a){if(!this._cancelled){!this._only&&this.constructor.responder&&this.constructor.responder.end(a,this);this.callEvents("end",this.element,a);if(this._revert){var b=this;this.movingElement.animate({top:this.startPosition.top()+
"px",left:this.startPosition.left()+"px"},function(){b.cleanup.apply(b,arguments)})}else this.cleanup(a);this.event=null}},cleanup:function(a){this.movingElement.css({zIndex:this.oldZIndex});this.movingElement[0]!==this.element[0]&&!this.movingElement.has(this.element[0]).length&&!this.element.has(this.movingElement[0]).length&&this.movingElement.css({display:"none"});this._removeMovingElement&&this.movingElement.remove();a&&this.callEvents("cleanup",this.element,a);this.movingElement=this.element=
this.event=null},cancel:function(){this._cancelled=!0;!this._only&&this.constructor.responder&&this.constructor.responder.clear(this.event.vector(),this,this.event);this.destroy()},ghost:function(b){var c=this.movingElement.clone().css("position","absolute");b?a(b).append(c):a(this.movingElement).after(c);c.width(this.movingElement.width()).height(this.movingElement.height());c.offset(this.movingElement.offset());this.movingElement=c;this.noSelection(c);this._removeMovingElement=!0;return c},representative:function(b,
c,d){this._offsetX=c||0;this._offsetY=d||0;c=this.mouseStartPosition;this.movingElement=a(b);this.movingElement.css({top:c.y()-this._offsetY+"px",left:c.x()-this._offsetX+"px",display:"block",position:"absolute"}).show();this.noSelection(this.movingElement);this.mouseElementPosition=new a.Vector(this._offsetX,this._offsetY);return this},revert:function(a){this._revert=void 0===a?!0:a;return this},vertical:function(){this._vertical=!0;return this},horizontal:function(){this._horizontal=!0;return this},
only:function(a){return this._only=void 0===a?!0:a},distance:function(a){return void 0!==a?(this._distance=a,this):this._distance}});d.setupHelper("dragdown draginit dragover dragmove dragout dragend dragcleanup".split(" "),g,function(b){a.Drag.mousedown.call(a.Drag,b,this)});return a}(module.jquery,module["jquery/lang/vector/vector.js"],module["jquery/event/livehack/livehack.js"],module["jquery/event/reverse/reverse.js"]);
module["jquery/dom/styles/styles.js"]=function(a){var e=document.defaultView&&document.defaultView.getComputedStyle,d=/([A-Z])/g,b=/-([a-z])/ig,c=function(a,b){return b.toUpperCase()},g=/float/i,j=/^-?\d+(?:px)?$/i,m=/^-?\d/;a.styles=function(a,h){if(!a)return null;var l;l=e?e(a,null):a.currentStyle?a.currentStyle:void 0;for(var r,o,q=a.style,u={},w=0,p,B;w<h.length;w++)(p=h[w],r=p.replace(b,c),g.test(p)&&(p=jQuery.support.cssFloat?"float":"styleFloat",r="cssFloat"),e)?(p=p.replace(d,"-$1").toLowerCase(),
o=l.getPropertyValue(p),"opacity"===p&&""===o&&(o="1"),u[r]=o):(o=p.replace(b,c),u[r]=l[p]||l[o],!j.test(u[r])&&m.test(u[r])&&(p=q.left,B=a.runtimeStyle.left,a.runtimeStyle.left=a.currentStyle.left,q.left="fontSize"===o?"1em":u[r]||0,u[r]=q.pixelLeft+"px",q.left=p,a.runtimeStyle.left=B));return u};a.fn.styles=function(){return a.styles(this[0],a.makeArray(arguments))};return a}(module.jquery);
module["jquery/event/drag/limit/limit.js"]=function(a){a.Drag.prototype.limit=function(d,b){var c=d.styles("borderTopWidth","paddingTop","borderLeftWidth","paddingLeft"),c=new a.Vector(parseInt(c.borderLeftWidth,10)+parseInt(c.paddingLeft,10)||0,parseInt(c.borderTopWidth,10)+parseInt(c.paddingTop,10)||0);this._limit={offset:d.offsetv().plus(c),size:d.dimensionsv(),center:!0===b?"both":b};return this};var e=a.Drag.prototype.position;a.Drag.prototype.position=function(a){if(this._limit){var b=this._limit,
c=b.center&&b.center.toLowerCase(),g=this.movingElement.dimensionsv("outer"),j=c&&"x"!=c?g.height()/2:0,c=c&&"y"!=c?g.width()/2:0,m=b.offset.top(),n=b.offset.left(),h=b.size.height(),b=b.size.width();a.top()+j<m&&a.top(m-j);a.top()+g.height()-j>m+h&&a.top(m+h-g.height()+j);a.left()+c<n&&a.left(n-c);a.left()+g.width()-c>n+b&&a.left(n+b-g.left()+c)}e.call(this,a)};return a}(module.jquery,module["jquery/event/drag/drag.js"],module["jquery/dom/styles/styles.js"]);
module["jquery/event/drag/step/step.js"]=function(a){var e=function(a,b){return Math.round(a/b)*b};a.Drag.prototype.step=function(d,b,c){"number"==typeof d&&(d={x:d,y:d});b=b||a(document.body);this._step=d;var e=b.styles("borderTopWidth","paddingTop","borderLeftWidth","paddingLeft"),d=parseInt(e.borderTopWidth)+parseInt(e.paddingTop),e=parseInt(e.borderLeftWidth)+parseInt(e.paddingLeft);this._step.offset=b.offsetv().plus(e,d);this._step.center=c;return this};(function(){var d=a.Drag.prototype.position;
a.Drag.prototype.position=function(a){if(this._step){var c=this._step,g=c.center&&c.center.toLowerCase(),j=this.movingElement.dimensionsv("outer"),m=c.offset.top()-(g&&"x"!=g?j.height()/2:0),c=c.offset.left()-(g&&"y"!=g?j.width()/2:0);this._step.x&&a.left(Math.round(c+e(a.left()-c,this._step.x)));this._step.y&&a.top(Math.round(m+e(a.top()-m,this._step.y)))}d.call(this,a)}})();return a}(module.jquery,module["jquery/event/drag/drag.js"],module["jquery/dom/styles/styles.js"]);
module["canui/incubator/slider/slider.js"]=function(){can.Control("ui.Slider",{defaults:{min:0,max:10,step:1,contained:!0,val:void 0,orientation:"h",range:!1,animate:!0},dimMap:{h:{outer:"outerWidth",offset:"left",border:"borderLeft",padding:"paddingLeft",dim:"width",pos:"clientX"},v:{outer:"outerHeight",offset:"top",border:"borderTop",padding:"paddingTop",dim:"height",pos:"clientY"}}},{init:function(){this.element.css("position","relative");this.dimMap=this.constructor.dimMap[this.options.orientation];
for(var a in this.options)this.options[a]=can.compute(this.options[a]);this.options.contained&&(this.options.parent=this.element.parent());if(this.options.range())this.element["min"===this.options.range()?"before":"after"]("<div class='slider-fill bar' />");this.on();this.options.val()&&this.updatePosition();this.element.text((this.options.val()||0)+"%")},resize:function(){this.updatePosition()},getDimensions:function(){var a=this.options.max()-this.options.min()+1,e=this.element.parent(),d=this.element[this.dimMap.outer]();
this.dimToMove=e[this.dimMap.dim]()-d;this.dimOfSpot=this.dimToMove/(a-1);a=e.styles(this.dimMap.border,this.dimMap.padding);a=parseInt(a[this.dimMap.border])+parseInt(a[this.dimMap.padding])||0;this.start=e.offset()[this.dimMap.offset]+a-(this.options.contained()?0:Math.round(d/2))},draginit:function(a,e,d){this.getDimensions();d.limit(this.element.parent(),this.options.contained?void 0:this.dimMap.offset).step(this.dimOfSpot,this.element.parent());this.element.addClass("dragging")},dragmove:function(){var a=
this.determineValue();this.lastMove!==a&&(this.element.trigger("changing",a),this.lastMove=a,this.updateRange(Math.round((a-this.options.min())*this.dimOfSpot)))},dragend:function(){this.options.val(this.determineValue());this.element.removeClass("dragging")},determineValue:function(a){a=(a||this.element.offset()[this.dimMap.offset])-this.start;return Math.round(a/this.dimOfSpot)+this.options.min()},updatePosition:function(){this.getDimensions();var a=Math.round((this.options.val()-this.options.min())*
this.dimOfSpot),e={};e[this.dimMap.offset]=a;this.options.animate()?this.element.animate(e,"fast"):(e[this.dimMap.offset]=this.start+a,this.element.offset(e));this.updateRange(a)},updateRange:function(a){if(this.options.range())this.element["min"===this.options.range()?"prev":"next"]()[this.dimMap.dim](a)},val:function(a){void 0!=a&&(a<this.options.min()?a=this.options.min():a>this.options.max()&&(a=this.options.max()));return this.options.val(a)},"{val} change":function(){this.lastMove=this.options.val();
this.updatePosition();this.element.text(this.lastMove+"%");this.element.trigger("changing",this.lastMove).trigger("change",this.lastMove)},"{parent} click":function(a,e){e.srcElement!=this.element[0]&&(this.getDimensions(),this.options.val(this.determineValue(e[this.dimMap.pos])))}})}(module["can/construct/proxy/proxy.js"],module["can/control/control.js"],module["can/observe/compute/compute.js"],module["jquery/event/drag/limit/limit.js"],module["jquery/event/drag/step/step.js"],module["jquery/dom/styles/styles.js"]);
window.define=module._define;window.module=module._orig;steal.executed("ui/slider/slider.js");
steal("jquery","./json",function(a){jQuery.cookie=function(a,d,b){if("undefined"!=typeof d){b=b||{};null===d&&(d="",b.expires=-1);"object"==typeof d&&jQuery.toJSON&&(d=jQuery.toJSON(d));var c="";if(b.expires&&("number"==typeof b.expires||b.expires.toUTCString))"number"==typeof b.expires?(c=new Date,c.setTime(c.getTime()+864E5*b.expires)):c=b.expires,c="; expires="+c.toUTCString();var g=b.path?"; path="+b.path:"",j=b.domain?"; domain="+b.domain:"",b=b.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(d),
c,g,j,b].join("")}else{d=null;if(document.cookie&&""!=document.cookie){b=document.cookie.split(";");for(c=0;c<b.length;c++)if(g=jQuery.trim(b[c]),g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}if(jQuery.evalJSON&&d&&d.match(/^\s*\{/))try{d=jQuery.evalJSON(d)}catch(m){}return d}};return a});steal.executed("util/cookie.js");
steal("jquery",function(a){a.toJSON=function(b,c,d,e){if("object"==typeof JSON&&JSON.stringify)return JSON.stringify(b,c,d);!e&&a.isFunction(c)&&(b=c("",b));"number"==typeof d&&(d="          ".substring(0,d));var d="string"==typeof d?d.substring(0,10):"",m=typeof b;if(null===b)return"null";if(!("undefined"==m||"function"==m)){if("number"==m||"boolean"==m)return b+"";if("string"==m)return a.quoteString(b);if("object"==m){if("function"==typeof b.toJSON)return a.toJSON(b.toJSON(),c,d,!0);if(b.constructor===
Date){d=b.getUTCMonth()+1;10>d&&(d="0"+d);e=b.getUTCDate();10>e&&(e="0"+e);var n=b.getUTCFullYear(),h=b.getUTCHours();10>h&&(h="0"+h);var l=b.getUTCMinutes();10>l&&(l="0"+l);var r=b.getUTCSeconds();10>r&&(r="0"+r);b=b.getUTCMilliseconds();100>b&&(b="0"+b);10>b&&(b="0"+b);return'"'+n+"-"+d+"-"+e+"T"+h+":"+l+":"+r+"."+b+'Z"'}e=a.isFunction(c)?function(a,b){return c(a,b)}:function(a,b){return b};n=d?"\n":"";r=d?" ":"";if(b.constructor===Array){h=[];for(l=0;l<b.length;l++)h.push((a.toJSON(e(l,b[l]),c,
d,!0)||"null").replace(/^/gm,d));return"["+n+h.join(","+n)+n+"]"}var o=[];a.isArray(c)&&(h=a.map(c,function(a){return"string"==typeof a||"number"==typeof a?a+"":null}));for(l in b){var q,m=typeof l;if(!(h&&-1==a.inArray(l+"",h))){if("number"==m)m='"'+l+'"';else if("string"==m)m=a.quoteString(l);else continue;q=a.toJSON(e(l,b[l]),c,d,!0);"undefined"!=typeof q&&o.push((m+":"+r+q).replace(/^/gm,d))}}return"{"+n+o.join(","+n)+n+"}"}}};a.evalJSON=function(a){return"object"==typeof JSON&&JSON.parse?JSON.parse(a):
eval("("+a+")")};a.secureEvalJSON=function(a){if("object"==typeof JSON&&JSON.parse)return JSON.parse(a);var c;c=a.replace(/\\["\\\/bfnrtu]/g,"@");c=c.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");c=c.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(c))return eval("("+a+")");throw new SyntaxError("Error parsing JSON, source is not valid.");};a.quoteString=function(a){return a.match(e)?'"'+a.replace(e,function(a){var b=d[a];if("string"===typeof b)return b;
b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+a+'"'};var e=/["\\\x00-\x1f\x7f-\x9f]/g,d={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}});steal.executed("util/json.js");
steal("can/view/ejs",function(a){return a.view.preload("app_views_login_ejs",a.EJS(function(a,d){with(d)with(a){var b=[];b.push('<form id="login" name="login" autocomplete="off">\n  <fieldset>\n    <ul>\n      <li>\n        <input type="email" class=\'email\' name="name" value="" placeholder="Email" />\n      </li>\n      <li>\n        <input type="password" name="password" class="password" value="" placeholder="Password" />\n      </li>\n      <li class="buttons">\n        <button type="submit" class="btn login-btn">Login</button>\n      </li>\n    </ul>\n  </fieldset>\n</form>\n');return b.join("")}}))});
steal.executed("app/views/login.ejs");
steal("can/view/ejs",function(a){return a.view.preload("app_views_signup_ejs",a.EJS(function(e,d){with(d)with(e){var b=[];b.push('<form id="signup_form" name="signup" autocomplete="off" action="/user" method="POST">\n  <input type="hidden" name="mobile_signup" value="1" />\n  <input type="hidden" name="locale" value="');b.push(a.view.txt(1,"input","value",this,function(){return locale}));b.push('" ',a.view.pending(),"/>");b.push('\n  <fieldset>\n    <ul>\n      <li>\n        <input class=\'start\' type="text" placeholder="');b.push(a.view.txt(1,
"input","placeholder",this,function(){return message("firstName")}));b.push('" name="first_name"',a.view.pending(),"/>");b.push('\n      </li>\n      <li>\n        <input type="text" placeholder="');b.push(a.view.txt(1,"input","placeholder",this,function(){return message("lastName")}));b.push('" name="last_name"',a.view.pending(),"/>");b.push('\n      </li>\n      <li>\n        <input type="email" placeholder="');b.push(a.view.txt(1,"input","placeholder",this,function(){return message("emailInputPlaceholder")}));
b.push('" name="email"',a.view.pending(),"/>");b.push('\n      </li>\n      <li class="last">\n        <input type="password" placeholder="');b.push(a.view.txt(1,"input","placeholder",this,function(){return message("passwordInputPlaceholder")}));b.push('" name="password"',a.view.pending(),"/>");b.push('<br/>\n        <small class="description">');b.push(a.view.txt(1,"small",0,this,function(){return message("passwordHint")}));b.push('</small>\n      </li>\n      <li class="checkbox">\n        <label>\n          <span> ');
b.push(a.view.txt(1,"span",0,this,function(){return message("iAgree")}));b.push("\n            <a target='_blank' href=\"");b.push(a.view.txt(1,"a","href",this,function(){return termsUrl}));b.push('"',a.view.pending(),">");b.push(" ");b.push(a.view.txt(1,"a",0,this,function(){return message("mindjetService")}));b.push(" </a>,\n            <a target='_blank' href=\"");b.push(a.view.txt(1,"a","href",this,function(){return privacyUrl}));b.push('"',a.view.pending(),">");b.push(a.view.txt(1,"a",0,this,
function(){return message("mindjetPrivacy")}));b.push("</a>, &amp;\n            <a target='_blank' href=\"");b.push(a.view.txt(1,"a","href",this,function(){return conditionsUrl}));b.push('"',a.view.pending(),">");b.push(a.view.txt(1,"a",0,this,function(){return message("mindjetConditions")}));b.push('</a>.\n          </span>\n        </label>\n      </li>\n      <li>\n        <div class="buttons">\n          <button id="signup_submit_button" class="big-button">');b.push(a.view.txt(1,"button",0,this,
function(){return message("signUpButton")}));b.push("</button>\n        </div>\n      </li>\n    </ul>\n  </fieldset>\n</form>");return b.join("")}}))});steal.executed("app/views/signup.ejs");
steal("can/view/ejs",function(a){return a.view.preload("app_views_task_ejs",a.EJS(function(e,d){with(d)with(e){var b=[];b.push('<form>\n\t<legend>\n    <div class="profile-pic" style="background-image:url(');b.push(a.view.txt(0,"div","style",this,function(){return task.owner.pictures.size_32_px}));b.push(');"',a.view.pending(),">");b.push('</div>\n    <span class="title-span" id="title" ');b.push(a.view.txt(0,"span",1,this,function(){return function(b){a.$(b).ui_textinput()}}));b.push("",a.view.pending(),
">");b.push(a.view.txt(0,"span",0,this,function(){return this.task.name}));b.push('</span>\n  </legend>\n  <div class="clearfix">\n    <div class="btn-group task-buttons left">\n  \t <button class="btn finish" id="closePreview" type="button">Finish</button>\n     <button class="btn assign" type="button">Assign</button>\n    </div>\n    <div class="task-score right badge" style="background-color:');b.push(a.view.txt(0,"div","style",this,function(){return this.task.scoreColor()}));b.push('" data-title="Task Score" data-content="');
b.push(a.view.txt(0,"div","data-content",this,function(){return a.view.render("//app/views/score_summary",task.score_summary)}));b.push('" ');b.push(a.view.txt(0,"div",1,this,function(){return function(b){a.$(b).ui_popover({parent:parentDom})}}));b.push("",a.view.pending(),">");b.push(a.view.txt(0,"div",0,this,function(){return this.task.score}));b.push('</div>\n  </div>\n\t<label for="assigned">Followers:</label>\n\t<ul class="followers clearfix">\n    ');b.push(a.view.txt(0,"ul",0,this,function(){var b=
[];this.task.followers.length?(b.push("\n      "),b.push(a.view.txt(0,"ul",0,this,function(){for(var b=[],c=0;c<this.task.followers.length;c++){var d=this.task.followers[c];b.push('\n\t\t    <li class="follower"><a href="#" title="');b.push(a.view.txt(0,"a","title",this,function(){return d.name}));b.push('" style="background-image:url(');b.push(a.view.txt(0,"a","style",this,function(){return d.pictures.size_24_px}));b.push(')"',a.view.pending(),">");b.push("</a></li>\n      ")}return b.join("")})),
b.push("\n    ")):b.push('\n      <li class="follower no-followers">No followers</li>\n    ');return b.join("")}));b.push('\n\t\t<li class="add">\n\t\t\t<div class="input-append">\n\t\t\t\t<input type="text" id="followers" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).ui_picker({items:task.followerableUsers(),parent:parentDom})}}));b.push("",a.view.pending(),">");b.push('\n\t\t\t\t<button class="btn btn-small add-btn" title="Add" type="button">\n\t\t\t\t\t<i class="icon-add"></i>\n        \t\t</button>\n        \t</div>\n    \t</li>\n\t</ul>\n\t<label for="assigned">Assigned to:</label>\n\t<input type="text" id="assigned" ');
b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).ui_picker({items:task.assignableUsers(),parent:parentDom,selected:task.owner})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="start_date">Start date:</label>\n  <input type="text" value="');b.push(a.view.txt(0,"input","value",this,function(){return this.task.start_date}));b.push('" autocomplete="off" id="start_date" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).datepicker({parent:parentDom,
format:"mm-dd-yyyy"})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="due_date">Due date:</label>\n  <input type="text" value="');b.push(a.view.txt(0,"input","value",this,function(){return this.task.target_date}));b.push('" autocomplete="off" id="due_date" ');b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).datepicker({parent:parentDom,format:"mm-dd-yyyy"})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="progress">Progress:</label>\n   <div id="status" class="progress">\n      <div id="progress"></div>\n    </div>\n\t<label for="project">Project:</label>\n\t<input type="text" id="project" ');
b.push(a.view.txt(0,"input",1,this,function(){return function(b){a.$(b).ui_typeahead({parent:parentDom,items:user.assignableProjects(),selected:task.project})}}));b.push("",a.view.pending(),">");b.push('\n\t<label for="created_by">Created:</label>\n\t<span id="created_by">');b.push(a.view.txt(0,"span",0,this,function(){return this.task.creator.name}));b.push(' <span class="created-date">');b.push(a.view.txt(0,"span",0,this,function(){return(new Date(this.task.creator.created_at)).toString()}));b.push('</span></span>\n\t<input class="comment" type="text" id="comment" placeholder="Add Comment">\n\t<ul class="comments">\n\t\t');
b.push(a.view.txt(0,"ul",0,this,function(){var b=[];this.task.comments.attr("length")&&(b.push("\n\t\t\t"),b.push(a.view.txt(0,"ul",0,this,function(){for(var b=[],c=0;c<this.task.comments.length;c++){var d=this.task.comments[c];b.push('\n\t\t\t\t<li>\n\t\t\t\t\t<span class="author">');b.push(a.view.txt(0,"span",0,this,function(){return d.user.name}));b.push('</span>\n\t\t\t\t\t<span class="text">');b.push(a.view.txt(0,"span",0,this,function(){return d.text}));b.push("</span>\n\t\t\t\t</li>\n\t\t\t")}return b.join("")})),
b.push("\n\t\t"));return b.join("")}));b.push('\n\t</ul>\n\t<a class="logo" href="http://vision.mindjet.com"><img src="https://raw.github.com/amcdaniel2/opensocial/master/lib/app/images/mj_logo.png" alt="Mindjet" /></a>\n</form>\n');return b.join("")}}))});steal.executed("app/views/task.ejs");
steal("can/view/ejs",function(a){return a.view.preload("app_views_score_summary_ejs",a.EJS(function(e,d){with(d)with(e){var b=[];b.push(a.view.txt(0,"undefined",0,this,function(){var b=[];this.followers&&(b.push("\n\tFollowers: "),b.push(a.view.txt(0,"",0,this,function(){return this.followers.score})),b.push("\n"));return b.join("")}));b.push("<br/>\n");b.push(a.view.txt(0,"undefined",0,this,function(){var b=[];this.hotness&&(b.push("\n\tHotness: "),b.push(a.view.txt(0,"undefined",0,this,function(){return this.hotness.score})),
b.push("\n"));return b.join("")}));return b.join("")}}))});steal.executed("app/views/score_summary.ejs");
steal("can/model","can/model/list").then("app/models/task.js","app/models/project.js","app/models/user/user.js","app/models/comment.js").then("app/models/oauth.js",function(){can.extend(Cohuman.Models.Task.prototype,{assignableUsers:function(){var a=[],e=function(d,b){can.each(d,function(c){$.grep(a,function(a){return a.id===c.id}).length||(c.group=b,a.push(c))})};e(this.user.connections.favorited(),"Favorites");e(this.followers,"On this project");e(this.project.members,"On this project");return a},
followerableUsers:function(){var a=$.grep(this.project.members,this.proxy(function(a){return-1===$.inArray(a,this.followers)}));can.each(this.user.connections,this.proxy(function(e){-1===$.inArray(e,this.followers)&&a.push(e)}));return a}});can.extend(Cohuman.Models.User.prototype,{assignableProjects:function(){return $.map(this.projects,function(a){return a})}})});steal.executed("app/models.js");
steal("can/util","can/observe",function(a){var e=function(b,c,d){var e=new a.Deferred;b.then(function(){var b=a.makeArray(arguments);b[0]=c[d](b[0]);e.resolveWith(e,b)},function(){e.rejectWith(this,arguments)});"function"===typeof b.abort&&(e.abort=function(){return b.abort()});return e},d=0,b=/change.observe\d+/,c=function(b){a.Observe.__reading&&a.Observe.__reading(b,b.constructor.id);return b.__get(b.constructor.id)},g=function(a,b,d,e,g){var j;j=[a.serialize()];var m=a.constructor,n;"destroy"==
b&&j.shift();"create"!==b&&j.unshift(c(a));n=m[b].apply(m,j);j=n.pipe(function(c){a[g||b+"d"](c,n);return a});n.abort&&(j.abort=function(){n.abort()});j.then(d,e);return j},j={create:{url:"_shortName",type:"post"},update:{data:function(b,c){var c=c||{},d=this.id;c[d]&&c[d]!==b&&(c["new"+a.capitalize(b)]=c[d],delete c[d]);c[d]=b;return c},type:"put"},destroy:{type:"delete",data:function(a){var b={};b.id=b[this.id]=a;return b}},findAll:{url:"_shortName"},findOne:{}},m=function(b,c){return function(d){var d=
b.data?b.data.apply(this,arguments):d,e=c||this[b.url||"_url"],g=d,j=b.type||"get",m={};"string"==typeof e?(e=e.split(/\s/),m.url=e.pop(),e.length&&(m.type=e.pop())):a.extend(m,e);m.data="object"==typeof g&&!a.isArray(g)?a.extend(m.data||{},g):g;m.url=a.sub(m.url,m.data,!0);return a.ajax(a.extend({type:j||"post",dataType:"json",success:void 0,error:void 0},m))}};a.Model=a.Observe({fullName:"can.Model",setup:function(b){this.store={};a.Observe.setup.apply(this,arguments);if(a.Model){this.List=n({Observe:this},
{});var c=this,e=a.proxy(this._clean,c);a.each(j,function(d,g){a.isFunction(c[g])||(c[g]=m(d,c[g]));if(c["make"+a.capitalize(g)]){var j=c["make"+a.capitalize(g)](c[g]);a.Construct._overwrite(c,b,g,function(){this._reqs++;var a=j.apply(this,arguments),b=a.then(e,e);b.abort=a.abort;return b})}});if("can.Model"==c.fullName||!c.fullName)c.fullName="Model"+ ++d;this._reqs=0;this._url=this._shortName+"/{"+this.id+"}"}},_ajax:m,_clean:function(a){this._reqs--;if(!this._reqs)for(var b in this.store)this.store[b]._bindings||
delete this.store[b];return a},models:function(b,c){if(b){if(b instanceof this.List)return b;var d=this,e=[],g=c instanceof a.Observe.List?c:new (d.List||n),j=a.isArray(b),m=b instanceof n,m=j?b:m?b.serialize():b.data;0<g.length&&g.splice(0);a.each(m,function(a){e.push(d.model(a))});g.push.apply(g,e);j||a.each(b,function(a,b){"data"!==b&&g.attr(b,a)});return g}},model:function(a){if(a){a instanceof this&&(a=a.serialize());var b=a[this.id],b=b&&this.store[b]?this.store[b].attr(a):new this(a);this._reqs&&
(this.store[a[this.id]]=b);return b}}},{isNew:function(){var a=c(this);return!(a||0===a)},save:function(a,b){return g(this,this.isNew()?"create":"update",a,b)},destroy:function(a,b){return g(this,"destroy",a,b,"destroyed")},bind:function(d){b.test(d)||(this._bindings||(this.constructor.store[c(this)]=this,this._bindings=0),this._bindings++);return a.Observe.prototype.bind.apply(this,arguments)},unbind:function(d){b.test(d)||(this._bindings--,this._bindings||delete this.constructor.store[c(this)]);
return a.Observe.prototype.unbind.apply(this,arguments)},___set:function(b,d){a.Observe.prototype.___set.call(this,b,d);b===this.constructor.id&&this._bindings&&(this.constructor.store[c(this)]=this)}});a.each({makeFindAll:"models",makeFindOne:"model"},function(b,c){a.Model[c]=function(a){return function(c,d,g){c=e(a.call(this,c),this,b);c.then(d,g);return c}}});a.each(["created","updated","destroyed"],function(b){a.Model.prototype[b]=function(c){var d=this.constructor;c&&"object"==typeof c&&this.attr(c.attr?
c.attr():c);a.trigger(this,b);a.trigger(this,"change",b);a.trigger(d,b,this)}});var n=a.Model.List=a.Observe.List({setup:function(){a.Observe.List.prototype.setup.apply(this,arguments);var b=this;this.bind("change",function(a,c){if(/\w+\.destroyed/.test(c)){var d=b.indexOf(a.target);-1!=d&&b.splice(d,1)}})}});return a.Model});steal.executed("can/model/model.js");
steal("can/util","can/model","can/observe/elements",function(a){var e=function(b){return b[0]&&a.isArray(b[0])?b[0]:b[0]instanceof a.Model.List?a.makeArray(b[0]):a.makeArray(b)},d=function(a){return a.__get(a.constructor.id)},b=a.Model._ajax,c={update:{data:function(a,b){return{ids:a,attrs:b}},type:"put"},destroy:{type:"delete"}},g=a.Model.List.setup;a.Model.List.setup=function(){g.apply(this,arguments);var d=this;a.each(c,function(c,e){a.isFunction(d[e])||(d[e]=b(c,d[e]))})};a.extend(a.Model.List.prototype,
{slice:function(){return new this.constructor(Array.prototype.slice.apply(this,arguments))},match:function(a,b){return this.grep(function(c){return c[a]==b})},grep:function(a,b){return new this.constructor($.grep(this,a,b))},get:function(){if(!this.length)return new this.constructor([]);for(var a=[],b=RegExp(this[0].constructor._fullName+"_([^ ]+)"),c,g,l=e(arguments),r=0;r<l.length;r++)(g=l[r].nodeName&&(c=l[r].className.match(b))?this.grep(function(a){return d(a)===c[1]})[0]:this.grep(function(a){return d(a)===
l[r]})[0])&&a.push(g);return new this.constructor(a)},remove:function(a){if(!this.length)return[];for(var b=[],c=RegExp(this[0].constructor._fullName+"_([^ ]+)"),g,a=e(arguments).slice(0),l=0;l<this.length;){for(var r=this[l],o=!1,q=0;q<a.length;q++){var u=a[q].nodeName&&(g=a[q].className.match(c))&&g[1]||("string"==typeof a[q]||"number"==typeof a[q]?a[q]:d(a[q]));if(d(r)==u){b.push.apply(b,this.splice(l,1));a.splice(q,1);o=!0;break}}o||l++}b=new this.constructor(b);b.length&&$([this]).trigger("remove",
[b]);return b},elements:function(a){return $(this.map(function(a){return"."+a.identity()}).join(","),a)},model:function(){return this.constructor.namespace},findAll:function(a,b,c){var d=this;this.model().findAll(a,function(a){d.push.apply(d,a);b&&b(d)},c)},destroy:function(b,c){var e=this.map(d),g=a.makeArray(this),l=this.constructor;e.length?this.constructor.destroy(e).then(function(){a.each(g,function(a){a.destroyed()});b&&b(g)},c):b&&b(new l(g));return this},update:function(b,c,e){var g=this.map(d),
l=this.slice(0,this.length);g.length?this.constructor.update(g,b).then(function(d){var e=$.extend(b,d||{});a.each(l,function(a){a.updated(e)});c&&c(l)},e):c&&c(this);return this},_updateAttrs:function(b,c){function d(a){return a.attr?a.attr(q):a[q]}for(var e=b.length,g,r,o=[],q=this.constructor.id,u=0;u<e;u++)g=b[u],r=null,a.Observe.canMakeObserve(g)&&d(g)&&((r=this.get(d(g))[0])?r.attr(g,c):o.push(g));o.length&&(this.constructor.namespace&&(o=a.makeArray(this.constructor.namespace.models(o))),this.splice.apply(this,
[this.length,0].concat(o)));if(c){var e=this.map(function(a){return d(a)}),w=a.map(b,function(a){return d(a)});a.each(e,$.proxy(function(b){~a.inArray(b,w)||this.remove(b)},this))}}});a.each(["map"],function(b){a.Model.List.prototype[b]=function(a,c){return $[b](this,a,c)}});return a.Model.List});steal.executed("can/model/list/list.js");
steal("./database","can/observe/compute","can/observe/sort","./comment","./attachment",function(){var a=function(a,d,b){this.start=a;this.end=d;this.hexColor=b};a.prototype={contains:function(a){return a>=this.start&&a<=this.end},cssClass:function(){return 40==this.start?"score-40":"score-"+this.start+"-"+this.end}};a.ranges=[new a(0,3,"#13596e"),new a(4,6,"#1c657c"),new a(7,10,"#267289"),new a(11,13,"#2a768e"),new a(14,15,"#32819a"),new a(16,20,"#3787a0"),new a(21,39,"#3d90aa"),new a(40,1E9,"#4397b1")];
Cohuman.Models.Database("Cohuman.Models.Task",{modelFromRecentActivity:function(a){delete a.progress;delete a.state;return this.model(a)},model:function(a){return a.owner instanceof Cohuman.Models.User||a instanceof Cohuman.Models.Task?a:can.Model.model.call(this,a)},models:function(a){a?a.tasks?a=a.tasks:a.project&&a.project.tasks&&(a=a.project.tasks):a=[];return can.Model.models.call(this,a)},create:function(a){a.state="proposed";var d=new can.Deferred,b=Cohuman.Models.Task.model(a);b.attr("score",
b.initialScore());d.resolve(b);$.ajax({type:"post",url:"api://task",data:a,success:function(a){a.task&&(a.task.provisional_id=null,b.attr(a.task),delete Cohuman.Models.Task.store[void 0])},failure:function(){}});return d},findOne:function(a,d){var d=$.extend({cache:!0},d),b=Cohuman.Models.Task.model({id:a.id}),c=new can.Deferred;d.cache&&new Date-b.loadedFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?c.resolve(b):$.ajax({url:"api://task/"+a.id,success:function(a){a=a.task;a.comments&&Cohuman.config.mobile&&
a.comments.reverse();a.comments=Cohuman.Models.Comment.models(a.comments);a.followers=Cohuman.Models.User.models(a.followers);delete a.blocking;delete a.blocked_by;a.loadedFromServerAt=new Date;a.loadedAttachmentsFromServerAt=new Date;b.attr(a);c.resolve(b)}});return c},findAll:function(a){a.connection_id&&(a.owner_id=a.connection_id,delete a.connection_id);a.user_id&&(a.owner_id=a.user_id,delete a.user_id);a.state||(a.state="active");return $.ajax({url:"api://tasks",data:a})},attributes:{id:"number",
attachments:"Cohuman.Models.Attachment.models",comments:"Cohuman.Models.Comment.models",followers:"Cohuman.Models.User.models",owner:"Cohuman.Models.User.model",project:"Cohuman.Models.Project.model",progress:"progress",creator:"Cohuman.Models.User.model"},convert:{progress:function(a){var d=0,b=[0,10,25,35,50,65,75,90,100,100];$.each(b,function(c,g){if(0>=a-Math.floor((b[c+1]+g)/2))return d=g,!1});return d}},findForWeb:function(a){requester.request("/task/"+a.taskId,{httpMethod:"GET",params:{format:"json"},
success:function(a){Cohuman.Models.Task.model(a.task)},bindCallbacksTo:this})}},{init:function(){"undefined"==typeof Workspace&&this.instantiateScore();this.followers||this.attr("followers",Cohuman.Models.User.models([]));void 0!==this.project_id&&!this.project&&this.attr("project",Cohuman.Models.Project.model({id:this.project_id}));this.owner_id&&!this.owner&&this.attr("owner",Cohuman.Models.User.model({id:this.owner_id}));this._super()},setOwner:function(a){var d=this.attr("owner.tasks");d&&(this.attr("owner.task_count",
this.attr("owner.task_count")-1),d.splice(d.indexOf(this),1));if(!isNaN(a.id)&&0<=a.id)return d=Cohuman.Models.User.model({id:a.id}),this.attr("owner",d),d.tasks&&(this.attr("owner.task_count",this.attr("owner.task_count")+1),d.tasks.insertTask(this)),this.update({owner_id:a.id});if(a.addresses)return this.attr("owner",Cohuman.Models.User.model({name:a.addresses[0]})),this.update({addresses:a.addresses})},setProject:function(a){var d=this.attr("project.tasks");d&&(this.attr("project.task_count",this.attr("project.task_count")-
1),d.splice(d.indexOf(this),1));d=Cohuman.Models.Project.model(0==a.id?{id:0,name:"None"}:{id:a.id});this.attr("project",d);0!=d.id&&d.tasks&&(this.attr("project.task_count",this.attr("project.task_count")+1),d.tasks.insertTask(this));return this.update({project_id:a.id})},instantiateScore:function(){this.score_summary&&can.each(this.score_summary,function(a,d){$.isPlainObject(a)&&(this.score_summary[d]=a.score)},this)},scoreColor:function(){var e=this.attr("score"),d;$.each(a.ranges,function(a,c){c.contains(e)&&
(d=c.hexColor)});return d},scoreClass:function(){var e=this.attr("score"),d;$.each(a.ranges,function(a,c){c.contains(e)&&(d=c.cssClass())});return d},canBeFinished:function(){return-1!=["active","proposed","snoozing"].indexOf(this.attr("state"))},cssClasses:function(){return $.grep(["task","closed",this.attr("state"),this.overdueClass(),this.provisionalClass()],function(a){return a}).join(" ")},initialScore:function(){return 5+this.followers.length},scoreTextClass:function(){return this.scoreClass()+
"-text"},overdueClass:function(){return this.attr("target_date")&&new Date(this.attr("target_date"))<new Date?"overdue":""},provisionalClass:function(){return this.attr("provisional_id")?"provisional":""},update:function(a){this.attr(a);return $.ajax({type:"put",url:"api://task/"+this.id,data:a,success:$.proxy(function(d){if(d.task&&("finished"==d.task.state&&(delete d.task.owner_position,delete d.task.project_position,delete d.task.score),this.alreadyUpdating&&delete d.task.progress,this.attr({owner_position:d.task.owner_position,
project_position:d.task.project_position,score:d.task.score}),a.addresses))this.attr("owner",d.task.owner),this.attr("followers").pushNew([this.attr("owner")]),this.constructor.addInvitedToConnections(a.addresses,new Cohuman.Models.User.List([this.attr("owner")]))},this),failure:function(){}})},setTempPosition:function(a,d){var b=d.attr(Cohuman.config.mobile?"tasks":"activeTasks").sorted(d.sortField()),c=b.indexOf(this)-a,g;0<a?(g=0==c?null:b[c-1],c=b[c]):(g=b[c],c=c==b.length-1?null:b[c+1]);b=g?
g.attr(d.sortField()):b[0].attr(d.sortField())-1;g=c?c.attr(d.sortField()):b+1;this.attr(d.sortField(),(b+g)/2)},position:function(a,d){this.setTempPosition(a,d);return $.ajax({type:"put",url:"api://task/"+this.id+"/position",data:{object:d.constructor.shortName.toLowerCase(),object_id:d.id,delta:a}})},destroy:function(){var a=this.id;this.destroyed();$.ajax({type:"put",url:"api://task/"+a,data:{state:"deleted"},success:$.proxy(function(){},this),failure:function(){}})}});Cohuman.Models.Database.List("Cohuman.Models.Task.List",
{},{init:function(){this.sortBy="owner_position"},sorted:new can.compute(function(a){a&&(this.sortBy=a);a=Array.prototype.slice.call(this,0);a.sort(this.proxy(function(a,b){return a[this.sortBy]-b[this.sortBy]}));[].splice.apply(this,[0,this.attr("length")].concat(a));return this}),scrub:function(a){var d=[],b=a.listObject instanceof Cohuman.Models.User?"owner.id":"project.id";this.each(function(c,g){("finished"==c.attr("state")||"tasks"==a.listName&&c.attr(b)!=a.listObject.attr("id"))&&d.push(g)},
this);$.each(d.reverse(),this.proxy(function(a,b){this.splice(b,1)}));return d.length},insertTask:function(a,d){var b=this.sorted(d),c=!1;$.each(b,function(b,j){j.score<=a.score&&(c||(a.silentAttr(d,j[d]),c=!0),j.silentAttr(d,j[d]+1))});this.push(a)},previous:function(a){return this[this.indexOf(a)-1]||!1},next:function(a){return this[this.indexOf(a)+1]||!1},proposed:new can.compute(function(){var a=0;this.attr("length");this.each(function(d){a+="proposed"==d.attr("state")?1:0});return a})})});steal.executed("app/models/task.js");
steal("can/construct/proxy","can/construct/super","can/model","can/model/list","can/observe/attributes",function(a){a.Model("Cohuman.Models.Database",{CACHE_THROTTLE:6E4,provisionalId:function(){for(var a="",d=0;8>d;d++)var b=Math.floor(51*Math.random()),a=a+"ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".substring(b,b+1);return a},addInvitedToConnections:function(a,d){a&&($.isArray(a)||(a=[a]),$.each(d,function(b,c){-1!=a.indexOf(c.email_address)&&(c.favorite=!0,Cohuman.observer.currentUser.connections.push(c))}))}},
{init:function(){this.bind("change",function(a){a.target._saved=!1})},silentAttr:function(a,d){this[a]=d;void 0===this._data&&(this._data={});this._data[a]=d}});a.Model.List("Cohuman.Models.Database.List",{},{silentAttr:Cohuman.Models.Database.prototype.silentAttr,next:function(a){a=this.indexOf(a);return-1===a?void 0:this[a+1]},previous:function(a){a=this.indexOf(a);return-1===a?void 0:this[a-1]},pushNew:function(e){var d=[];$.each(e,a.proxy(function(a,c){-1==this.indexOf(c)?d.push(c):console.log("ignoring "+
c.id)},this));this.splice.apply(this,[this.length,0].concat(d))}})});steal.executed("app/models/database.js");
steal("can/util","can/observe",function(a){a.each([a.Observe,a.Model],function(d){if(void 0!==d){a.extend(d,{attributes:{},convert:{date:function(a){var b=typeof a;return"string"===b?isNaN(Date.parse(a))?null:Date.parse(a):"number"===b?new Date(a):a},number:function(a){return parseFloat(a)},"boolean":function(a){return Boolean("false"===a?0:a)},"default":function(b,d,e,m){var e=a.getObject(m),n=window;0<=m.indexOf(".")&&(m=m.substring(0,m.lastIndexOf(".")),n=a.getObject(m));return"function"==typeof e?
e.call(n,b,d):b}},serialize:{"default":function(a){return isObject(a)&&a.serialize?a.serialize():a},date:function(a){return a&&a.getTime()}}});var b=d.setup;d.setup=function(c,d,e){var m=this;b.call(m,c,d,e);a.each(["attributes"],function(a){if(!m[a]||c[a]===m[a])m[a]={}});a.each(["convert","serialize"],function(b){c[b]!=m[b]&&(m[b]=a.extend({},c[b],m[b]))})}}});var e=a.Observe.prototype.setup;a.Observe.prototype.setup=function(d){var b={};e.call(this,d);a.each(this.constructor.defaults,function(a,
d){this.hasOwnProperty(d)||(b[d]=a)},this);this._init=1;this.attr(b);delete this._init};a.Observe.prototype.__convert=function(a,b){var c=this.constructor,e=this.attr(a),j,m;c.attributes&&(j=c.attributes[a],m=c.convert[j]||c.convert["default"]);return null===b||!j?b:m.call(c,b,e,function(){},j)};a.Observe.prototype.serialize=function(d){var b={},c=this.constructor,e={};void 0!=d?e[d]=this[d]:e=this.__get();a.each(e,function(a,d){var e,g;e=c.attributes?c.attributes[d]:0;g=c.serialize?c.serialize[e]:
0;b[d]=a&&"function"==typeof a.serialize?a.serialize():g?g(a,e):a});return void 0!=d?b[d]:b};return a.Observe});steal.executed("can/observe/attributes/attributes.js");
steal("can/util","can/observe",function(a){var e=a.Observe.List.prototype,d=e._changes,b=e.setup;a.extend(e,{comparator:void 0,sortIndexes:[],sortedIndex:function(a){var b=a.attr(this.comparator),d=0,e;e=0;for(var n=this.length;e<n;e++)if(a===this[e])d=-1;else if(b<=this[e].attr(this.comparator))break;return e+d},sort:function(b,d){var e=this.comparator;[].sort.apply(this,e?[function(a,b){a=a[e];b=b[e];return a===b?0:a<b?-1:1}]:[]);!d&&a.trigger(this,"reset")}});a.each({push:"length",unshift:0},function(b,
d){var e=a.Observe.List.prototype,m=e[d];e[d]=function(){var b=arguments[0]&&a.isArray(arguments[0])?arguments[0]:a.makeArray(arguments),c=m.apply(this,arguments);this.comparator&&b.length&&(this.sort(null,!0),a.Observe.triggerBatch(this,"reset",[b]));return c}});e._changes=function(b,e,j,m,n){if(this.comparator&&/^\d+./.test(e)){var h=+/^\d+/.exec(e)[0],l=this[h],r=this.sortedIndex(l);if(r!==h){[].splice.call(this,h,1);[].splice.call(this,r,0,l);a.trigger(this,"move",[l,r,h]);b.stopImmediatePropagation();
a.trigger(this,"change",[e.replace(/^\d+/,r),j,m,n]);return}}d.apply(this,arguments)};e.setup=function(a,d){b.apply(this,arguments);this.comparator&&this.sort()};return a.Observe});steal.executed("can/observe/sort/sort.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Comment",{create:function(a){var e=new can.Deferred,d=this.model(a);e.resolve(d);$.ajax({type:"post",url:"api://task/"+a.task_id+"/comment",data:a,success:function(a){a.comment&&(d.attr(a.comment),delete Cohuman.Models.Comment.store[void 0])},failure:function(){}});return e},findAll:"GET api://task/{task_id}/comments",model:function(a){if(a instanceof Cohuman.Models.Comment)return a;a.text=can.EJS.Helpers.prototype.superformat(a.text);
return can.Model.model.call(this,a)},models:function(a){return can.Model.models.call(this,a&&a.comments||a)},attributes:{id:"number",user:"Cohuman.Models.User.model",activity:"Cohuman.Models.Activity.model"}},{init:function(){this.user_id&&!this.user&&this.attr("user",Cohuman.Models.User.model({id:this.user_id}));this.task_id&&!this.task&&this.attr("task",Cohuman.Models.Task.model({id:this.task_id}));this._super()},editable:function(a){return this.user.id==a.id},yayerNames:function(){var a=[];this.attr("activity")&&
this.attr("activity").attr("yayers")&&$.each(this.attr("activity").attr("yayers"),function(e,d){a.push(d.name)});return a},canYay:function(a){var e=!0;if(this.user.id==a.id||!this.attr("activity"))return!1;this.attr("activity.yayers")&&$.each(this.attr("activity").attr("yayers"),function(d,b){b.id==a.id&&(e=!1)});return e}});Cohuman.Models.Database.List("Cohuman.Models.Comment.List",{},{})});steal.executed("app/models/comment.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Attachment",{create:function(a){return this._super(a).done(function(e){$.ajax({type:"post",url:"api://task/"+a.task_id+"/attachment",data:a,success:function(a){a.attachment&&(e.id=a.attachment.id,e.updated(a.attachment),delete Cohuman.Models.Attachment.store[void 0],e.save())},failure:function(){}})})},destroy:function(a){return $.ajax({type:"delete",url:"api://task/"+a.task_id+"/attachment/"+a.attachment_id,success:function(){},
failure:function(){}})},findAll:"GET api://task/{task_id}/attachments",findAllProjectAttachments:function(a){var e=Cohuman.Models.Project.model({id:a.project_id}),d=new can.Deferred;new Date-e.attr("loadedAttachmentsFromServerAt")<Cohuman.Models.Database.CACHE_THROTTLE?d.resolve():$.ajax({url:"api://project/"+a.project_id+"/files",success:function(a){a&&e.attr({loadedAttachmentsFromServerAt:new Date,attachments:a});d.resolve()}});return d},models:function(a){return can.Model.models.call(this,a&&a.attachments||
a)},attributes:{id:"number",creator:"Cohuman.Models.User.model"}},{contentTypeClassName:function(){var a=this.attr("content_type");return-1<a.indexOf("image")?"image":-1<a.indexOf("pdf")?"pdf":-1<a.indexOf("document")?"document":-1<a.indexOf("powerpoint")?"powerpoint":-1<a.indexOf("map")?"map":"general"},contentIconClassName:function(){return this.contentTypeClassName()+"-attachment-icon"}});Cohuman.Models.Database.List("Cohuman.Models.Attachment.List",{},{})});steal.executed("app/models/attachment.js");
steal("./database","./post",function(){Cohuman.Models.Database("Cohuman.Models.Project",{PAGE_LENGTH:10,model:function(a){return a.tasks instanceof Cohuman.Models.Task.List||a instanceof Cohuman.Models.Project?a:can.Model.model.call(this,a)},models:function(a){var e=[];a&&a.projects&&(can.each({favorites:"favorite",others:"other"},can.proxy(function(d,b){can.each(a.projects[b],function(a){a.type=d;e.push(a)})},this)),a.projects=e);return can.Model.models.call(this,a&&a.projects||a)},create:function(a){a.default_picture=
!0;var e=this,d=new can.Deferred,b=Cohuman.Models.Project.model(a);d.resolve(b);$.ajax({type:"post",url:"api://project",data:a,success:function(a){e.createSuccess(a,b)},failure:function(){}});return d},createSuccess:function(a,e){a.project&&(a.project.provisional_id=null,e.attr(a.project),delete Cohuman.Models.Project.store[void 0])},destroy:function(a){return $.ajax({type:"delete",url:"api://project/"+a.id,data:{},success:function(){},failure:function(){}})},findAll:"GET api://projects",findOne:function(a){var e=
Cohuman.Models.Project.model({id:a.id}),d=new can.Deferred;0==a.id||new Date-e.loadedFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?d.resolve(e):$.ajax({url:"api://project/"+a.id,success:function(b){b=b.project;b.tasks=b.tasks.slice(0,10);0==e.members.length&&(b.members=Cohuman.Models.User.models(b.members));$.each(b.tasks,function(b,d){d.project={id:+a.id}});delete b.creator;b.loadedFromServerAt=new Date;e.attr(b);d.resolve(e)}});return d},attributes:{id:"number",members:"Cohuman.Models.User.models",
attachments:"Cohuman.Models.Attachment.models",tasks:"Cohuman.Models.Task.models",posts:"Cohuman.Models.Post.models",default_picture:"boolean"}},{init:function(){this.active_task_count||this.silentAttr("active_task_count",0);this.members||this.attr("members",new Cohuman.Models.User.List);this._super()},displayName:function(){return 0==this.attr("id")?can.EJS.Helpers.prototype.message("none"):this.attr("name")},pictureUrl:function(a){return this.default_picture?"":0==this.id?75<a?"background-image: url(./images/icons/Tasks-and-Project/Retina/None-Retina.png);":
"background-image: url(./images/icons/Tasks-and-Project/Retina/None-Small-Retina.png);":"background-image: url("+this.attr("pictures.size_"+a+"_px")+");"},sortField:function(){return"project_position"},percentComplete:can.compute(function(){return this.attr("total_task_count")?Math.round(100*this.attr("finished_task_count")/this.attr("total_task_count")):0}),taskAttachments:new can.compute(function(){var a=this.attr("tasks"),e=new Cohuman.Models.Attachment.List;a&&can.each(a,function(a){(a=a.attr("attachments"))&&
can.each(a,function(a){e.push(a)})});return e}),update:function(a){this.attr(a);return $.ajax({type:"put",url:"api://project/"+this.id,data:a,success:$.proxy(function(a){a.project&&this.attr(a.project)},this),failure:function(){}})}});Cohuman.Models.Database.List("Cohuman.Models.Project.List",{},{init:function(){this.silentAttr("page",1)}})});steal.executed("app/models/project.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Post",{create:function(a){var e=new can.Deferred,d=this.model(a);e.resolve(d);$.ajax({type:"post",url:"api://project/"+a.project_id+"/post",data:a,success:function(a){a.posts&&(a.posts[0].provisional_id=null,d.attr(a.posts[0]),delete Cohuman.Models.Post.store[void 0])},failure:function(){}});return e},findAll:function(a){var e=Cohuman.Models.Project.model({id:a.project_id}),d=new can.Deferred;new Date-e.attr("loadedPostsFromServerAt")<
Cohuman.Models.Database.CACHE_THROTTLE?d.resolve():$.ajax({url:"api://project/"+a.project_id+"/posts",success:function(a){a.posts&&(e.attr({loadedPostsFromServerAt:new Date,posts:a.posts}),d.resolve())}});return d},model:function(a){if(a instanceof Cohuman.Models.Post)return a;a.text=can.EJS.Helpers.prototype.superformat(a.text);return can.Model.model.call(this,a)},models:function(a){return can.Model.models.call(this,a&&a.posts||a)},attributes:{id:"number",user:"Cohuman.Models.User.model",activity:"Cohuman.Models.Activity.model"}},
{init:function(){this.user_id&&!this.user&&this.attr("user",Cohuman.Models.User.model({id:this.user_id}));this._super()}});Cohuman.Models.Database.List("Cohuman.Models.Post.List",{},{})});steal.executed("app/models/post.js");
steal("./../database.js").then("./../project.js","./../activity.js","./../connection.js",function(){Cohuman.Models.Database("Cohuman.Models.User",{PAGE_LENGTH:12,model:function(a){return a.tasks instanceof Cohuman.Models.Task.List||a instanceof Cohuman.Models.User?a:can.Model.model.call(this,a)},models:function(a){if(a instanceof Cohuman.Models.User.List)return a;a=a&&a.cohumans||a;a=this.flattenConnections(a);return can.Model.models.call(this,a)},unwrapJSON:function(a){"string"==typeof a&&(a=JSON.parse(a));
a=a.user;if(a.active_tasks||a.just_added_tasks)a.tasks=a.active_tasks.concat(a.just_added_tasks),delete a.active_tasks,delete a.just_added_tasks;a.connections=this.flattenConnections(a.connections);a.loadedFromServerAt=new Date;return a},flattenConnections:function(a){if(a&&(a.favorites||a.others)){var e=[];can.each(["favorite","other"],function(d){can.each(a[d+"s"],function(a){a.type=d;a.pictures.userId=a.id;e.push(a)})});return e}return a},signup:function(a,e,d){this.loginSignup(a,e,d,"api://user")},
login:function(a,e,d){this.loginSignup(a,e,d,"api://login/mobile")},loginSignup:function(a,e,d,b){$.ajax({url:b,type:"post",data:a}).success(function(b){var d={token:b.access_token.oauth_token,token_secret:b.access_token.oauth_token_secret},j=b.userRefId,m=b.mjSessionId;Cohuman.oauth.attr(d);window.localStorage.setItem("lastLogin",new Date);window.localStorage.setItem("loginEmail",a.email||a.name);window.localStorage.setItem("loginPassword",a.password);window.localStorage.setItem("currentUserId",
b.user.id);window.localStorage.setItem("token",d.token);window.localStorage.setItem("token_secret",d.token_secret);window.localStorage.setItem("userRefId",j);window.localStorage.setItem("mjSessionId",m);d=Cohuman.Models.User.model(Cohuman.Models.User.unwrapJSON(b));d.loadRelationships();e(d,b)}).error(function(a){a=$.parseJSON(a.responseText);d(a)})},findOne:function(a){var e=Cohuman.Models.User.model({id:a.id}),d=new can.Deferred;0==a.id||new Date-e.loadedFromServerAt<Cohuman.Models.Database.CACHE_THROTTLE?
d.resolve(e):$.ajax({url:"api://user"+(a.id?"/"+a.id:""),success:this.proxy(function(a){a=this.unwrapJSON(a);e.attr(a);d.resolve(e)})});return d},findAll:function(a){return $.ajax({type:"GET",url:"api://connections",data:$.extend(a,{limit:this.PAGE_LENGTH})})},attributes:{id:"number",active:"boolean",projects:"Cohuman.Models.Project.models",tasks:"Cohuman.Models.Task.models",activities:"Cohuman.Models.Activity.models",connections:"Cohuman.Models.User.models"}},{init:function(){this.activities||this.attr("activities",
new Cohuman.Models.Activity.List);this._super()},colorClass:function(){return"color_"+(0==this.id%14?14:this.id%14)},displayName:function(){return 0==this.attr("id")?can.EJS.Helpers.prototype.message("nobody"):this.attr("name")},pictureUrl:function(a){return this.default_picture?"":0==this.id?75<a?"background-image: url(./images/icons/Tasks-and-Project/Retina/Nobody-Retina.png);":"background-image: url(./images/icons/Tasks-and-Project/Retina/Nobody-Small-Retina.png);":"background-image: url("+this.attr("pictures.size_"+
a+"_px")+");"},sortField:function(){return"owner_position"},loadRelationships:function(){Cohuman.Models.Project.findAll().done(this.proxy(function(a){this.attr("projects",a)}));Cohuman.Models.Activity.findAll().done(this.proxy(function(a){this.attr("activities",a)}))}});Cohuman.Models.Database.List("Cohuman.Models.User.List",{},{init:function(){this.silentAttr("page",1)},favorited:new can.compute(function(){return this.grep(function(a){return"favorite"==a.attr("type")})}),othered:new can.compute(function(){return this.grep(function(a){return"other"==
a.attr("type")})})})});steal.executed("app/models/user/user.js");
steal("./database",function(){Cohuman.Models.Database("Cohuman.Models.Activity",{PAGE_LENGTH:10,model:function(a){if(a instanceof Cohuman.Models.Activity)return a;a.activity&&"SayYay"!=a.type&&(a=a.activity);a.comment&&(a.comment=can.EJS.Helpers.prototype.superformat(a.comment));a.post&&(a.post=can.EJS.Helpers.prototype.superformat(a.post));return can.Model.model.call(this,a)},models:function(a,e){var d=can.Model.models.call(this,a&&a.relevant_activities||a);e&&d.attr("count",e);return d},findOne:"GET api://activity/{id}",
findAll:function(a){var e={include_project_activity:!0,exclude_user_activity:!0,limit:this.PAGE_LENGTH},d=new can.Deferred;$.ajax({url:"api://activities/relevant",data:$.extend(e,a),success:function(a){d.resolve(Cohuman.Models.Activity.models(a.relevant_activities,a.count))}});return d},findAllSinceLastLogin:function(){var a=window.localStorage.getItem("newestActivityId")||Cohuman.observer.currentUser.attr("activities.0.id"),e={limit:10};a&&(e.newer=a);return this.findAll(e).done(function(a){Cohuman.observer.currentUser.attr("newActivities",
a.attr("count"));if(a.length){var b=Cohuman.observer.currentUser.attr("activities");b.splice.apply(b,[0,b.length].concat(can.makeArray(a)))}})},yay:function(a){if(a.hasClass("disabled"))return!1;a.addClass("disabled");a=a.data("activity");a.yayers.push(Cohuman.observer.currentUser);$.ajax({url:"api://activity/say_yay",type:"POST",data:{activity_id:a.id}});return!1},attributes:{id:"number",actor:"Cohuman.Models.User.model",new_owner:"Cohuman.Models.User.model",old_owner:"Cohuman.Models.User.model",
yayers:"Cohuman.Models.User.models",followers:"Cohuman.Models.User.models",added_members:"Cohuman.Models.User.models",removed_member:"Cohuman.Models.User.models",related_users:"Cohuman.Models.User.models",message_recipients:"Cohuman.Models.User.models",task:"Cohuman.Models.Task.modelFromRecentActivity",project:"Cohuman.Models.Project.model",new_project:"Cohuman.Models.Project.model",old_project:"Cohuman.Models.Project.model",attachment:"Cohuman.Models.Attachment.model",activity:"Cohuman.Models.Activity.model"}},
{canYay:function(a){a||(a=Cohuman.observer.currentUser);return"SayYay"!=this.type&&this.attr("actor.id")!=a.id&&this.attr("yayers")&&-1==this.attr("yayers").indexOf(a)}});Cohuman.Models.Database.List("Cohuman.Models.Activity.List",{},{setup:function(a,e){this._super(a);e&&this.attr("count",e)}})});steal.executed("app/models/activity.js");
steal("./database").then("./task",function(){Cohuman.Models.Database("Cohuman.Models.Connection",{PAGE_LENGTH:12,create:function(a){return this._super(a).done(function(e){$.ajax({type:"post",url:"api://activity/add_cohuman",data:a,success:function(a){a.activity&&(e.updated(a.activity.cohumans[0]),e.save())},failure:function(){}})})},invite:function(a){var e=new can.Deferred,d=this,b=$.map(a,function(a){return{name:a,email_address:a,default_picture:!0,provisionalId:d.provisionalId()}}),c=Cohuman.Models.User.models(b);
e.resolve(c);$.ajax({type:"post",url:"api://invitation",data:{addresses:a,personalized_message:""},success:function(a){this.inviteSuccess(c,a.activity)},context:this});return e},inviteSuccess:function(a,e){e&&can.each(a,function(a){var b=$(e.invitees).filter(function(){return this.email_address==a.email_address}).get(0);b?a.attr(b):a.destroy()})},destroy:function(a){return $.ajax({type:"post",url:"api://activity/remove_cohuman",data:{cohuman_id:a.user_id},success:function(){},failure:function(){}})},
models:function(a){var e=[];a&&a.cohumans&&can.each({favorites:"favorite",others:"other"},function(d,b){can.each(a.cohumans[b],function(a){a.type=d;e.push(a)})});return can.Model.models.call(this,e)},findAll:"GET api://cohumans"},{});Cohuman.Models.Database.List("Cohuman.Models.Connection.List",{},{})});steal.executed("app/models/connection.js");
steal("can/model","lib/2.5.3-crypto-sha1-hmac.js",function(){Cohuman.env={development:{actionUrl:"http://localhost:3000",xmpp:!1,api:{realm:"localhost:3000"}},dev:{visionUrl:"https://wildcat-dev.mindjet.net",actionUrl:"https://action-dev.mindjet.net",mindjetUrl:"https://www-dev.mindjet.net",openFireSuffix:":7070/http-bind/",api:{realm:"api.dev.cohuman.com",key:"0ba45a3ff3abdc81b332972868a235a82c00a910",secret:"19d6076b363c29d5ab47fcafa4cb6aeac029988e",token:"8gG1G8Py72pdkuMqPPeuakYX5QZCkj4N0mWW2OTh",
token_secret:"VYOcu3JxWFV4PSHza5MW3DtXAPWHUG5wFrjTdQNy"},xmpp:!0},qea:{visionUrl:"https://qe-visiona.mindjet.net",actionUrl:"https://action-qa.mindjet.net",mindjetUrl:"https://qe-wwwa.mindjet.net",openFireSuffix:"/xmpp-httpbind",api:{realm:"api.qa.cohuman.com",key:"95ea31dc21ce5d993d141a6dd6787ac31941a82c",secret:"8f741107de30b10e55bd90d80e105212e50b4974",token:"wQOY9wSG0eWJTPM5Ice35EbhdinzueZpDEg9cZuE",token_secret:"ZT3B8qAtl03nJVyIbzQmjMO0r03LFnNjV6TJjKrv"},xmpp:!1},qeb:{visionUrl:"https://qe-visionb.mindjet.net",
actionUrl:"https://action-qeb.mindjet.net",mindjetUrl:"https://qe-wwwb.mindjet.net",openFireSuffix:"/xmpp-httpbind",api:{realm:"api.qeb.cohuman.com",key:"99b8e5012b66ea74a1c5f75f007be0a77847f8ce",secret:"22fd1f4ceca9421286530c975dfecbde19f432d0",token:"GVgHWSJgQWgnvUQ5LPzzrX9VQgIQ1foOIfzEGXzp",token_secret:"ak81bw2LE9zwxpR9fN68YO964t1SpyeAwLlHe55X"},xmpp:!0},production:{visionUrl:"https://vision.mindjet.com",actionUrl:"https://action.mindjet.com",mindjetUrl:"https://www.mindjet.com",openFireSuffix:"/xmpp-httpbind",
api:{realm:"api.cohuman.com",key:"0ba45a3ff3abdc81b332972868a235a82c00a910",secret:"19d6076b363c29d5ab47fcafa4cb6aeac029988e",token:"8gG1G8Py72pdkuMqPPeuakYX5QZCkj4N0mWW2OTh",token_secret:"VYOcu3JxWFV4PSHza5MW3DtXAPWHUG5wFrjTdQNy"}}};can.Model("Cohuman.Models.OAuth",{encodeUTF8:function(a){return unescape(OAuth.percentEncode(a))},decodeUTF8:function(a){return OAuth.percentDecode(escape(a))},getTimestamp:function(){return+new Date/1E3|0},percentEncode:function(){var a=/[!'\(\)\*]/g;return function(e){return encodeURIComponent(e).replace(a,
function(a){return"%"+["0","0"].concat([a.charCodeAt(0).toString(16).toUpperCase()]).join("").slice(-2)})}}(),percentDecode:function(){var a=/%([A-Z0-9]){2}/g;return function d(b){return a.test(b)?d(b.replace(a,function(a){return String.fromCharCode(+("0x"+a.replace("%","")))})):b}}(),getNonce:function(){return can.map([1,1],function(){return Math.random().toString(36).slice(2)}).join("")},getBoundary:function(a){return a.match(/--(.+)(?:--)?(?:\n|\r|\r\n)?/).pop()},normalizeUri:function(){var a=
/[~]/g;return function(e){return e.replace(a,function(a){return"%"+["0","0"].concat([a.charCodeAt(0).toString(16).toUpperCase()]).join("").slice(-2)})}}(),deparam:function(a){if(a){var a=a.split("&"),e={};can.each(a,function(a){a=a.split("=");e[this.percentDecode(a[0])]=this.percentDecode(a[1])},this);return e}},param:function(a){var e=[];can.each(a,function(a,b){e.push(b+"="+encodeURIComponent(a))});return e.join("&")},createHmacSha1:function(a,e){return Crypto.HMAC(Crypto.SHA1,a,e,{asString:!0})},
apiTest:/^api:\//,protocol:"http://",signatureMethod:"HMAC-SHA1",version:"1.0"},{protocol:"http://",signatureMethod:"HMAC-SHA1",version:"1.0",apiTest:/^api:\//,init:function(){this._token=this.token;this._token_secret=this.token_secret},restoreKeys:function(){this.attr({token:this._token,token_secret:this._token_secret})},_getParameters:function(a,e,d,b){a=can.extend(a||{},{oauth_consumer_key:this.key,oauth_token:e,oauth_nonce:d,oauth_timestamp:b,oauth_signature_method:this.signatureMethod,oauth_version:this.version});
return can.map(a,can.proxy(function(a,b){return[b,this.constructor.percentEncode(a)].join("=")},this)).sort().join("&")},_createBaseString:function(a,e,d){return[a.toUpperCase(),this.constructor.percentEncode(e),this.constructor.percentEncode(d)].join("&")},_createKey:function(a){return[this.secret,a||this.token_secret].join("&")},_getAuthorizationHeader:function(a,e,d,b,c){a=can.extend({realm:this.protocol+this.realm+"/",oauth_token:a,oauth_consumer_key:this.key,oauth_signature_method:this.signatureMethod,
oauth_signature:e,oauth_timestamp:d,oauth_nonce:b,oauth_version:this.version},c);return"OAuth "+can.map(a,function(a,b){return[b,'"'+a+'"'].join("=")}).join(", ")},prefilter:function(){can.ajaxSetup({processData:!1});can.ajaxPrefilter(can.proxy(function(a,e,d){a.url&&this.constructor.apiTest.test(a.url)&&((a.data&&(a.data.timestamp=(new Date).getTime(),a.data.format||(a.data.format="json",a.dataType="json")),a.url="http://"+a.url.replace(this.constructor.apiTest,this.realm),Cohuman.config.mobile)?
(e=can.extend({},a.data),this.prepare(a,d),a.data=this.constructor.param(e)):(a.async=!0,a.data||(a.data=this.constructor.param({format:"json"}))))},this))},prepare:function(a,e){var d=this.constructor.getNonce(),b=this.constructor.getTimestamp();this.constructor.protocol.toUpperCase();var c=a.data,g=this.constructor.normalizeUri(a.url),c=this._getParameters(c,this.token,d,b),g=this._createBaseString(a.type||"GET",g,c),c=this._createKey(),g=this.constructor.createHmacSha1(g,c),d=this._getAuthorizationHeader(this.token,
this.constructor.percentEncode(btoa(g)),b,d);e.setRequestHeader("Authorization",d)}})});steal.executed("app/models/oauth.js");
("undefined"==typeof Crypto||!Crypto.util)&&function(){var a=window.Crypto={},e=a.util={rotl:function(a,c){return a<<c|a>>>32-c},rotr:function(a,c){return a<<32-c|a>>>c},endian:function(a){if(a.constructor==Number)return e.rotl(a,8)&16711935|e.rotl(a,24)&4278255360;for(var c=0;c<a.length;c++)a[c]=e.endian(a[c]);return a},randomBytes:function(a){for(var c=[];0<a;a--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(a){for(var c=[],d=0,e=0;d<a.length;d++,e+=8)c[e>>>5]|=(a[d]&255)<<
24-e%32;return c},wordsToBytes:function(a){for(var c=[],d=0;d<32*a.length;d+=8)c.push(a[d>>>5]>>>24-d%32&255);return c},bytesToHex:function(a){for(var c=[],d=0;d<a.length;d++)c.push((a[d]>>>4).toString(16)),c.push((a[d]&15).toString(16));return c.join("")},hexToBytes:function(a){for(var c=[],d=0;d<a.length;d+=2)c.push(parseInt(a.substr(d,2),16));return c},bytesToBase64:function(a){if("function"==typeof btoa)return btoa(d.bytesToString(a));for(var c=[],e=0;e<a.length;e+=3)for(var j=a[e]<<16|a[e+1]<<
8|a[e+2],m=0;4>m;m++)8*e+6*m<=8*a.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(j>>>6*(3-m)&63)):c.push("=");return c.join("")},base64ToBytes:function(a){if("function"==typeof atob)return d.stringToBytes(atob(a));for(var a=a.replace(/[^A-Z0-9+\/]/ig,""),c=[],e=0,j=0;e<a.length;j=++e%4)0!=j&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(e-1))&Math.pow(2,-2*j+8)-1)<<2*j|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(e))>>>
6-2*j);return c}},a=a.charenc={};a.UTF8={stringToBytes:function(a){return d.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(d.bytesToString(a)))}};var d=a.Binary={stringToBytes:function(a){for(var c=[],d=0;d<a.length;d++)c.push(a.charCodeAt(d)&255);return c},bytesToString:function(a){for(var c=[],d=0;d<a.length;d++)c.push(String.fromCharCode(a[d]));return c.join("")}}}();
(function(){var a=Crypto,e=a.util,d=a.charenc,b=d.UTF8,c=d.Binary,g=a.SHA1=function(a,b){var d=e.wordsToBytes(g._sha1(a));return b&&b.asBytes?d:b&&b.asString?c.bytesToString(d):e.bytesToHex(d)};g._sha1=function(a){a.constructor==String&&(a=b.stringToBytes(a));var c=e.bytesToWords(a),d=8*a.length,a=[],g=1732584193,l=-271733879,r=-1732584194,o=271733878,q=-1009589776;c[d>>5]|=128<<24-d%32;c[(d+64>>>9<<4)+15]=d;for(d=0;d<c.length;d+=16){for(var u=g,w=l,p=r,B=o,s=q,v=0;80>v;v++){if(16>v)a[v]=c[d+v];else{var y=
a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=y<<1|y>>>31}y=(g<<5|g>>>27)+q+(a[v]>>>0)+(20>v?(l&r|~l&o)+1518500249:40>v?(l^r^o)+1859775393:60>v?(l&r|l&o|r&o)-1894007588:(l^r^o)-899497514);q=o;o=r;r=l<<30|l>>>2;l=g;g=y}g+=u;l+=w;r+=p;o+=B;q+=s}return[g,l,r,o,q]};g._blocksize=16;g._digestsize=20})();
(function(){var a=Crypto,e=a.util,d=a.charenc,b=d.UTF8,c=d.Binary;a.HMAC=function(a,d,m,n){d.constructor==String&&(d=b.stringToBytes(d));m.constructor==String&&(m=b.stringToBytes(m));m.length>4*a._blocksize&&(m=a(m,{asBytes:!0}));for(var h=m.slice(0),m=m.slice(0),l=0;l<4*a._blocksize;l++)h[l]^=92,m[l]^=54;a=a(h.concat(a(m.concat(d),{asBytes:!0})),{asBytes:!0});return n&&n.asBytes?a:n&&n.asString?c.bytesToString(a):e.bytesToHex(a)}})();steal.executed("util/2.5.3-crypto-sha1-hmac.js");
steal("can/view/ejs",function(){$.extend(can.EJS.Helpers.prototype,{toolTip:function(a){a.qtip({position:{adjust:{screen:!0}},show:{effect:{type:"fade",length:0}},style:{padding:0,background:"#BED6DE",color:"#3d4148",border:{width:0,radius:0,color:"#BED6DE"},tip:!1},hide:{delay:0},api:{onRender:function(){$(this.elements.wrapper).prepend('<div class="ear"></div>').css("overflow","visible")},onPositionUpdate:function(){var a=$(this.elements.tooltip),d=a.offset().left+a.width()-$(window).width();0<
d&&(a.css("left","-="+(d+10)),a.find("div.ear").remove())}}});a.click(function(){$(this).qtip("hide")})},superformat:function(a){a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a=a.linkify();return a.replace(/\n/ig,"<br/>")}});String.linkify||(String.prototype.linkify=function(){return this.replace(/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,'<a target="_blank" href="$&">$&</a>').replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a target="_blank" href="http://$2">$2</a>').replace(/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,
'<a target="_blank" href="mailto:$1">$1</a>')})});steal.executed("app/models/helpers/viewHelpers.js");steal.popPending();
